(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{490:function(e,t,a){e.exports=a(867)},495:function(e,t,a){},867:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(42),l=a.n(c),o=(a(495),a(26)),i=a(27),s=a(29),u=a(28),m=a(30),d=a(899),p=a(898),f=a(499),h=a(50),E=a(66),b=a(110),v=a(214),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.fetchJson;return function(a,n,r){if(a===v.i)return Promise.all(r.ids.map(function(a){return t("".concat(e,"/").concat(n,"/").concat(a),{method:"PATCH",body:JSON.stringify(r.data)})})).then(function(e){return{data:e.map(function(e){return e.json})}});if(a===v.c)return Promise.all(r.ids.map(function(a){return t("".concat(e,"/").concat(n,"/").concat(a),{method:"DELETE"})})).then(function(e){return{data:e.map(function(e){return e.json})}});var c=function(t,a,n){var r="",c={};switch(t){case v.d:var l=n.pagination,o=l.page,i=l.perPage,s=n.sort,u=s.field,m=s.order,d=Object(E.a)({},f.a.flattenObject(n.filter),{_sort:u,_order:m,_page:o,_perPage:i});r="".concat(e,"/").concat(a,"?").concat(Object(b.stringify)(d,{strictNullHandling:!0}));break;case v.g:r="".concat(e,"/").concat(a,"/").concat(n.id);break;case v.f:var p,g=n.pagination,O=g.page,j=g.perPage,y=n.sort,k=y.field,w=y.order,C=Object(E.a)({},f.a.flattenObject(n.filter),(p={},Object(h.a)(p,n.target,n.id),Object(h.a)(p,"_sort",k),Object(h.a)(p,"_order",w),Object(h.a)(p,"_page",O),Object(h.a)(p,"_perPage",j),p));r="".concat(e,"/").concat(a,"?").concat(Object(b.stringify)(C,{strictNullHandling:!0}));break;case v.h:r="".concat(e,"/").concat(a,"/").concat(n.id),c.method="PUT",c.body=JSON.stringify(n.data);break;case v.a:r="".concat(e,"/").concat(a),c.method="POST",c.body=JSON.stringify(n.data);break;case v.b:r="".concat(e,"/").concat(a,"/").concat(n.id),c.method="DELETE";break;case v.e:var _=Object(h.a)({},"id_like",n.ids.filter(function(e){return e}).join("|"));r="".concat(e,"/").concat(a,"?").concat(Object(b.stringify)(_,{strictNullHandling:!0}));break;default:throw new Error("Unsupported fetch action type ".concat(t))}return{url:r,options:c}}(a,n,r),l=c.url,o=c.options;return t(l,o).then(function(e){return function(e,t,a,n){var r=e.headers,c=e.json;switch(t){case v.d:case v.f:if(!r.has("x-total-count"))throw new Error("The X-Total-Count header is missing in the HTTP Response. The jsonServer Data Provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare X-Total-Count in the Access-Control-Expose-Headers header?");return{data:c.data,total:parseInt(r.get("x-total-count").split("/").pop(),10),meta:"meta"in c?c.meta:[]};case v.a:return{data:Object(E.a)({},n.data,{id:c.id})};default:return{data:c.data}}}(e,a,0,r)})}}("https://api.eventjuicer.com/v1/admin",function(e,t){t.headers||(t.headers=new Headers({Accept:"application/json"}));var a=localStorage.getItem("token");return t.headers.set("Authorization","Bearer ".concat(a)),f.a.fetchJson(e,t)}),O=a(314),j=function(e,t){if(O.c,e===O.d){var a=t.username,n=t.password,r=new FormData;r.append("client_id","2"),r.append("grant_type","password"),r.append("scope","*"),r.append("username",a),r.append("password",n);var c=new Request("https://api.eventjuicer.com/oauth/token",{method:"POST",body:r});return fetch(c).then(function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()}).then(function(e){var t=e.access_token;console.log(t),localStorage.setItem("token",t)})}if(e===O.e)return localStorage.removeItem("token"),Promise.resolve();if(e===O.b){var l=t.status;return 401===l||403===l?(localStorage.removeItem("token"),Promise.reject()):Promise.resolve()}if(e===O.a){t.resource;return localStorage.getItem("token")?Promise.resolve():Promise.reject()}return e===O.c?Promise.resolve():Promise.reject("Unkown method")},y="EJ/CHANGE_EVENT",k={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{event:{},message:{subject:"",text:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(E.a)({},e,{event:t.payload});case"EJ/MESSAGE_CREATE":return Object(E.a)({},e,{message:t.payload});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dialog:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EJ/DIALOG_SHOW":return Object(E.a)({},e,{dialog:t.payload});case"EJ/DIALOG_HIDE":return Object(E.a)({},e,{dialog:{}});default:return e}}},w=a(92),C=a.n(w),_=a(7),P=a(461),S=a(14),A=a.n(S),N=function(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(a){return null}},L=[{id:"new",name:"NEW"},{id:"hold",name:"HOLD"},{id:"ok",name:"OK"},{id:"cancelled",name:"CANCELLED"}],T=[{id:"visitor",name:"visitor"},{id:"exhibitor",name:"exhibitor"},{id:"presenter",name:"presenter"},{id:"contestant",name:"contestant"},{id:"representative",name:"representative"}],D=function(e){return t="activeEvent",a=e,localStorage.setItem(t,JSON.stringify(a));var t,a},I=function(){return A()(N("activeEvent"),"id",0)},x=I,W=a(45),H=(a(270),C.a.mark(G)),J=C.a.mark(F),V=C.a.mark(M);function G(e){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.b)(D,e.payload);case 2:case"end":return t.stop()}},H,this)}function F(e){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("companies"!==e.meta.resource){t.next=4;break}return t.next=4,Object(_.f)(Object(W.t)("admins",{page:1,perPage:1e3},{field:"id",order:"ASC"},{event_id:x()}));case 4:case"end":return t.stop()}},J,this)}function M(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([Object(_.j)(y,G)]);case 2:return e.next=4,Object(_.a)([Object(_.j)(W.f,F)]);case 4:case"end":return e.stop()}},V,this)}var R=[M],B=function(e){return{type:y,payload:e}},Q=function(e){return{type:"EJ/DIALOG_SHOW",payload:e}},U=function(){return{type:"EJ/DIALOG_HIDE"}},q=a(6),z=a(46),K=(a(874),a(414)),X=a.n(K),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDialogClose=function(){a.props.onExit()},a.handleConfirm=function(){var e=a.props,t=e.basePath;(0,e.crudUpdateMany)(e.resource,e.selectedIds,{views:0},t),a.props.onExit()},a.showDialog=function(){},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(z.a,{label:"actions.change_status",onClick:this.showDialog},r.a.createElement(X.a,null))}}]),t}(n.Component),$=Object(q.b)(void 0,{crudUpdateMany:W.z})(Y),Z=a(148),ee=a(35),te=a(230),ae=a.n(te),ne=a(112),re=a.n(ne),ce=a(125),le=a.n(ce),oe=a(54),ie=a.n(oe),se=a(124),ue=a.n(se),me=a(96),de=a.n(me),pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.props.templates;var n=t.target.value;a.setState(Object(h.a)({},e,n)),"template_id"===e&&a.setState({subject:"".concat(n," subject"),text:"".concat(n," text")})}},a.state={senderName:"",senderEmail:"",subject:"",text:"",template_id:0},a.onChange=ae()(a.props.createMessage,500),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this.props;(0,e.crudGetList)("templates",{page:1,perPage:1e3},{field:"id",order:"ASC"},{event_id:e.event.id})}},{key:"componentDidUpdate",value:function(e){var t=this.state,a=(t.template_id,Object(ee.a)(t,["template_id"]));this.onChange(a)}},{key:"templates",value:function(){var e=this.props.templates,t=e.data,a=e.list;return!1 in a||!Array.isArray(a.ids)?[]:a.ids.map(function(e){return r.a.createElement(ie.a,{key:t[e].id,value:t[e].id},t[e].name)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ue.a,null,r.a.createElement(le.a,{htmlFor:"age-simple"},"Template"),r.a.createElement(de.a,{value:this.state.template_id,onChange:this.handleChange("template_id")},r.a.createElement(ie.a,{value:0},r.a.createElement("em",null,"None")),this.templates())),r.a.createElement(re.a,{id:"sender",label:"Sender Name",fullWidth:!0,value:this.state.senderName,onChange:this.handleChange("senderName"),margin:"normal"}),r.a.createElement(re.a,{id:"subject",label:"Subject",fullWidth:!0,value:this.state.subject,onChange:this.handleChange("subject"),margin:"normal"}),r.a.createElement(re.a,{id:"content",label:"Content",multiline:!0,fullWidth:!0,rows:"8",rowsMax:"15",value:this.state.text,onChange:this.handleChange("text"),margin:"normal"}))}}]),t}(n.Component);pe.defaultProps={templates:{},event:{}};var fe=Object(q.b)(function(e){return{event:e.app.event,templates:e.admin.resources.templates}},{createMessage:function(e){return{type:"EJ/MESSAGE_CREATE",payload:e}},crudGetList:W.t})(pe),he=a(415),Ee=a.n(he),be=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onQuit=function(){a.props.hideDialog()},a.handleConfirm=function(){var e=a.props,t=e.message,n=e.basePath,r=e.crudCreate,c=e.showNotification,l=e.resource,o=e.selectedIds;if(t){var i=t.subject,s=t.text;t.senderName,t.senderEmail;i.length<10||s.length<10?c("Message too short!","warning"):r("messages",Object(E.a)({resource:l,ids:o},t),n,!1)}},a.showDialog=function(){var e=a.props,t=e.label;(0,e.showDialog)({title:t,content:r.a.createElement(fe,null),onConfirm:a.handleConfirm,onClose:a.onQuit})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.label;return r.a.createElement(z.a,{label:e,onClick:this.showDialog},r.a.createElement(Ee.a,null))}}]),t}(n.Component);be.defaultProps={label:"actions.send_message"};var ve=Object(q.b)(function(e,t){return{message:e.app.message}},{crudCreate:W.p,showNotification:Z.d,showDialog:Q,hideDialog:U})(be),ge=function(e){var t=e.event;Object(ee.a)(e,["event"]);return r.a.createElement("span",null,t&&"name"in t?t.name:"______")};ge.defaultProps={event:{}};Object(q.b)(function(e){return{event:e.app.event}},{})(ge);var Oe=a(900),je=a(869),ye=Object(q.b)(function(e){return{activeEvent:e.app.event}},null)(function(e){e.dispatch;var t=e.activeEvent,a=Object(ee.a)(e,["dispatch","activeEvent"]);return r.a.createElement(je.a,Object.assign({key:t.id},a))}),ke=(a(868),a(137)),we=a(4),Ce=a.n(we),_e=a(106),Pe=a.n(_e),Se=a(224),Ae=a.n(Se),Ne=a(227),Le=a.n(Ne),Te=a(226),De=a.n(Te),Ie=a(225),xe=a.n(Ie),We=a(31),He=a.n(We),Je=a(5),Ve=a(43),Ge=a(229),Fe=a.n(Ge),Me=a(228),Re=a.n(Me),Be=function(e){e.isOpen,e.title;var t,a=e.confirm,n=e.cancel,c=e.confirmColor,l=(e.onConfirm,e.onClose,e.classes),o=(e.fullWidth,e.content,e.dialog),i=e.hideDialog;return r.a.createElement(Ae.a,{open:"title"in o,onClose:function(){"onClose"in o?o.onClose():i()},fullWidth:!0,"aria-labelledby":"alert-dialog-title"},r.a.createElement(xe.a,{id:"alert-dialog-title"},"title"in o?o.title:""),r.a.createElement(De.a,null,"content"in o?o.content:""),r.a.createElement(Le.a,null,r.a.createElement(He.a,{onClick:"onConfirm"in o?o.onConfirm:function(){},className:Ce()("ra-confirm",(t={},Object(h.a)(t,l.confirmWarning,"warning"===c),Object(h.a)(t,l.confirmPrimary,"primary"===c),t)),autoFocus:!0},r.a.createElement(Fe.a,{className:l.iconPaddingStyle}),a),r.a.createElement(He.a,{onClick:function(){"onClose"in o?o.onClose():i()}},r.a.createElement(Re.a,{className:l.iconPaddingStyle}),n)))};Be.defaultProps={cancel:"Cancel",classes:{},confirm:"Confirm",confirmColor:"primary"};var Qe=Pe()(Object(Je.withStyles)(function(e){return{confirmPrimary:{color:e.palette.primary.main},confirmWarning:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(Ve.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}},iconPaddingStyle:{paddingRight:"0.5em"}}}),ke.a,Object(q.b)(function(e){return{dialog:e.ui.dialog}},{hideDialog:U}))(Be),Ue=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,Object.assign({},e,{menu:ye})),r.a.createElement(Qe,null))},qe=a(389),ze=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.children(this.props.activeEventId,{})}}]),t}(r.a.Component),Ke=Object(q.b)(function(e){return{activeEventId:"id"in e.app.event&&e.app.event.id?e.app.event.id:0}},{refreshView:qe.d})(ze),Xe=a(19),Ye=[],$e=a(903),Ze=a(880),et=a(881),tt=a(877),at=a(901),nt=a(902),rt=a(882),ct=a(878),lt=a(883),ot=a(876),it=function(e){return r.a.createElement(ot.a,Object.assign({},e,{choices:[{id:"website",name:"website"},{id:"facebook",name:"facebook"},{id:"linkedin",name:"linkedin"},{id:"event_manager",name:"Event Manager"},{id:"twitter",name:"twitter"}]}))},st=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"buildChoices",value:function(){var e=this.props.admins;return e.list.ids.map(function(t){return{id:e.data[t].id,name:"".concat(e.data[t].fname," ").concat(e.data[t].lname)}})}},{key:"render",value:function(){var e=this.props,t=e.source,a=e.label;return r.a.createElement(tt.a,{source:t,label:a,choices:this.buildChoices()})}}]),t}(r.a.Component);st.defaultProps={};var ut=Object(q.b)(function(e){return{admins:e.admin.resources.admins}},{})(st),mt=function(e){var t=e.classes,a=e.primary,n=e.secondary,c=Object(ee.a)(e,["classes","primary","secondary"]);return r.a.createElement(ct.a,Object.assign({},c,{className:t.name,render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:t.primary},A()(e,a)),r.a.createElement("span",{className:t.secondary},A()(e,n)))}}))};mt.defaultProps={addLabel:!0};var dt=Object(Je.withStyles)({primary:{display:"block",fontSize:"0.92rem"},secondary:{display:"block",color:"#888888"}})(mt),pt=a(90),ft=a.n(pt),ht=a(434),Et=a.n(ht),bt=a(182),vt=a.n(bt),gt=a(181),Ot=a.n(gt),jt=a(244),yt=a.n(jt),kt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.admins,a=e.classes,n=e.selected,c=e.onClick;return r.a.createElement(vt.a,{className:a.root},t.list.ids.map(function(e){return r.a.createElement(Ot.a,{key:e,button:!0,selected:e==n,onClick:function(){return c(e)}},r.a.createElement(ft.a,null,A()(t.data[e],"initials")),r.a.createElement(yt.a,{primary:"".concat(A()(t.data[e],"fname")," ").concat(A()(t.data[e],"lname")),secondary:"."}))}))}}]),t}(r.a.Component);kt.defaultProps={admins:{},selected:0,onClick:function(){}};var wt=Pe()(Object(Je.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}),Object(q.b)(function(e){return{admins:e.admin.resources.admins}},{showDialog:Q,hideDialog:U}))(kt),Ct={avatar:{margin:10,color:"#fff",cursor:"pointer"},adminNotSet:{backgroundColor:"#cccccc"},adminSet:{backgroundColor:Et.a[500]}},_t=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onQuit=function(){a.props.hideDialog()},a.handleConfirm=function(e){var t=a.props,n=t.changeCompanyAdmin,r=t.record,c=t.basePath;n(r.id,{admin_id:e},c),a.onQuit()},a.showAction=function(e){return function(e){var t=a.props,n=t.showDialog,c=(t.label,t.record);n({title:c.slug,content:r.a.createElement("div",null,r.a.createElement(wt,{onClick:a.handleConfirm,selected:c.admin_id})),onClose:a.onQuit})}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.admins,c=t.record;return r.a.createElement(ft.a,{className:Ce()((e={},Object(h.a)(e,a.avatar,!0),Object(h.a)(e,a.adminNotSet,!c.admin_id),Object(h.a)(e,a.adminSet,c.admin_id),e)),onClick:this.showAction()},c.admin_id?A()(n.data[c.admin_id],"initials"):"")}}]),t}(r.a.Component);_t.defaultProps={label:"",record:{},admins:{}};var Pt=Pe()(Object(Je.withStyles)(Ct),Object(q.b)(function(e){return{admins:e.admin.resources.admins}},{showDialog:Q,hideDialog:U,changeCompanyAdmin:function(e,t,a){return{type:"EJ/CHANGE_COMPANY_ADMIN",payload:{id:e,data:t},meta:{fetch:v.h,resource:"companies",refresh:!0}}}}))(_t),St=a(245),At=a.n(St),Nt=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(e){var t=a.props,n=t.record,r=t.resource,c=t.source,l=t.changeResourceFlag,o=t.checkedValue,i=t.unCheckedValue;a.setState({status:e.target.checked},function(){var e=this.state.status;l(r,n.id,Object(h.a)({},c,e?o:i))})}};var n=a.props,r=n.record,c=n.source,l=n.checkedValue;return a.state={status:r[c]==l},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.status,t=this.props.checkedValue;return r.a.createElement(At.a,{checked:!!e,onChange:this.handleChange(),value:t})}}]),t}(r.a.Component);Nt.defaultProps={addLabel:!0,checkedValue:"1",unCheckedValue:"0"};var Lt=Object(q.b)(null,{changeResourceFlag:function(e,t,a,n){return{type:"EJ/CHANGE_RESOURCE_FLAG",payload:{id:t,data:a},meta:{fetch:v.h,resource:e,refresh:!0}}}})(Nt),Tt=a(435),Dt=a.n(Tt),It=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onQuit=function(){(0,a.props.hideDialog)()},a.handleConfirm=function(e){var t=a.props,n=t.basePath;(0,t.bulkChangeCompanyAdmin)(t.selectedIds,{admin_id:e},n),a.onQuit()},a.handleDialog=function(){var e=a.props,t=e.label,n=e.showDialog,c=e.selectedIds;n({title:"".concat(t," ").concat(c.length," records"),content:r.a.createElement("div",null,r.a.createElement(wt,{onClick:a.handleConfirm})),onClose:a.onQuit})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.label;return r.a.createElement(z.a,{label:e,onClick:this.handleDialog},r.a.createElement(Dt.a,null))}}]),t}(r.a.Component);It.defaultProps={selectedIds:[],label:"actions.send_message"};var xt=Object(q.b)(null,{bulkChangeCompanyAdmin:function(e,t,a){return{type:"EJ/BULK_CHANGE_COMPANY_ADMIN",payload:{ids:e,data:t},meta:{fetch:v.i,resource:"companies",refresh:!0,unselectAll:!0}}},showNotification:Z.d,showDialog:Q,hideDialog:U})(It),Wt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,Object.assign({label:"Send e-mail message"},e)),r.a.createElement(xt,Object.assign({label:"Assign an admin"},e)))},Ht=function(e){return r.a.createElement($e.a,e,r.a.createElement(Ze.a,{source:"featured",label:"Featured"}),r.a.createElement(Ze.a,{source:"present",alwaysOn:!0,label:"Present"}),r.a.createElement(et.a,{label:"Search",source:"q"}),r.a.createElement(it,{source:"fields",label:"Field"}),r.a.createElement(ut,{source:"admin_id",label:"Admin"}),r.a.createElement(tt.a,{source:"lang",choices:[{id:"en",name:"en"},{id:"de",name:"de"}]}))},Jt=[],Vt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(at.a,Object.assign({},this.props,{filters:r.a.createElement(Ht,null),filterDefaultValues:{present:!0,featured:!1},filter:{event_id:x()},bulkActionButtons:r.a.createElement(Wt,null),perPage:100}),r.a.createElement(nt.a,null,r.a.createElement(dt,{label:"Name",primary:"profile.name",secondary:"slug"}),r.a.createElement(Pt,{source:"admin_id"}),r.a.createElement(Lt,{source:"featured"}),r.a.createElement(Lt,{source:"promo"}),Jt.map(function(e){return r.a.createElement(rt.a,{key:"_".concat(e),source:e})}),r.a.createElement(rt.a,{source:"profile.lang",label:"Language"}),r.a.createElement(ct.a,{sortBy:"featured",label:"Present",render:function(e){return e.event_ids.indexOf(x())>-1?"tak":"nie"}}),r.a.createElement(lt.a,null)))}}]),t}(r.a.Component),Gt=a(906),Ft=a(887),Mt=a(888),Rt=a(908),Bt=a(889),Qt=a(884),Ut=a(890),qt=a(891),zt=a(59),Kt=a.n(zt),Xt=a(448),Yt=a.n(Xt),$t={ok:{backgroundColor:"#468847",color:"#ffffff"},hold:{backgroundColor:"#f89406",color:"#ffffff"},new:{backgroundColor:"#b94a48",color:"#ffffff"},cancelled:{backgroundColor:"#eaeaea",color:"#999999"},icon:{color:"#ffffff"},highlight:{backgroundColor:"#000000",color:"#ffffff"}},Zt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){return function(e){a.setState({control:"select"})}},a.handleStatusChange=function(e){return function(e){a.setState({status:e.target.value},function(){var e=this.props,t=e.resource,a=e.showNotification,n=e.refreshView,r=e.record,c=this.state.status;g(v.h,t,{id:r.id,data:{status:c}}).then(function(e){e.data;a("participants.status.changed","info"),n()}).catch(function(e){console.error(e),a("Error","warning")})})}},a.handleClose=function(e){return function(e){a.setState({control:"chip"})}},a.state={control:"chip",status:a.props.record.status},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"select",value:function(){var e=this.props,t=e.classes,a=e.record,n=(e.source,Object(ee.a)(e,["classes","record","source"]),this.state.status);return r.a.createElement(de.a,{value:n,onChange:this.handleStatusChange(),onClose:this.handleClose(),classes:{root:t[a.status],selected:t.highlight},open:!0},L.filter(function(e){var t=e.id;return a.status!=t}).map(function(e){var a=e.id,n=e.name;return r.a.createElement(ie.a,{classes:{root:t[a]},key:a,value:a},n)}))}},{key:"chip",value:function(){var e=this.props,t=e.classes,a=e.record,n=e.source;Object(ee.a)(e,["classes","record","source"]),this.state.status;return r.a.createElement(Kt.a,{classes:{root:t[a.status]},label:a[n],clickable:!0,onClick:this.handleClick(),icon:r.a.createElement(Yt.a,{className:t.icon})})}},{key:"render",value:function(){return this[this.state.control]()}}]),t}(r.a.Component),ea=Pe()(Object(Je.withStyles)($t),Object(q.b)(null,{showNotification:Z.d,refreshView:qe.d}))(Zt),ta=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(A()(t,"profile.name")):"")},aa=a(212),na=a(885),ra=a(886),ca={zIndex:2,display:"inline-block",float:"right"},la=function(e){var t=e.basePath,a=e.data;e.resource;return r.a.createElement(aa.a,{style:ca},r.a.createElement(Qt.a,{basePath:t,record:a}),r.a.createElement(na.a,null),r.a.createElement(ra.a,null),r.a.createElement(He.a,{color:"primary",onClick:null},"Custom Action"))},oa=function(e){var t=e.record,a=e.source;return t&&a in t&&function e(t){return Object(P.a)(new Set(e))}(t[a]).map(function(e){return r.a.createElement(Kt.a,{key:e,label:e})})};oa.defaultProps={record:{},addLabel:!0};var ia=function(e){return r.a.createElement(Gt.a,Object.assign({actions:r.a.createElement(la,null),title:r.a.createElement(ta,null)},e),r.a.createElement(Ft.a,null,r.a.createElement(Mt.a,{label:"summary"},r.a.createElement(oa,{source:"roles"}),r.a.createElement(Rt.a,{reference:"companydata",target:"company_id",label:"Profile data"},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"value"}),r.a.createElement(Bt.a,{source:"updated_at"}),r.a.createElement(Qt.a,null)))),r.a.createElement(Mt.a,{label:"related",path:"related"},r.a.createElement(Rt.a,{reference:"related",target:"participant_id",label:"Profile data"},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"value"}),r.a.createElement(Qt.a,null)))),r.a.createElement(Mt.a,{label:"Purchases",path:"purchases"},r.a.createElement(Ut.a,{source:"purchases"},r.a.createElement(nt.a,null,r.a.createElement(Bt.a,{source:"created_at"}),r.a.createElement(ea,{source:"status"}),r.a.createElement(qt.a,{source:"amount"}))),r.a.createElement(Bt.a,{label:"Publication date",source:"published_at"})),r.a.createElement(Mt.a,{label:"comments",path:"comments"},r.a.createElement(Rt.a,{reference:"comments",target:"participant_id",addLabel:!1},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"body"}),r.a.createElement(Bt.a,{source:"created_at"}),r.a.createElement(Qt.a,null))))))},sa=a(893),ua=a(907),ma=function(e){return r.a.createElement($e.a,e,r.a.createElement(et.a,{label:"Search",source:"q",alwaysOn:!0}),r.a.createElement(et.a,{label:"Title",source:"title",defaultValue:"Hello, World!"}),r.a.createElement(tt.a,{source:"status",choices:L,alwaysOn:!0}))},da=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,Object.assign({label:"Change status"},e)),r.a.createElement(ve,Object.assign({label:"Send e-mail message"},e)))},pa=function(e){var t=e.record,a=(e.basePath,Object(ee.a)(e,["record","basePath"]));return r.a.createElement(lt.a,Object.assign({},a,{basePath:"/participants",record:Object(E.a)({},t,{id:t.participant_id})}))},fa=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(at.a,Object.assign({bulkActionButtons:r.a.createElement(da,null)},e,{perPage:50,filters:r.a.createElement(ma,null),filter:{event_id:t}}),r.a.createElement(nt.a,null,r.a.createElement(ea,{source:"status"}),r.a.createElement(rt.a,{source:"email"}),r.a.createElement(Bt.a,{source:"created_at",showTime:!0}),r.a.createElement(qt.a,{source:"amount",textAlign:"right"}),r.a.createElement(ua.a,{label:"Company",reference:"companies",source:"company_id",linkType:"show"},r.a.createElement(sa.a,{source:"slug",sortable:!1})),r.a.createElement(pa,null)))})},ha=a(895),Ea=a(909),ba=a(894),va=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this.props;(0,e.crudGetList)("tickets",{page:1,perPage:1e3},{field:"id",order:"ASC"},{event_id:e.event.id})}},{key:"buildTicketList",value:function(){var e=this.props.tickets,t=e.data,a=e.list;return!1 in a||!Array.isArray(a.ids)?[]:a.ids.map(function(e){return{id:t[e].id,name:t[e].name}})}},{key:"render",value:function(){var e=this.props,t=e.source,a=e.allowEmpty;return r.a.createElement(tt.a,{source:t,allowEmpty:a,choices:this.buildTicketList()})}}]),t}(r.a.Component);va.defaultProps={tickets:{},event:{}};var ga=Object(q.b)(function(e){return{event:e.app.event,tickets:e.admin.resources.tickets}},{crudGetList:W.t})(va),Oa=function(e){return r.a.createElement($e.a,e,r.a.createElement(et.a,{label:"Search",source:"q",alwaysOn:!0}),r.a.createElement(ga,{source:"ticket_id",alwaysOn:!0,allowEmpty:!0}),r.a.createElement(tt.a,{source:"role",choices:T,alwaysOn:!0,allowEmpty:!0}))},ja=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,Object.assign({label:"Change status"},e)),r.a.createElement(ve,Object.assign({label:"Send e-mail message"},e)))},ya=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(at.a,Object.assign({},e,{perPage:100,filters:r.a.createElement(Oa,null),filter:{event_id:t},bulkActionButtons:r.a.createElement(ja,null)}),r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"email"}),r.a.createElement(Bt.a,{source:"created_at",showTime:!0}),r.a.createElement(rt.a,{source:"status"}),r.a.createElement(Ea.a,{label:"Roles",reference:"tickets",source:"ticket_ids"},r.a.createElement(ba.a,null,r.a.createElement(ct.a,{render:function(e){return e.role?r.a.createElement(sa.a,{source:"role",record:e}):r.a.createElement("span",null)}}))),r.a.createElement(rt.a,{source:"lang"}),r.a.createElement(lt.a,null),r.a.createElement(ha.a,null)))})},ka=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(A()(t,"fields.fname")," ").concat(A()(t,"fields.lname")," ").concat(t.email):"")},wa=function(e){var t=e.record;return r.a.createElement("div",null,t&&"roles"in t&&t.roles.map(function(e){return r.a.createElement(Kt.a,{key:e,label:e})}))};wa.defaultProps={addLabel:!0};var Ca=function(e){e.resource;var t=Object(ee.a)(e,["resource"]);return r.a.createElement(ea,Object.assign({},t,{resource:"purchases"}))},_a=function(e){return r.a.createElement(Gt.a,Object.assign({title:r.a.createElement(ka,null)},e),r.a.createElement(Ft.a,null,r.a.createElement(Mt.a,{label:"summary"},r.a.createElement(wa,{source:"roles"}),r.a.createElement(rt.a,{source:"id"}),r.a.createElement(rt.a,{source:"token"}),r.a.createElement(Rt.a,{reference:"fields",target:"participant_id",label:"Profile data"},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"value"}),r.a.createElement(Qt.a,null))),r.a.createElement(rt.a,{source:"title"}),r.a.createElement(rt.a,{source:"teaser"})),r.a.createElement(Mt.a,{label:"related",path:"related"},r.a.createElement(Rt.a,{reference:"related",target:"participant_id",label:"Profile data"},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"value"}),r.a.createElement(Qt.a,null)))),r.a.createElement(Mt.a,{label:"Purchases",path:"purchases"},r.a.createElement(Ut.a,{source:"purchases"},r.a.createElement(nt.a,null,r.a.createElement(Bt.a,{source:"created_at"}),r.a.createElement(Ca,{source:"status"}),r.a.createElement(qt.a,{source:"amount"}))),r.a.createElement(rt.a,{label:"Password (if protected post)",source:"password",type:"password"}),r.a.createElement(Bt.a,{label:"Publication date",source:"published_at"}),r.a.createElement(rt.a,{label:"Nb views",source:"views"})),r.a.createElement(Mt.a,{label:"comments",path:"comments"},r.a.createElement(Rt.a,{reference:"comments",target:"participant_id",addLabel:!1},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"body"}),r.a.createElement(Bt.a,{source:"created_at"}),r.a.createElement(Qt.a,null))))))},Pa=a(161),Sa=a.n(Pa),Aa=function(e){e.basePath;var t=e.label,a=void 0===t?"ra.action.show":t,n=e.record,c=void 0===n?{}:n,l=Object(ee.a)(e,["basePath","label","record"]);return r.a.createElement(z.a,Object.assign({component:Xe.a,to:{pathname:"participants",search:Object(b.stringify)({filter:JSON.stringify({ticket_id:c.id})},{strictNullHandling:!0})},label:a},l),r.a.createElement(Sa.a,null))},Na=function(e){return r.a.createElement($e.a,e,r.a.createElement(et.a,{label:"Search",source:"q",alwaysOn:!0}),r.a.createElement(et.a,{label:"Title",source:"title",defaultValue:"Hello, World!"}),r.a.createElement(tt.a,{source:"tag",choices:[{id:"programming",name:"Programming"},{id:"lifestyle",name:"Lifestyle"},{id:"photography",name:"Photography"}]}))},La=function(e){var t=e.record;return r.a.createElement("ul",null,t.tags.map(function(e){return r.a.createElement("li",{key:e.name},e.name)}))};La.defaultProps={addLabel:!0};var Ta=La,Da=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(at.a,Object.assign({},e,{perPage:100,filters:r.a.createElement(Na,null),filter:{event_id:t}}),r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(ct.a,{label:"role",render:function(e){return e.role?r.a.createElement(sa.a,{record:e,source:"role"}):r.a.createElement("span",null,"not set")}}),r.a.createElement(Ta,{source:"tags"}),r.a.createElement(Bt.a,{source:"start",showTime:!0}),r.a.createElement(Bt.a,{source:"end",showTime:!0}),r.a.createElement(rt.a,{source:"price"}),r.a.createElement(qt.a,{source:"limit"}),r.a.createElement(Aa,{label:"Show Participants"}),r.a.createElement(Qt.a,null)))})},Ia=a(905),xa=a(904),Wa=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(A()(t,"fields.fname")," ").concat(A()(t,"fields.lname")," ").concat(t.email):"")},Ha=function(e,t,a){return"/companies/".concat(a.company_id,"/show")},Ja=function(e){return r.a.createElement(Ia.a,Object.assign({title:r.a.createElement(Wa,null)},e),r.a.createElement(xa.a,{redirect:Ha},r.a.createElement(et.a,{source:"value"})))},Va=a(896),Ga=function(e){var t=e.record;return r.a.createElement("ul",null,t.tags.map(function(e){return r.a.createElement("li",{key:e.name},e.name)}))};Ga.defaultProps={addLabel:!0};var Fa=function(e){var t=e.record,a=Object(ee.a)(e,["record"]);return r.a.createElement(sa.a,Object.assign({style:{backgroundColor:t.booth.bgcolor,color:t.booth.fontcolor},record:t},a))};Fa.defaultProps={addLabel:!0};var Ma=function(e){return r.a.createElement(at.a,Object.assign({},e,{perPage:100,filter:{event_id:x()}}),r.a.createElement(nt.a,null,r.a.createElement(Fa,{source:"name"}),r.a.createElement(Ga,{source:"tags"}),r.a.createElement(qt.a,{source:"limit"}),r.a.createElement(Rt.a,{label:"Assigned tickets",reference:"tickets",target:"ticket_group_id"},r.a.createElement(Va.a,{primaryText:function(e){return e.name},secondaryText:function(e){return"".concat(e.start," - ").concat(e.end)},tertiaryText:function(e){return"".concat(e.price," (").concat(e.limit,")")}})),r.a.createElement(Qt.a,null)))},Ra=function(e){var t=e.activeEventId,a=(e.classes,e.record),n=Object(ee.a)(e,["activeEventId","classes","record"]);return a.active_event.id==t?r.a.createElement(sa.a,Object.assign({record:a},n)):r.a.createElement(rt.a,Object.assign({record:a},n))};Ra.defaultProps={addLabel:!0};var Ba=Ra,Qa=function(e){e.basePath;var t=e.label,a=void 0===t?"ra.action.show":t,n=e.record,c=void 0===n?{}:n,l=Object(ee.a)(e,["basePath","label","record"]);return r.a.createElement(z.a,Object.assign({component:Xe.a,to:{pathname:"events",search:Object(b.stringify)({filter:JSON.stringify({group_id:c.id})},{strictNullHandling:!0})},label:a},l),r.a.createElement(Sa.a,null))},Ua=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"nothing here..."))},qa=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(at.a,Object.assign({actions:null,bulkActionButtons:r.a.createElement(Ua,null)},e,{perPage:200}),r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"id"}),r.a.createElement(rt.a,{source:"name"}),r.a.createElement(Ba,{label:"Active event",source:"active_event.name",activeEventId:t}),r.a.createElement(Qa,{label:"Show events"}),r.a.createElement(lt.a,{label:"Details"})))})},za=a(897),Ka=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(t.name," events"):"")},Xa=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(Gt.a,Object.assign({title:r.a.createElement(Ka,null)},e),r.a.createElement(za.a,null,r.a.createElement(Ut.a,{source:"events"},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"loc"}),r.a.createElement(Bt.a,{source:"starts",showTime:!0}),r.a.createElement(Bt.a,{source:"ends",showTime:!0})))))})},Ya=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=a.props,t=e.record,n=e.showNotification,r=e.refreshView,c=e.changeEvent;g(v.g,"events",{id:t.id}).then(function(e){var t=e.data;c(t),n("Event changed!","info"),r()}).catch(function(e){console.error(e),n("Error when updating...","warning")})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.labelSelected,n=e.record,c=e.activeEventId;return!n||!1 in n||!n.id?null:r.a.createElement(He.a,{disabled:n.id===c,variant:n.id===c?"raised":"flat",color:"primary",onClick:this.handleClick},n.id===c?a:t)}}]),t}(n.Component);Ya.defaultProps={label:"Select",labelSelected:"Selected",activeEventId:0};var $a=Object(q.b)(null,{showNotification:Z.d,refreshView:qe.d,changeEvent:B})(Ya),Za=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.crudGetList("groups",{page:1,perPage:1e3},{field:"id",order:"ASC"},{})}},{key:"choices",value:function(){var e=this.props.groups,t=e.data,a=e.list;return!1 in a||!Array.isArray(a.ids)?[]:a.ids.map(function(e){return{id:t[e].id,name:t[e].name}})}},{key:"render",value:function(){return r.a.createElement(tt.a,{source:"group_id",choices:this.choices()})}}]),t}(r.a.Component);Za.defaultProps={groups:{},event:{}};var en=Object(q.b)(function(e){return{event:e.app.event,groups:e.admin.resources.groups}},{crudGetList:W.t})(Za),tn=function(e){return r.a.createElement($e.a,e,r.a.createElement(en,{alwaysOn:!0}))},an=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=a.props,t=e.groupId;e.showNotification,e.refreshView,e.changeEvent;alert(t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label;e.labelSelected,e.groupId;return r.a.createElement(He.a,{color:"primary",onClick:this.handleClick},t)}}]),t}(n.Component);an.defaultProps={label:"Select All",labelSelected:"Selected",groupId:0};var nn=Object(q.b)(null,{showNotification:Z.d,refreshView:qe.d,changeEvent:B})(an),rn=function(e){var t=e.classes,a=e.record,n=Object(ee.a)(e,["classes","record"]);return r.a.createElement(rt.a,Object.assign({className:a.is_active?t.active:t.notActive,record:a},n))};rn.defaultProps={addLabel:!0};var cn=Object(Je.withStyles)({active:{fontWeight:700},notActive:{}})(rn),ln=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(nn,e))},on=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(at.a,Object.assign({actions:null,filters:r.a.createElement(tn,null),bulkActionButtons:r.a.createElement(ln,null)},e,{perPage:200}),r.a.createElement(nt.a,null,r.a.createElement(cn,{source:"name"}),r.a.createElement(rt.a,{source:"loc"}),r.a.createElement(Bt.a,{source:"starts",showTime:!0}),r.a.createElement(ua.a,{label:"Items sold",reference:"performance",source:"id",linkType:!1},r.a.createElement(sa.a,{source:"amount",sortable:!1})),r.a.createElement($a,{activeEventId:t}),r.a.createElement(lt.a,{label:"Summary"})))})},sn=a(255),un=a.n(sn),mn=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){console.log(a.props);var e=a.props,t=e.record,n=e.showNotification,r=e.refreshView,c=e.resource;g(v.h,c,{id:t.group_id,data:{active_event_id:t.id}}).then(function(e){e.data;n("Active event changed!","info"),r()}).catch(function(e){console.error(e),n("Error","warning")})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.label,a=e.labelSelected,n=!!+e.record.is_active;return r.a.createElement(He.a,{disabled:n,variant:n?"raised":"outlined",color:"primary",onClick:this.handleClick},n?a:t)}}]),t}(n.Component);mn.defaultProps={label:"Set Active",labelSelected:"Active",id:0};Object(q.b)(null,{showNotification:Z.d,refreshView:qe.d})(mn);var dn=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(t.name):"")},pn=function(e){var t=e.basePath;Object(ee.a)(e,["basePath"]);return r.a.createElement(un.a,null,r.a.createElement(ra.a,{basePath:t}))},fn=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(Gt.a,Object.assign({title:r.a.createElement(dn,null),actions:r.a.createElement(pn,{activeEventId:t})},e),r.a.createElement(za.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"loc"}),r.a.createElement(rt.a,{source:"starts",showTime:!0}),r.a.createElement(rt.a,{source:"ends",showTime:!0})))})},hn=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(A()(t,"company.profile.name")):null)},En=function(e,t,a){return"/companies/".concat(a.company_id,"/show")},bn=function(e){return r.a.createElement(Ia.a,Object.assign({title:r.a.createElement(hn,null)},e),r.a.createElement(xa.a,{redirect:En},r.a.createElement(rt.a,{source:"name"}),r.a.createElement(et.a,{source:"value"})))},vn=function(e){var t=e.record;return r.a.createElement("span",null,t?t.value:"")},gn=function(e){return r.a.createElement(Gt.a,Object.assign({title:r.a.createElement(vn,null)},e),r.a.createElement(rt.a,{source:"value"}))},On=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(A()(t,"participant.email")):"")},jn=function(e,t,a){return"/participants/".concat(a.participant_id,"/show")},yn=function(e){return r.a.createElement(Ia.a,Object.assign({title:r.a.createElement(On,null)},e),r.a.createElement(xa.a,{redirect:jn},r.a.createElement(rt.a,{source:"name"}),r.a.createElement(et.a,{source:"value"})))},kn=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.crudGetList("tickets",{page:1,perPage:100},{field:"id",order:"ASC"},{event_id:this.props.event.id})}},{key:"buildTicketList",value:function(){var e=this.props.tickets,t=e.data,a=e.list;return!1 in a||!Array.isArray(a.ids)?[]:a.ids.map(function(e){return{id:t[e].id,name:t[e].name}})}},{key:"render",value:function(){return r.a.createElement(tt.a,{source:"ticket_id",choices:this.buildTicketList()})}}]),t}(r.a.Component);kn.defaultProps={tickets:{},event:{}};var wn=Object(q.b)(function(e){return{event:e.app.event,tickets:e.admin.resources.tickets}},{crudGetList:W.t})(kn),Cn=function(e){return r.a.createElement($e.a,e,r.a.createElement(et.a,{label:"Search",source:"q",alwaysOn:!0}),r.a.createElement(et.a,{label:"Title",source:"title",defaultValue:"Hello, World!"}),r.a.createElement(wn,{alwaysOn:!0}),r.a.createElement(tt.a,{source:"tag",choices:[{id:"programming",name:"Programming"},{id:"lifestyle",name:"Lifestyle"},{id:"photography",name:"Photography"}]}))},_n=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,Object.assign({label:"Change status"},e)),r.a.createElement(ve,Object.assign({label:"Send e-mail message"},e)))},Pn=function(e){return r.a.createElement(Ke,null,function(t){return r.a.createElement(at.a,Object.assign({},e,{perPage:100,filters:r.a.createElement(Cn,null),filter:{event_id:t},bulkActionButtons:r.a.createElement(_n,null)}),r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"email"}),r.a.createElement(rt.a,{source:"status"}),r.a.createElement(Ea.a,{label:"Roles",reference:"tickets",source:"ticket_ids"},r.a.createElement(ba.a,null,r.a.createElement(sa.a,{source:"role"}))),r.a.createElement(Bt.a,{source:"created_at",showTime:!0}),r.a.createElement(rt.a,{source:"amount"}),r.a.createElement(lt.a,null)))})},Sn=function(e){var t=e.record;return r.a.createElement("span",null,t?"".concat(A()(t,"fields.fname")," ").concat(A()(t,"fields.lname")," ").concat(t.email):"")},An=function(e){var t=e.record;return r.a.createElement("div",null,t&&"roles"in t&&t.roles.map(function(e){return r.a.createElement(Kt.a,{key:e,label:e})}))};An.defaultProps={addLabel:!0};var Nn=function(e){e.record;return null};Nn.defaultProps={addLabel:!0};var Ln=function(e){return r.a.createElement(Gt.a,Object.assign({title:r.a.createElement(Sn,null)},e),r.a.createElement(Ft.a,null,r.a.createElement(Mt.a,{label:"summary"},r.a.createElement(An,{source:"roles"}),r.a.createElement(Rt.a,{reference:"fields",target:"participant_id",label:"Profile data"},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"value"}),r.a.createElement(Qt.a,null))),r.a.createElement(Nn,{source:"fields"}),r.a.createElement(rt.a,{label:"Id",source:"id"}),r.a.createElement(rt.a,{source:"title"}),r.a.createElement(rt.a,{source:"teaser"})),r.a.createElement(Mt.a,{label:"related",path:"related"},r.a.createElement(Rt.a,{reference:"related",target:"participant_id",label:"Profile data"},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"name"}),r.a.createElement(rt.a,{source:"value"}),r.a.createElement(Qt.a,null)))),r.a.createElement(Mt.a,{label:"Purchases",path:"purchases"},r.a.createElement(Ut.a,{source:"purchases"},r.a.createElement(nt.a,null,r.a.createElement(Bt.a,{source:"created_at"}),r.a.createElement(ea,{source:"status"}),r.a.createElement(qt.a,{source:"amount"}))),r.a.createElement(rt.a,{label:"Password (if protected post)",source:"password",type:"password"}),r.a.createElement(Bt.a,{label:"Publication date",source:"published_at"}),r.a.createElement(rt.a,{label:"Nb views",source:"views"})),r.a.createElement(Mt.a,{label:"comments",path:"comments"},r.a.createElement(Rt.a,{reference:"comments",target:"participant_id",addLabel:!1},r.a.createElement(nt.a,null,r.a.createElement(rt.a,{source:"body"}),r.a.createElement(Bt.a,{source:"created_at"}),r.a.createElement(Qt.a,null))))))},Tn=function(e,t){return!(!I()&&"groups"!==t)},Dn=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{appLayout:Ue,customReducers:k,customSagas:R,customRoutes:Ye,authProvider:j,dataProvider:g,initialState:{app:{event:N("activeEvent")||{}}}},function(e){return[r.a.createElement(p.a,{name:"purchases",list:Tn(0,"purchases")?fa:null}),r.a.createElement(p.a,{name:"participants",options:{label:"Registrations"},list:Tn(0,"participants")?ya:null,show:Tn(0,"participants")?_a:null}),r.a.createElement(p.a,{name:"companies",list:Tn(0,"companies")?Vt:null,show:Tn(0,"companies")?ia:null}),r.a.createElement(p.a,{name:"reports",list:Tn(0,"reports")?fa:null}),r.a.createElement(p.a,{name:"settings",list:Tn(0,"settings")?fa:null}),r.a.createElement(p.a,{name:"texts",list:Tn(0,"texts")?fa:null}),r.a.createElement(p.a,{name:"feed",options:{label:"Feed"},list:Tn(0,"feed")?fa:null}),r.a.createElement(p.a,{name:"tickets",list:Tn(0,"tickets")?Da:null,edit:Tn(0,"tickets")?Ja:null}),r.a.createElement(p.a,{name:"ticketgroups",list:Tn(0,"ticketgroups")?Ma:null}),r.a.createElement(p.a,{name:"groups",list:Tn(0,"groups")?qa:null,show:Tn(0,"groups")?Xa:null,options:{label:"Projects"}}),r.a.createElement(p.a,{name:"messages",list:Tn(0,"messages")?Pn:null,show:Tn(0,"messages")?Ln:null}),r.a.createElement(p.a,{name:"fields",edit:Tn(0,"fields")?yn:null}),r.a.createElement(p.a,{name:"companydata",edit:Tn(0,"companydata")?bn:null,show:Tn(0,"companydata")?gn:null}),r.a.createElement(p.a,{name:"related"}),r.a.createElement(p.a,{name:"events",list:Tn(0,"events")?on:null,show:Tn(0,"events")?fn:null}),r.a.createElement(p.a,{name:"comments"}),r.a.createElement(p.a,{name:"templates"}),r.a.createElement(p.a,{name:"messages"}),r.a.createElement(p.a,{name:"admins"})]})}}]),t}(r.a.Component),In=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(Dn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");In?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):xn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):xn(e)})}}()}},[[490,2,1]]]);
//# sourceMappingURL=main.857c2a41.chunk.js.map