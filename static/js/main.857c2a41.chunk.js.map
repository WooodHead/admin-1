{"version":3,"sources":["api/httpClient.js","api/restProvider.js","api/authClient.js","redux/types.js","redux/reducers/index.js","redux/reducers/app.js","redux/reducers/ui.js","api/app.js","redux/sagas/index.js","redux/actions.js","components/BulkActions/SetStatusAction.js","components/EmailForm.js","components/BulkActions/SendMessageAction.js","components/AppTitle.js","components/MyMenu.js","components/MyDialog.js","components/MyLayout.js","components/WithEvent.js","customRoutes.js","endpoints/companies/filters/CompanyData.js","endpoints/companies/filters/Admin.js","endpoints/companies/DoubleTextField.js","components/BulkActions/Admins.js","endpoints/companies/actions/SelectAdminField.js","endpoints/companies/actions/Flagswitch.js","endpoints/companies/actions/BulkAssignAdmin.js","endpoints/companies/List.js","styles/statuses.js","endpoints/purchases/PurchaseStatusField.js","endpoints/companies/ShowTitle.js","endpoints/companies/ShowActions.js","endpoints/companies/Show.js","endpoints/purchases/List.js","endpoints/participants/FilterByTicketId.js","endpoints/participants/ListFilters.js","endpoints/participants/List.js","endpoints/participants/ShowTitle.js","endpoints/participants/Show.js","endpoints/tickets/RelatedParticipants.js","endpoints/tickets/Filters.js","endpoints/tickets/TicketTags.js","endpoints/tickets/List.js","endpoints/tickets/Edit.js","endpoints/ticketgroups/List.js","endpoints/groups/ActiveEvent.js","endpoints/groups/RelatedEvents.js","endpoints/groups/List.js","endpoints/groups/Show.js","endpoints/events/actions/ChangeAppScope.js","endpoints/events/FilterByGroupId.js","endpoints/events/ListFilters.js","endpoints/events/actions/SelectAll.js","endpoints/events/ActiveEvent.js","endpoints/events/List.js","endpoints/events/actions/ChangeActiveEventButton.js","endpoints/events/Show.js","endpoints/companydata/Edit.js","endpoints/companydata/Show.js","endpoints/fields/Edit.js","endpoints/messages/FilterByUserId.js","endpoints/messages/List.js","endpoints/messages/Show.js","App.js","registerServiceWorker.js","index.js"],"names":["dataProvider","apiUrl","httpClient","arguments","length","undefined","fetchUtils","fetchJson","type","resource","params","UPDATE_MANY","Promise","all","ids","map","id","concat","method","body","JSON","stringify","data","then","responses","response","json","DELETE_MANY","_convertDataRequestTo","url","options","GET_LIST","_params$pagination","pagination","page","perPage","_params$sort","sort","field","order","query","Object","objectSpread","flattenObject","filter","_sort","_order","_page","_perPage","strictNullHandling","GET_ONE","GET_MANY_REFERENCE","_objectSpread2","_params$pagination2","_params$sort2","defineProperty","target","UPDATE","CREATE","DELETE","GET_MANY","join","Error","convertDataRequestToHTTP","headers","has","total","parseInt","get","split","pop","meta","convertHTTPResponse","restProvider","process","Headers","Accept","token","localStorage","getItem","set","authClient","AUTH_GET_PERMISSIONS","AUTH_LOGIN","username","password","formData","FormData","append","request","Request","fetch","status","statusText","_ref","access_token","console","log","setItem","AUTH_LOGOUT","removeItem","resolve","AUTH_ERROR","reject","AUTH_CHECK","CHANGE_EVENT","reducers","app","previousState","event","message","subject","text","action","payload","ui","dialog","lsGet","key","item","parse","error","statuses","name","roles","setActiveEvent","value","activeEventId","changeEvent","getAdminsWhen","appSaga","actionData","regenerator_default","a","wrap","_context","prev","next","call","stop","_marked","this","_context2","put","crudGetList","event_id","_marked2","_context4","takeEvery","CRUD_GET_LIST_SUCCESS","_marked4","sagas","Types","showDialog","hideDialog","SetStatusAction","handleDialogClose","_this","props","onExit","handleConfirm","_this$props","basePath","crudUpdateMany","selectedIds","views","react_default","createElement","Button","label","onClick","Forward_default","Component","connect","EmailForm","classCallCheck","possibleConstructorReturn","getPrototypeOf","handleChange","templates","setState","state","senderName","senderEmail","template_id","onChange","debounce","createMessage","prevProps","_this$state","rest","objectWithoutProperties","_this$props$templates","list","Array","isArray","MenuItem_default","FormControl_default","InputLabel_default","htmlFor","Select_default","TextField_default","fullWidth","margin","multiline","rows","rowsMax","defaultProps","admin","resources","SendMessageAction","onQuit","crudCreate","showNotification","_this$props2","title","content","components_EmailForm","onConfirm","onClose","Email_default","AppTitle","activeEvent","dispatch","Menu","assign","Confirm","isOpen","_classnames","confirm","cancel","confirmColor","classes","Dialog_default","open","aria-labelledby","DialogTitle_default","DialogContent_default","DialogActions_default","Button_default","className","classnames","confirmWarning","confirmPrimary","autoFocus","CheckCircle_default","iconPaddingStyle","ErrorOutline_default","enhance","compose","withStyles","theme","color","palette","primary","main","&:hover","backgroundColor","fade","@media (hover: none)","paddingRight","translate","MyLayout","Fragment","Layout","menu","MyMenu","MyDialog","WithEvent","children","React","refreshView","customRoutes","CompanyData","SelectArrayInput","choices","Admin","admins","fname","lname","source","SelectInput","buildChoices","DoubleTextField","secondary","FunctionField","render","record","addLabel","display","fontSize","Admins","selected","List_default","root","ListItem_default","button","Avatar_default","ListItemText_default","width","maxWidth","background","paper","styles","avatar","cursor","adminNotSet","adminSet","deepOrange","SelectAdminField","changeCompanyAdmin","admin_id","showAction","slug","BulkActions_Admins","_classNames","_this$props3","classNames","refresh","Flagswitch","changeResourceFlag","checkedValue","unCheckedValue","checked","Switch_default","BulkAssignAdmin","bulkChangeCompanyAdmin","handleDialog","SupervisorAccount_default","unselectAll","CustomBulkActions","BulkActions_SendMessageAction","actions_BulkAssignAdmin","Filters","Filter","BooleanInput","alwaysOn","TextInput","filters_CompanyData","filters_Admin","customColumns","ViewList","List","filters","List_Filters","filterDefaultValues","present","featured","bulkActionButtons","List_CustomBulkActions","Datagrid","companies_DoubleTextField","actions_SelectAdminField","actions_Flagswitch","field_TextField","sortBy","event_ids","indexOf","button_ShowButton","ok","hold","new","cancelled","icon","highlight","PurchaseStatusField","handleClick","control","handleStatusChange","catch","e","handleClose","_ref2","_ref3","Chip_default","clickable","Edit_default","ShowTitle","cardActionStyle","zIndex","float","ShowActions","CardActions","style","EditButton","RefreshButton","ListButton","Roles","uniqueValues","arr","toConsumableArray","Set","role","ViewShow","Show","actions","companies_ShowActions","companies_ShowTitle","TabbedShowLayout","Tab","Show_Roles","ReferenceManyField","reference","DateField","path","ArrayField","purchases_PurchaseStatusField","NumberField","defaultValue","BulkActions_SetStatusAction","ShowParticipantButton","participant_id","components_WithEvent","purchases_List_CustomBulkActions","purchases_List_Filters","showTime","textAlign","ReferenceField","linkType","ChipField","sortable","List_ShowParticipantButton","FilterByTicketId","_this$props$tickets","tickets","allowEmpty","buildTicketList","participants_FilterByTicketId","ListFilters","participants_List_CustomBulkActions","ReferenceArrayField","SingleFieldList","DeleteButton","email","MyPurchaseStatusField","participants_ShowTitle","participants_Show_Roles","Show_MyPurchaseStatusField","ShowButton","_ref$label","_ref$record","component","Link","to","pathname","search","ticket_id","RemoveRedEye_default","TicketTags","tags","tickets_Filters","tickets_TicketTags","RelatedParticipants","Title","redirect","company_id","TicketEdit","detail_Edit","Edit_Title","SimpleForm","TagsField","BoothColorField","booth","bgcolor","fontcolor","List_BoothColorField","List_TagsField","SimpleList","primaryText","secondaryText","start","end","tertiaryText","price","limit","ActiveEvent","active_event","RelatedEvents","group_id","groups_List_CustomBulkActions","groups_ActiveEvent","groups_RelatedEvents","Show_Title","SimpleShowLayout","ChangeAppScopeForEvent","labelSelected","disabled","variant","showNotificationAction","refreshViewAction","FilterByGroupId","_this$props$groups","groups","events_FilterByGroupId","SelectAll","groupId","alert","is_active","active","notActive","fontWeight","actions_SelectAll","events_ListFilters","events_List_CustomBulkActions","events_ActiveEvent","ChangeAppScope","ChangeActiveEventButton","active_event_id","Actions","CardActions_default","events_Show_Title","Show_Actions","companydata_Edit_Title","companydata_Show_Title","fields_Edit_Title","FilterByUserId","messages_List_Filters","messages_List_CustomBulkActions","ProfileFields","messages_Show_Title","messages_Show_Roles","Show_ProfileFields","canAccess","permissions","App","esm_Admin","appLayout","customReducers","customSagas","authProvider","initialState","Resource","PurchaseList","ParticipantList","show","ParticipantShow","CompanyList","CompanyShow","TicketList","edit","TicketGroupList","GroupList","GroupShow","MessagesList","MessagesShow","FieldsEdit","CompanyDataEdit","CompanyDataShow","EventList","EventShow","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","src_App","document","getElementById","URL","origin","addEventListener","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"gTAmBeA,ECOA,SAACC,GAA8C,IAAtCC,EAAsCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBG,IAAWC,UAyH9C,OAAO,SAACC,EAAMC,EAAUC,GAEtB,GAAIF,IAASG,IACX,OAAOC,QAAQC,IACbH,EAAOI,IAAIC,IAAI,SAAAC,GAAE,OACfd,EAAU,GAAAe,OAAIhB,EAAJ,KAAAgB,OAAcR,EAAd,KAAAQ,OAA0BD,GAAM,CACxCE,OAAQ,QACRC,KAAMC,KAAKC,UAAUX,EAAOY,WAGhCC,KAAK,SAAAC,GAAS,MAAK,CACnBF,KAAME,EAAUT,IAAI,SAAAU,GAAQ,OAAIA,EAASC,UAI7C,GAAIlB,IAASmB,IACX,OAAOf,QAAQC,IACbH,EAAOI,IAAIC,IAAI,SAAAC,GAAE,OACfd,EAAU,GAAAe,OAAIhB,EAAJ,KAAAgB,OAAcR,EAAd,KAAAQ,OAA0BD,GAAM,CACxCE,OAAQ,cAGZK,KAAK,SAAAC,GAAS,MAAK,CACnBF,KAAME,EAAUT,IAAI,SAAAU,GAAQ,OAAIA,EAASC,UAvBZ,IAAAE,EAlHF,SAACpB,EAAMC,EAAUC,GAChD,IAAImB,EAAM,GACJC,EAAU,GAChB,OAAQtB,GACN,KAAKuB,IAAU,IAAAC,EACatB,EAAOuB,WAAzBC,EADKF,EACLE,KAAMC,EADDH,EACCG,QADDC,EAEY1B,EAAO2B,KAAxBC,EAFKF,EAELE,MAAOC,EAFFH,EAEEG,MACTC,EAAKC,OAAAC,EAAA,EAAAD,CAAA,GACNnC,IAAWqC,cAAcjC,EAAOkC,QAD1B,CAGTC,MAAOP,EACPQ,OAAQP,EACRQ,MAAOb,EACPc,SAAUb,IAIZN,EAAG,GAAAZ,OAAMhB,EAAN,KAAAgB,OAAgBR,EAAhB,KAAAQ,OAA4BI,oBAAUmB,EAAO,CAC9CS,oBAAoB,KAEtB,MAEF,KAAKC,IACHrB,EAAG,GAAAZ,OAAMhB,EAAN,KAAAgB,OAAgBR,EAAhB,KAAAQ,OAA4BP,EAAOM,IACtC,MACF,KAAKmC,IAAoB,IAAAC,EAAAC,EACG3C,EAAOuB,WAAzBC,EADemB,EACfnB,KAAMC,EADSkB,EACTlB,QADSmB,EAEE5C,EAAO2B,KAAxBC,EAFegB,EAEfhB,MAAOC,EAFQe,EAERf,MACTC,EAAKC,OAAAC,EAAA,EAAAD,CAAA,GACNnC,IAAWqC,cAAcjC,EAAOkC,SAD1BQ,EAAA,GAAAX,OAAAc,EAAA,EAAAd,CAAAW,EAER1C,EAAO8C,OAAS9C,EAAOM,IAFfyB,OAAAc,EAAA,EAAAd,CAAAW,EAAA,QAGFd,GAHEG,OAAAc,EAAA,EAAAd,CAAAW,EAAA,SAIDb,GAJCE,OAAAc,EAAA,EAAAd,CAAAW,EAAA,QAKFlB,GALEO,OAAAc,EAAA,EAAAd,CAAAW,EAAA,WAMCjB,GANDiB,IAUXvB,EAAG,GAAAZ,OAAMhB,EAAN,KAAAgB,OAAgBR,EAAhB,KAAAQ,OAA4BI,oBAAUmB,EAAO,CAC9CS,oBAAoB,KAEtB,MAEF,KAAKQ,IACH5B,EAAG,GAAAZ,OAAMhB,EAAN,KAAAgB,OAAgBR,EAAhB,KAAAQ,OAA4BP,EAAOM,IACtCc,EAAQZ,OAAS,MACjBY,EAAQX,KAAOC,KAAKC,UAAUX,EAAOY,MACrC,MACF,KAAKoC,IACH7B,EAAG,GAAAZ,OAAMhB,EAAN,KAAAgB,OAAgBR,GACnBqB,EAAQZ,OAAS,OACjBY,EAAQX,KAAOC,KAAKC,UAAUX,EAAOY,MACrC,MACF,KAAKqC,IACH9B,EAAG,GAAAZ,OAAMhB,EAAN,KAAAgB,OAAgBR,EAAhB,KAAAQ,OAA4BP,EAAOM,IACtCc,EAAQZ,OAAS,SACjB,MACF,KAAK0C,IAEH,IAAMpB,EAAKC,OAAAc,EAAA,EAAAd,CAAA,aACI/B,EAAOI,IAAI8B,OAAO,SAAA5B,GAAE,OAAIA,IAAI6C,KAAK,MAEhDhC,EAAG,GAAAZ,OAAMhB,EAAN,KAAAgB,OAAgBR,EAAhB,KAAAQ,OAA4BI,oBAAUmB,EAAO,CAC9CS,oBAAoB,KAEtB,MAEF,QACE,MAAM,IAAIa,MAAJ,iCAAA7C,OAA2CT,IAErD,MAAO,CAAEqB,MAAKC,WAsEWiC,CAAyBvD,EAAMC,EAAUC,GAA1DmB,EA1ByBD,EA0BzBC,IAAKC,EA1BoBF,EA0BpBE,QACb,OAAO5B,EAAW2B,EAAKC,GAASP,KAAK,SAAAE,GAAQ,OA7DnB,SAACA,EAAUjB,EAAMC,EAAUC,GAAW,IACxDsD,EAAkBvC,EAAlBuC,QAAStC,EAASD,EAATC,KACjB,OAAQlB,GACN,KAAKuB,IACL,KAAKoB,IACH,IAAKa,EAAQC,IAAI,iBACf,MAAM,IAAIH,MACR,sTAGJ,MAAO,CACLxC,KAAMI,EAAKJ,KACX4C,MAAOC,SACLH,EACGI,IAAI,iBACJC,MAAM,KACNC,MACH,IAEFC,KAAM,SAAU7C,EAAOA,EAAK6C,KAAO,IAEvC,KAAKb,IACH,MAAO,CAAEpC,KAAKmB,OAAAC,EAAA,EAAAD,CAAA,GAAM/B,EAAOY,KAAd,CAAoBN,GAAIU,EAAKV,MAC5C,QACE,MAAO,CAAEM,KAAMI,EAAKJ,OAsCtBkD,CAAoB/C,EAAUjB,EAAMC,EAAUC,MDjK/B+D,CACnBC,uCAZiB,SAAC7C,EAAKC,GAClBA,EAAQkC,UACXlC,EAAQkC,QAAU,IAAIW,QAAQ,CAC5BC,OAAQ,sBAGZ,IAAMC,EAAQC,aAAaC,QAAQ,SAEnC,OADAjD,EAAQkC,QAAQgB,IAAI,gBAApB,UAAA/D,OAA+C4D,IACxCvE,IAAWC,UAAUsB,EAAKC,cEHpBmD,EAAA,SAACzE,EAAME,GAIpB,GAHawE,IAGT1E,IAAS2E,IAAY,KACfC,EAAuB1E,EAAvB0E,SAAUC,EAAa3E,EAAb2E,SAEZC,EAAW,IAAIC,SACrBD,EAASE,OAAO,YAAad,KAC7BY,EAASE,OAAO,aAAcd,YAC9BY,EAASE,OAAO,QAASd,KACzBY,EAASE,OAAO,WAAYJ,GAC5BE,EAASE,OAAO,WAAYH,GAE5B,IAAMI,EAAU,IAAIC,QAAQhB,0CAAuC,CACjExD,OAAQ,OACRC,KAAMmE,IAKR,OAAOK,MAAMF,GACVlE,KAAK,SAAAE,GACJ,GAAIA,EAASmE,OAAS,KAAOnE,EAASmE,QAAU,IAC9C,MAAM,IAAI9B,MAAMrC,EAASoE,YAE3B,OAAOpE,EAASC,SAEjBH,KAAK,SAAAuE,GAAsB,IAAnBC,EAAmBD,EAAnBC,aACPC,QAAQC,IAAIF,GAEZjB,aAAaoB,QAAQ,QAASH,KAIpC,GAAIvF,IAAS2F,IAEX,OADArB,aAAasB,WAAW,SACjBxF,QAAQyF,UAGjB,GAAI7F,IAAS8F,IAAY,CACvB,IAAMV,EAASlF,EAAOkF,OACtB,OAAe,MAAXA,GAA6B,MAAXA,GACpBd,aAAasB,WAAW,SACjBxF,QAAQ2F,UAEV3F,QAAQyF,UAGjB,GAAI7F,IAASgG,IAAY,CACF9F,EAAbD,SACR,OAAOqE,aAAaC,QAAQ,SAAWnE,QAAQyF,UAAYzF,QAAQ2F,SAGrE,OAAI/F,IAAS0E,IACJtE,QAAQyF,UAGVzF,QAAQ2F,OAAO,kBClEXE,EAAe,kBCGbC,EAAA,CAAEC,ICAjB,WASK,IARHC,EAQGzG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GARa,CACd0G,MAAO,GACPC,QAAS,CACPC,QAAS,GACTC,KAAM,KAGVC,EACG9G,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACH,OAAQ4G,EAAOzG,MACb,KAAKiG,EACH,OAAOhE,OAAAC,EAAA,EAAAD,CAAA,GAAKmE,EAAZ,CAA2BC,MAAOI,EAAOC,UAE3C,IFhB0B,oBEiBxB,OAAOzE,OAAAC,EAAA,EAAAD,CAAA,GAAKmE,EAAZ,CAA2BE,QAASG,EAAOC,UAE7C,QACE,OAAON,IDlBSO,GEDtB,WAKK,IAJHP,EAIGzG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJa,CACdiH,OAAQ,IAEVH,EACG9G,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACH,OAAQ4G,EAAOzG,MACb,IHPuB,iBGQrB,OAAOiC,OAAAC,EAAA,EAAAD,CAAA,GAAKmE,EAAZ,CAA2BQ,OAAQH,EAAOC,UAE5C,IHTuB,iBGUrB,OAAOzE,OAAAC,EAAA,EAAAD,CAAA,GAAKmE,EAAZ,CAA2BQ,OAAQ,KAErC,QACE,OAAOR,uDCZAS,EAAQ,SAAAC,GACnB,IAAMC,EAAOzC,aAAaC,QAAQuC,GAElC,IACE,OAAOlG,KAAKoG,MAAMD,GAClB,MAAOE,GACP,OAAO,OAIEC,EAAW,CACtB,CAAE1G,GAAI,MAAO2G,KAAM,OACnB,CAAE3G,GAAI,OAAQ2G,KAAM,QACpB,CAAE3G,GAAI,KAAM2G,KAAM,MAClB,CAAE3G,GAAI,YAAa2G,KAAM,cAGdC,EAAQ,CACnB,CAAE5G,GAAI,UAAW2G,KAAM,WACvB,CAAE3G,GAAI,YAAa2G,KAAM,aACzB,CAAE3G,GAAI,YAAa2G,KAAM,aACzB,CAAE3G,GAAI,aAAc2G,KAAM,cAC1B,CAAE3G,GAAI,iBAAkB2G,KAAM,mBAMnBE,EAAiB,SAAAhB,GAAK,OAHbS,EAGuB,cAHlBQ,EAGiCjB,EAF1D/B,aAAaoB,QAAQoB,EAAKlG,KAAKC,UAAUyG,IADtB,IAACR,EAAKQ,GAIdC,EAAgB,kBAAM3D,IAAIiD,EAAM,eAAgB,KAAM,IAKpDU,+BCzBLC,eAIAC,cA6BAC,GAjCV,SAAUF,EAAYG,GAAtB,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACE,OADFF,EAAAE,KAAA,EACQC,YAAKb,EAAgBM,EAAWjB,SADxC,wBAAAqB,EAAAI,SAAAC,EAAAC,MAIA,SAAUZ,EAAchB,GAAxB,OAAAmB,EAAAC,EAAAC,KAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAAL,MAAA,UAEwB,cADLxB,EAAT1C,KACC9D,SAFX,CAAAqI,EAAAL,KAAA,QAGI,OAHJK,EAAAL,KAAA,EAGUM,YACJC,YACE,SACA,CAAE9G,KAAM,EAAGC,QAAS,KACpB,CAAEG,MAAO,KAAMC,MAAO,OACtB,CAAE0G,SAAUlB,OARpB,wBAAAe,EAAAH,SAAAO,EAAAL,MA6BA,SAAUX,IAAV,OAAAE,EAAAC,EAAAC,KAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,OACE,OADFU,EAAAV,KAAA,EACQ5H,YAAI,CAACuI,YAAU3C,EAAcuB,KADrC,OAEE,OAFFmB,EAAAV,KAAA,EAEQ5H,YAAI,CAACuI,YAAUC,IAAuBpB,KAF9C,wBAAAkB,EAAAR,SAAAW,EAAAT,MAMe,IAAAU,EAAA,CAACrB,GCjDHF,EAAc,SAAAnB,GAAK,MAAK,CACnCrG,KAAMgJ,EACNtC,QAASL,IA2DE4C,EAAa,SAAAnI,GAAI,MAAK,CACjCd,KN/DyB,iBMgEzB0G,QAAS5F,IAGEoI,EAAa,iBAAO,CAC/BlJ,KNnEyB,6DOGrBmJ,6MACJC,kBAAoB,WAClBC,EAAKC,MAAMC,YAGbC,cAAgB,WAAM,IAAAC,EACwCJ,EAAKC,MAAzDI,EADYD,EACZC,UACRC,EAFoBF,EACFE,gBADEF,EACcxJ,SADdwJ,EACwBG,YACN,CAAEC,MAAO,GAAKH,GACpDL,EAAKC,MAAMC,YAGbN,WAAa,qFAGX,OACEa,EAAAjC,EAAAkC,cAACC,EAAA,EAAD,CAAQC,MAAM,wBAAwBC,QAAS7B,KAAKY,YAClDa,EAAAjC,EAAAkC,cAACI,EAAAtC,EAAD,cAhBsBuC,aAgCfC,mBACbxK,EACA,CAAE8J,oBAFWU,CAGblB,iJC3BImB,eACJ,SAAAA,EAAYhB,GAAO,IAAAD,EAAA,OAAApH,OAAAsI,EAAA,EAAAtI,CAAAoG,KAAAiC,IACjBjB,EAAApH,OAAAuI,EAAA,EAAAvI,CAAAoG,KAAApG,OAAAwI,EAAA,EAAAxI,CAAAqI,GAAApC,KAAAG,KAAMiB,KAaRoB,aAAe,SAAAvD,GAAI,OAAI,SAAAd,GACCgD,EAAKC,MAAnBqB,UADsB,IAGxBrD,EAAQjB,EAAMrD,OAAOsE,MAE3B+B,EAAKuB,SAAL3I,OAAAc,EAAA,EAAAd,CAAA,GAAiBkF,EAAOG,IAEX,gBAATH,GAEFkC,EAAKuB,SAAS,CACZrE,QAAO,GAAA9F,OAAK6G,EAAL,YACPd,KAAI,GAAA/F,OAAK6G,EAAL,aAtBR+B,EAAKwB,MAAQ,CACXC,WAAY,GACZC,YAAa,GACbxE,QAAS,GACTC,KAAM,GACNwE,YAAa,GAGf3B,EAAK4B,SAAWC,KAAS7B,EAAKC,MAAM6B,cAAe,KAXlC9B,oFA8BE,IAAAI,EACYpB,KAAKiB,OAEpCd,EAHmBiB,EACXjB,aAGN,YACA,CAAE9G,KAAM,EAAGC,QAAS,KACpB,CAAEG,MAAO,KAAMC,MAAO,OACtB,CAAE0G,SAPegB,EACEpD,MAMD7F,gDAIH4K,GAAW,IAAAC,EACKhD,KAAKwC,MAAdS,GADID,EACpBL,YADoB/I,OAAAsJ,GAAA,EAAAtJ,CAAAoJ,EAAA,kBAE5BhD,KAAK4C,SAASK,uCAGJ,IAAAE,EACanD,KAAKiB,MAAMqB,UAA1B7J,EADE0K,EACF1K,KAAM2K,EADJD,EACIC,KAEd,OAAI,KAAUA,IAASC,MAAMC,QAAQF,EAAKnL,KACjC,GAGFmL,EAAKnL,IAAIC,IAAI,SAAAC,GAAE,OACpBsJ,EAAAjC,EAAAkC,cAAC6B,GAAA/D,EAAD,CAAUf,IAAKhG,EAAKN,GAAIA,GAAI8G,MAAOxG,EAAKN,GAAIA,IACzCM,EAAKN,GAAI2G,yCAMd,OACE2C,EAAAjC,EAAAkC,cAAA,WACED,EAAAjC,EAAAkC,cAAC8B,GAAAhE,EAAD,KACEiC,EAAAjC,EAAAkC,cAAC+B,GAAAjE,EAAD,CAAYkE,QAAQ,cAApB,YACAjC,EAAAjC,EAAAkC,cAACiC,GAAAnE,EAAD,CACEP,MAAOe,KAAKwC,MAAMG,YAClBC,SAAU5C,KAAKqC,aAAa,gBAE5BZ,EAAAjC,EAAAkC,cAAC6B,GAAA/D,EAAD,CAAUP,MAAO,GACfwC,EAAAjC,EAAAkC,cAAA,mBAED1B,KAAKsC,cAIVb,EAAAjC,EAAAkC,cAACkC,GAAApE,EAAD,CACErH,GAAG,SACHyJ,MAAM,cACNiC,WAAS,EACT5E,MAAOe,KAAKwC,MAAMC,WAClBG,SAAU5C,KAAKqC,aAAa,cAE5ByB,OAAO,WAGTrC,EAAAjC,EAAAkC,cAACkC,GAAApE,EAAD,CACErH,GAAG,UACHyJ,MAAM,UACNiC,WAAS,EACT5E,MAAOe,KAAKwC,MAAMtE,QAClB0E,SAAU5C,KAAKqC,aAAa,WAE5ByB,OAAO,WAGTrC,EAAAjC,EAAAkC,cAACkC,GAAApE,EAAD,CACErH,GAAG,UACHyJ,MAAM,UACNmC,WAAS,EACTF,WAAS,EACTG,KAAK,IACLC,QAAQ,KACRhF,MAAOe,KAAKwC,MAAMrE,KAClByE,SAAU5C,KAAKqC,aAAa,QAE5ByB,OAAO,mBA3GO/B,aAkHxBE,GAAUiC,aAAe,CACvB5B,UAAW,GACXtE,MAAO,IAGMgE,mBACb,SAAAQ,GAAK,MAAK,CACRxE,MAAOwE,EAAM1E,IAAIE,MACjBsE,UAAWE,EAAM2B,MAAMC,UAAU9B,YAEnC,CAAEQ,cF/EyB,SAAArK,GAAI,MAAK,CACpCd,KN3D4B,oBM4D5B0G,QAAS5F,IE6EQ0H,iBALJ6B,CAMbC,yBC1HIoC,8MACJC,OAAS,WACPtD,EAAKC,MAAMJ,gBAGbM,cAAgB,WAAM,IAAAC,EAQhBJ,EAAKC,MANPhD,EAFkBmD,EAElBnD,QACAoD,EAHkBD,EAGlBC,SACAkD,EAJkBnD,EAIlBmD,WACAC,EALkBpD,EAKlBoD,iBACA5M,EANkBwJ,EAMlBxJ,SACA2J,EAPkBH,EAOlBG,YAIF,GAAKtD,EAAL,CAXoB,IAeZC,EAA2CD,EAA3CC,QAASC,EAAkCF,EAAlCE,KAAkCF,EAA5BwE,WAA4BxE,EAAhByE,YAE/BxE,EAAQ3G,OAAS,IAAM4G,EAAK5G,OAAS,GACvCiN,EAAiB,qBAAsB,WAIzCD,EACE,WADQ3K,OAAAC,EAAA,EAAAD,CAAA,CAENhC,WAAUK,IAAKsJ,GAAgBtD,GACjCoD,GACA,OAIJT,WAAa,WAAM,IAAA6D,EACazD,EAAKC,MAA3BW,EADS6C,EACT7C,OAERhB,EAHiB6D,EACF7D,YAEJ,CACT8D,MAAO9C,EACP+C,QAASlD,EAAAjC,EAAAkC,cAACkD,GAAD,MACTC,UAAW7D,EAAKG,cAChB2D,QAAS9D,EAAKsD,kFAIT,IACC1C,EAAU5B,KAAKiB,MAAfW,MAER,OACEH,EAAAjC,EAAAkC,cAACC,EAAA,EAAD,CAAQC,MAAOA,EAAOC,QAAS7B,KAAKY,YAClCa,EAAAjC,EAAAkC,cAACqD,GAAAvF,EAAD,cAnDwBuC,aAyDhCsC,GAAkBH,aAAe,CAC/BtC,MAAO,wBAGMI,mBACb,SAACQ,EAAOvB,GAAR,MAAmB,CAAEhD,QAASuE,EAAM1E,IAAIG,UACxC,CAAEsG,eAAYC,qBAAkB5D,aAAYC,cAF/BmB,CAGbqC,IC7EIW,GAAW,SAAA/H,GAAwB,IAArBe,EAAqBf,EAArBe,MAAqBpE,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,WAEvC,OAAOwE,EAAAjC,EAAAkC,cAAA,YAAO1D,GAAS,SAAUA,EAAQA,EAAMc,KAAO,WAGxDkG,GAASd,aAAe,CACtBlG,MAAO,IAKMgE,YACb,SAAAQ,GAAK,MAAK,CAAExE,MAAOwE,EAAM1E,IAAIE,QAC7B,GAFagE,CAGbgD,IAHahD,wBCPAA,eACb,SAAAQ,GAAK,MAAK,CACRyC,YAAazC,EAAM1E,IAAIE,QAEzB,KAJagE,CAJA,SAAA/E,GAAyCA,EAAtCiI,SAAsC,IAA5BD,EAA4BhI,EAA5BgI,YAAgBhE,EAAYrH,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,4BACtD,OAAOwE,EAAAjC,EAAAkC,cAACyD,GAAA,EAADvL,OAAAwL,OAAA,CAAM3G,IAAKwG,EAAY9M,IAAQ8I,oOCgDlCoE,GAAU,SAAApI,KACdqI,OADcrI,EAEdyH,MAFc,IAAAa,EAGdC,EAHcvI,EAGduI,QACAC,EAJcxI,EAIdwI,OACAC,EALczI,EAKdyI,aAGAC,GARc1I,EAMd4H,UANc5H,EAOd6H,QAPc7H,EAQd0I,SAGApH,GAXctB,EASd4G,UATc5G,EAUd0H,QAVc1H,EAWdsB,QACAsC,EAZc5D,EAYd4D,WAZc,OAcdY,EAAAjC,EAAAkC,cAACkE,GAAApG,EAAD,CACEqG,KAAM,UAAWtH,EACjBuG,QAAS,WACP,YAAavG,EAASA,EAAOuG,UAAYjE,KAE3CgD,WAAW,EACXiC,kBAAgB,sBAEhBrE,EAAAjC,EAAAkC,cAACqE,GAAAvG,EAAD,CAAarH,GAAG,sBACb,UAAWoG,EAASA,EAAOmG,MAAQ,IAEtCjD,EAAAjC,EAAAkC,cAACsE,GAAAxG,EAAD,KAAgB,YAAajB,EAASA,EAAOoG,QAAU,IACvDlD,EAAAjC,EAAAkC,cAACuE,GAAAzG,EAAD,KACEiC,EAAAjC,EAAAkC,cAACwE,GAAA1G,EAAD,CACEqC,QAAS,cAAetD,EAASA,EAAOsG,UAAY,aACpDsB,UAAWC,KAAW,cAADb,EAAA,GAAA3L,OAAAc,EAAA,EAAAd,CAAA2L,EAClBI,EAAQU,eAAkC,YAAjBX,GADP9L,OAAAc,EAAA,EAAAd,CAAA2L,EAElBI,EAAQW,eAAkC,YAAjBZ,GAFPH,IAIrBgB,WAAS,GAET9E,EAAAjC,EAAAkC,cAAC8E,GAAAhH,EAAD,CAAa2G,UAAWR,EAAQc,mBAC/BjB,GAEH/D,EAAAjC,EAAAkC,cAACwE,GAAA1G,EAAD,CACEqC,QAAS,WACP,YAAatD,EAASA,EAAOuG,UAAYjE,MAG3CY,EAAAjC,EAAAkC,cAACgF,GAAAlH,EAAD,CAAY2G,UAAWR,EAAQc,mBAC9BhB,MAoBTJ,GAAQnB,aAAe,CACrBuB,OAAQ,SACRE,QAAS,GACTH,QAAS,UACTE,aAAc,WAGhB,IASeiB,GATCC,KACdC,sBA1Ga,SAAAC,GAAK,MAAK,CACvBR,eAAgB,CACdS,MAAOD,EAAME,QAAQC,QAAQC,MAE/Bb,eAAgB,CACdU,MAAOD,EAAME,QAAQpI,MAAMsI,KAC3BC,UAAW,CACTC,gBAAiBC,gBAAKP,EAAME,QAAQpI,MAAMsI,KAAM,KAEhDI,uBAAwB,CACtBF,gBAAiB,iBAIvBX,iBAAkB,CAChBc,aAAc,YA4FhBC,KACAxF,YACE,SAAAQ,GAAK,MAAK,CAAEjE,OAAQiE,EAAMlE,GAAGC,SAC7B,CAAEsC,eAIS8F,CAAQtB,IClHRoC,GAbE,SAAAxG,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAACiG,GAAA,EAAD/N,OAAAwL,OAAA,GACMnE,EADN,CAGE2G,KAAMC,MAIRpG,EAAAjC,EAAAkC,cAACoG,GAAD,kBCXEC,oLAcF,OAAO/H,KAAKiB,MAAM+G,SAAShI,KAAKiB,MAAM/B,cAAe,WAdjC+I,IAAMlG,WAkBfC,eACb,SAAAQ,GAAK,MAAK,CACRtD,cACE,OAAQsD,EAAM1E,IAAIE,OAASwE,EAAM1E,IAAIE,MAAM7F,GAAKqK,EAAM1E,IAAIE,MAAM7F,GAAK,IAEzE,CAAE+P,kBALWlG,CAMb+F,aCzBaI,GAAA,uGCeAC,GAdK,SAAAnH,GAAK,OACvBQ,EAAAjC,EAAAkC,cAAC2G,GAAA,EAADzO,OAAAwL,OAAA,GACMnE,EADN,CAGEqH,QAAS,CACP,CAAEnQ,GAAI,UAAW2G,KAAM,WACvB,CAAE3G,GAAI,WAAY2G,KAAM,YACxB,CAAE3G,GAAI,WAAY2G,KAAM,YACxB,CAAE3G,GAAI,gBAAiB2G,KAAM,iBAC7B,CAAE3G,GAAI,UAAW2G,KAAM,gBCHvByJ,0LACW,IACLC,EAAWxI,KAAKiB,MAAhBuH,OAER,OAAOA,EAAOpF,KAAKnL,IAAIC,IAAI,SAAAC,GAAE,MAAK,CAChCA,GAAIqQ,EAAO/P,KAAKN,GAAIA,GACpB2G,KAAI,GAAA1G,OAAKoQ,EAAO/P,KAAKN,GAAIsQ,MAArB,KAAArQ,OAA8BoQ,EAAO/P,KAAKN,GAAIuQ,2CAI7C,IAAAtH,EACmBpB,KAAKiB,MAAvB0H,EADDvH,EACCuH,OAAQ/G,EADTR,EACSQ,MAEhB,OACEH,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CACED,OAAQA,EACR/G,MAAOA,EACP0G,QAAStI,KAAK6I,wBAjBFZ,IAAMlG,WAuB1BwG,GAAMrE,aAAe,GAENlC,mBACb,SAAAQ,GAAK,MAAK,CAAEgG,OAAQhG,EAAM2B,MAAMC,UAAUoE,SAC1C,GAFaxG,CAGbuG,ICtBIO,GAAkB,SAAA7L,GAAA,IAAG0I,EAAH1I,EAAG0I,QAASsB,EAAZhK,EAAYgK,QAAS8B,EAArB9L,EAAqB8L,UAAc9F,EAAnCrJ,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,0CACtBwE,EAAAjC,EAAAkC,cAACsH,GAAA,EAADpP,OAAAwL,OAAA,GACMnC,EADN,CAEEkD,UAAWR,EAAQ7G,KACnBmK,OAAQ,SAAAC,GAAM,OACZzH,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAAA,QAAMyE,UAAWR,EAAQsB,SAAU1L,IAAI2N,EAAQjC,IAC/CxF,EAAAjC,EAAAkC,cAAA,QAAMyE,UAAWR,EAAQoD,WAAYxN,IAAI2N,EAAQH,UAMzDD,GAAgB5E,aAAe,CAC7BiF,UAAU,GAGGtC,6BA5BA,CACbI,QAAS,CACPmC,QAAS,QACTC,SAAU,WAEZN,UAAW,CACTK,QAAS,QACTrC,MAAO,YAqBIF,CAAmBiC,4GCX5BQ,oLACK,IAAAlI,EACwCpB,KAAKiB,MAA5CuH,EADDpH,EACCoH,OAAQ7C,EADTvE,EACSuE,QAAS4D,EADlBnI,EACkBmI,SAAU1H,EAD5BT,EAC4BS,QAEnC,OACEJ,EAAAjC,EAAAkC,cAAC8H,GAAAhK,EAAD,CAAM2G,UAAWR,EAAQ8D,MACtBjB,EAAOpF,KAAKnL,IAAIC,IAAI,SAAAC,GAAE,OACrBsJ,EAAAjC,EAAAkC,cAACgI,GAAAlK,EAAD,CACEf,IAAKtG,EACLwR,QAAM,EACNJ,SAAUpR,GAAMoR,EAChB1H,QAAS,kBAAMA,EAAQ1J,KAEvBsJ,EAAAjC,EAAAkC,cAACkI,GAAApK,EAAD,KAASjE,IAAIiN,EAAO/P,KAAKN,GAAK,aAC9BsJ,EAAAjC,EAAAkC,cAACmI,GAAArK,EAAD,CACEyH,QAAO,GAAA7O,OAAKmD,IAAIiN,EAAO/P,KAAKN,GAAK,SAA1B,KAAAC,OAAsCmD,IAC3CiN,EAAO/P,KAAKN,GACZ,UAEF4Q,UAAU,iBAnBHd,IAAMlG,WA4B3BuH,GAAOpF,aAAe,CACpBsE,OAAQ,GACRe,SAAU,EACV1H,QAAS,cAGX,IAQe8E,GARCC,KACdC,sBA3Ca,SAAAC,GAAK,MAAK,CACvB2C,KAAM,CACJK,MAAO,OACPC,SAAU,IACV3C,gBAAiBN,EAAME,QAAQgD,WAAWC,UAwC5CjI,YACE,SAAAQ,GAAK,MAAK,CAAEgG,OAAQhG,EAAM2B,MAAMC,UAAUoE,SAC1C,CAAE5H,aAAYC,eAIH8F,CAAQ2C,ICjDjBY,GAAS,CACbC,OAAQ,CACNrG,OAAQ,GACRiD,MAAO,OACPqD,OAAQ,WAGVC,YAAa,CACXjD,gBAAiB,WAGnBkD,SAAU,CACRlD,gBAAiBmD,KAAW,OAI1BC,8MACJlG,OAAS,WACPtD,EAAKC,MAAMJ,gBAGbM,cAAgB,SAAAhJ,GAAM,IAAAiJ,EAC6BJ,EAAKC,MAA9CwJ,EADYrJ,EACZqJ,mBAAoBvB,EADR9H,EACQ8H,OAAQ7H,EADhBD,EACgBC,SAGpCoJ,EAAmBvB,EAAO/Q,GAAI,CAAEuS,SAAUvS,GAAMkJ,GAChDL,EAAKsD,YAGPqG,WAAa,SAAA7L,GAAI,OAAI,SAAAd,GAAS,IAAAyG,EACUzD,EAAKC,MAAnCL,EADoB6D,EACpB7D,WAAmBsI,GADCzE,EACR7C,MADQ6C,EACDyE,QAE3BtI,EAAW,CACT8D,MAAOwE,EAAO0B,KACdjG,QACElD,EAAAjC,EAAAkC,cAAA,WACED,EAAAjC,EAAAkC,cAACmJ,GAAD,CAAQhJ,QAASb,EAAKG,cAAeoI,SAAUL,EAAOwB,YAI1D5F,QAAS9D,EAAKsD,mFAIT,IAAAwG,EAAAC,EAC6B/K,KAAKiB,MAAjC0E,EADDoF,EACCpF,QAAS6C,EADVuC,EACUvC,OAAQU,EADlB6B,EACkB7B,OAEzB,OACEzH,EAAAjC,EAAAkC,cAACkI,GAAApK,EAAD,CACE2G,UAAW6E,MAAUF,EAAA,GAAAlR,OAAAc,EAAA,EAAAd,CAAAkR,EAClBnF,EAAQwE,QAAS,GADCvQ,OAAAc,EAAA,EAAAd,CAAAkR,EAElBnF,EAAQ0E,aAAenB,EAAOwB,UAFZ9Q,OAAAc,EAAA,EAAAd,CAAAkR,EAGlBnF,EAAQ2E,SAAWpB,EAAOwB,UAHRI,IAKrBjJ,QAAS7B,KAAK2K,cAEbzB,EAAOwB,SAAWnP,IAAIiN,EAAO/P,KAAKyQ,EAAOwB,UAAW,YAAc,WAxC5CzC,IAAMlG,WA8CrCyI,GAAiBtG,aAAe,CAC9BtC,MAAO,GACPsH,OAAQ,GACRV,OAAQ,IAGV,IAQe7B,GARCC,KACdC,sBAAWqD,IACXlI,YACE,SAAAQ,GAAK,MAAK,CAAEgG,OAAQhG,EAAM2B,MAAMC,UAAUoE,SAC1C,CAAE5H,aAAYC,aAAY4J,mBd/EI,SAACtS,EAAIM,EAAM4I,GAAX,MAAyB,CACzD1J,KNLkC,0BMMlC0G,QAAS,CAAElG,KAAIM,QACfiD,KAAM,CACJoB,MAAOlC,IACPhD,SAAU,YACVqT,SAAS,Oc6EEtE,CAAQ6D,yBCrFjBU,eACJ,SAAAA,EAAYjK,GAAO,IAAAD,EAAApH,OAAAsI,EAAA,EAAAtI,CAAAoG,KAAAkL,IACjBlK,EAAApH,OAAAuI,EAAA,EAAAvI,CAAAoG,KAAApG,OAAAwI,EAAA,EAAAxI,CAAAsR,GAAArL,KAAAG,KAAMiB,KAKRoB,aAAe,SAAAvD,GAAI,OAAI,SAAAd,GAAS,IAAAoD,EAQ1BJ,EAAKC,MANPiI,EAF4B9H,EAE5B8H,OACAtR,EAH4BwJ,EAG5BxJ,SACA+Q,EAJ4BvH,EAI5BuH,OACAwC,EAL4B/J,EAK5B+J,mBACAC,EAN4BhK,EAM5BgK,aACAC,EAP4BjK,EAO5BiK,eAGFrK,EAAKuB,SACH,CACExF,OAAQiB,EAAMrD,OAAO2Q,SAEvB,WAAW,IACDvO,EAAWiD,KAAKwC,MAAhBzF,OAERoO,EAAmBvT,EAAUsR,EAAO/Q,GAAlByB,OAAAc,EAAA,EAAAd,CAAA,GACf+O,EAAS5L,EAASqO,EAAeC,QAxBvB,IAAA5G,EAEwBzD,EAAKC,MAAtCiI,EAFSzE,EAETyE,OAAQP,EAFClE,EAEDkE,OAAQyC,EAFP3G,EAEO2G,aAFP,OAGjBpK,EAAKwB,MAAQ,CAAEzF,OAAQmM,EAAOP,IAAWyC,GAHxBpK,wEA8BV,IACCjE,EAAWiD,KAAKwC,MAAhBzF,OACAqO,EAAiBpL,KAAKiB,MAAtBmK,aAER,OACE3J,EAAAjC,EAAAkC,cAAC6J,GAAA/L,EAAD,CACE8L,UAASvO,EACT6F,SAAU5C,KAAKqC,eACfpD,MAAOmM,WAvCUnD,IAAMlG,WA6C/BmJ,GAAWhH,aAAe,CACxBiF,UAAU,EACViC,aAAc,IACdC,eAAgB,KAGHrJ,mBACb,KACA,CACEmJ,mBflB8B,SAACvT,EAAUO,EAAIM,EAAM4I,GAArB,MAAmC,CACnE1J,KNrCkC,0BMsClC0G,QAAS,CAAElG,KAAIM,QACfiD,KAAM,CACJoB,MAAOlC,IACPhD,SAAUA,EACVqT,SAAS,MeSEjJ,CAKbkJ,yBCzCIM,8MACJlH,OAAS,YAEPzD,EADuBG,EAAKC,MAApBJ,iBAIVM,cAAgB,SAAAhJ,GAAM,IAAAiJ,EAMhBJ,EAAKC,MAJPI,EAFkBD,EAElBC,UAOFoK,EAToBrK,EAGlBqK,wBAHkBrK,EAKlBG,YAIkC,CAAEmJ,SAAUvS,GAAMkJ,GACtDL,EAAKsD,YAGPoH,aAAe,WAAM,IAAAjH,EACwBzD,EAAKC,MAAxCW,EADW6C,EACX7C,MAAOhB,EADI6D,EACJ7D,WAAYW,EADRkD,EACQlD,YAE3BX,EAAW,CACT8D,MAAK,GAAAtM,OAAKwJ,EAAL,KAAAxJ,OAAcmJ,EAAYhK,OAA1B,YACLoN,QACElD,EAAAjC,EAAAkC,cAAA,WACED,EAAAjC,EAAAkC,cAACmJ,GAAD,CAAQhJ,QAASb,EAAKG,iBAI1B2D,QAAS9D,EAAKsD,kFAIT,IACC1C,EAAU5B,KAAKiB,MAAfW,MAER,OACEH,EAAAjC,EAAAkC,cAACC,EAAA,EAAD,CAAQC,MAAOA,EAAOC,QAAS7B,KAAK0L,cAClCjK,EAAAjC,EAAAkC,cAACiK,GAAAnM,EAAD,cAvCsByI,IAAMlG,WA6CpCyJ,GAAgBtH,aAAe,CAC7B3C,YAAa,GACbK,MAAO,wBAGMI,mBACb,KACA,CAAEyJ,uBhBhDkC,SAACxT,EAAKQ,EAAM4I,GAAZ,MAA0B,CAC9D1J,KNrBuC,+BMsBvC0G,QAAS,CAAEpG,MAAKQ,QAChBiD,KAAM,CACJoB,MAAOhF,IACPF,SAAU,YACVqT,SAAS,EAMTW,aAAa,KgBoCWpH,qBAAkB5D,aAAYC,cAF3CmB,CAGbwJ,IC7CIK,GAAoB,SAAA5K,GAAK,OAC7BQ,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAACoK,GAADlS,OAAAwL,OAAA,CAAmBxD,MAAM,uBAA0BX,IACnDQ,EAAAjC,EAAAkC,cAACqK,GAADnS,OAAAwL,OAAA,CAAiBxD,MAAM,mBAAsBX,MAI3C+K,GAAU,SAAA/K,GAAK,OACnBQ,EAAAjC,EAAAkC,cAACuK,GAAA,EAAWhL,EACVQ,EAAAjC,EAAAkC,cAACwK,GAAA,EAAD,CAAcvD,OAAO,WAAW/G,MAAM,aACtCH,EAAAjC,EAAAkC,cAACwK,GAAA,EAAD,CAAcvD,OAAO,UAAUwD,UAAQ,EAACvK,MAAM,YAE9CH,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,SAAS+G,OAAO,MAEjClH,EAAAjC,EAAAkC,cAAC2K,GAAD,CAAa1D,OAAO,SAAS/G,MAAM,UAEnCH,EAAAjC,EAAAkC,cAAC4K,GAAD,CAAO3D,OAAO,WAAW/G,MAAM,UAE/BH,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CACED,OAAO,OACPL,QAAS,CAAC,CAAEnQ,GAAI,KAAM2G,KAAM,MAAQ,CAAE3G,GAAI,KAAM2G,KAAM,WAKtDyN,GAAgB,GAuDPC,oLAjDX,OACE/K,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,GACMpF,KAAKiB,MADX,CAEEyL,QAASjL,EAAAjC,EAAAkC,cAACiL,GAAD,MACTC,oBAAqB,CAAEC,SAAS,EAAMC,UAAU,GAChD/S,OAAQ,CAAEqG,SAAUlB,KACpB6N,kBAAmBtL,EAAAjC,EAAAkC,cAACsL,GAAD,MACnB1T,QAAS,MAETmI,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAACwL,GAAD,CACEtL,MAAM,OACNqF,QAAQ,eACR8B,UAAU,SAGZtH,EAAAjC,EAAAkC,cAACyL,GAAD,CAAkBxE,OAAO,aACzBlH,EAAAjC,EAAAkC,cAAC0L,GAAD,CAAYzE,OAAO,aACnBlH,EAAAjC,EAAAkC,cAAC0L,GAAD,CAAYzE,OAAO,UAElB4D,GAAcrU,IAAI,SAAAyQ,GAAM,OACvBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW5O,IAAG,IAAArG,OAAMuQ,GAAUA,OAAQA,MAKxClH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,eAAe/G,MAAM,aAEvCH,EAAAjC,EAAAkC,cAACsH,GAAA,EAAD,CACEsE,OAAO,WACP1L,MAAM,UACNqH,OAAQ,SAAAC,GAAM,OACZA,EAAOqE,UAAUC,QAAQtO,MAAoB,EAA7C,MAAyD,SAU7DuC,EAAAjC,EAAAkC,cAAC+L,GAAA,EAAD,eA9CaxF,IAAMlG,oICzBdmI,GA/BA,CACbwD,GAAI,CACFtG,gBAAiB,UACjBL,MAAO,WAGT4G,KAAM,CACJvG,gBAAiB,UACjBL,MAAO,WAGT6G,IAAK,CACHxG,gBAAiB,UACjBL,MAAO,WAGT8G,UAAW,CACTzG,gBAAiB,UACjBL,MAAO,WAGT+G,KAAM,CACJ/G,MAAO,WAGTgH,UAAW,CACT3G,gBAAiB,UACjBL,MAAO,YCZLiH,eACJ,SAAAA,EAAY/M,GAAO,IAAAD,EAAA,OAAApH,OAAAsI,EAAA,EAAAtI,CAAAoG,KAAAgO,IACjBhN,EAAApH,OAAAuI,EAAA,EAAAvI,CAAAoG,KAAApG,OAAAwI,EAAA,EAAAxI,CAAAoU,GAAAnO,KAAAG,KAAMiB,KAORgN,YAAc,SAAAnP,GAAI,OAAI,SAAAd,GACpBgD,EAAKuB,SAAS,CAAE2L,QAAS,aATRlN,EAYnBmN,mBAAqB,SAAArP,GAAI,OAAI,SAAAd,GAC3BgD,EAAKuB,SACH,CAEExF,OAAQiB,EAAMrD,OAAOsE,OAEvB,WAAW,IAAAmC,EACmDpB,KAAKiB,MAAzDrJ,EADCwJ,EACDxJ,SAAU4M,EADTpD,EACSoD,iBAAkB0D,EAD3B9G,EAC2B8G,YAAagB,EADxC9H,EACwC8H,OACzCnM,EAAWiD,KAAKwC,MAAhBzF,OAER5F,EAAayD,IAAQhD,EAAU,CAC7BO,GAAI+Q,EAAO/Q,GACXM,KAAM,CACJsE,OAAQA,KAGTrE,KAAK,SAAAuE,GAAcA,EAAXxE,KACP+L,EAAiB,8BAA+B,QAChD0D,MAEDkG,MAAM,SAAAC,GACLlR,QAAQyB,MAAMyP,GACd7J,EAAiB,QAAS,iBAlCjBxD,EAwCnBsN,YAAc,SAAAxP,GAAI,OAAI,SAAAd,GACpBgD,EAAKuB,SAAS,CACZ2L,QAAS,WAvCXlN,EAAKwB,MAAQ,CACX0L,QAAS,OACTnR,OAAQiE,EAAKC,MAAMiI,OAAOnM,QALXiE,wEA8CV,IAAAyD,EACsCzE,KAAKiB,MAA1C0E,EADDlB,EACCkB,QAASuD,EADVzE,EACUyE,OACTnM,GAFD0H,EACkBkE,OADlB/O,OAAAsJ,GAAA,EAAAtJ,CAAA6K,EAAA,+BAEYzE,KAAKwC,MAAhBzF,QAER,OACE0E,EAAAjC,EAAAkC,cAACiC,GAAAnE,EAAD,CACEP,MAAOlC,EACP6F,SAAU5C,KAAKmO,qBACfrJ,QAAS9E,KAAKsO,cACd3I,QAAS,CACP8D,KAAM9D,EAAQuD,EAAOnM,QACrBwM,SAAU5D,EAAQoI,WAEpBlI,MAAM,GAELhH,EACE9E,OAAO,SAAAwU,GAAA,IAAGpW,EAAHoW,EAAGpW,GAAH,OAAY+Q,EAAOnM,QAAU5E,IACpCD,IAAI,SAAAsW,GAAA,IAAGrW,EAAHqW,EAAGrW,GAAI2G,EAAP0P,EAAO1P,KAAP,OACH2C,EAAAjC,EAAAkC,cAAC6B,GAAA/D,EAAD,CACEmG,QAAS,CACP8D,KAAM9D,EAAQxN,IAEhBsG,IAAKtG,EACL8G,MAAO9G,GAEN2G,qCAON,IAAAiM,EACwC/K,KAAKiB,MAA1C0E,EADHoF,EACGpF,QAASuD,EADZ6B,EACY7B,OAAQP,EADpBoC,EACoBpC,OADpB/O,OAAAsJ,GAAA,EAAAtJ,CAAAmR,EAAA,+BAEc/K,KAAKwC,MAAhBzF,OAIR,OACE0E,EAAAjC,EAAAkC,cAAC+M,GAAAjP,EAAD,CACEmG,QAAS,CAAE8D,KAAM9D,EAAQuD,EAAOnM,SAChC6E,MAAOsH,EAAOP,GACd+F,WAAW,EACX7M,QAAS7B,KAAKiO,cACdH,KAAMrM,EAAAjC,EAAAkC,cAACiN,GAAAnP,EAAD,CAAM2G,UAAWR,EAAQmI,0CAQnC,OAAO9N,KAFaA,KAAKwC,MAAjB0L,kBAjGsBjG,IAAMlG,WA+GzB4E,GARCC,KACdC,sBAAWqD,IACXlI,YACE,KACA,CAAEwC,qBAAkB0D,mBAITvB,CAAQqH,ICtHRY,GAJG,SAAA3R,GAAgB,IAAbiM,EAAajM,EAAbiM,OACnB,OAAOzH,EAAAjC,EAAAkC,cAAA,YAAOwH,EAAM,GAAA9Q,OAAMmD,IAAI2N,EAAQ,iBAAoB,mCCItD2F,GAAkB,CACtBC,OAAQ,EACR1F,QAAS,eACT2F,MAAO,SAeMC,GAZK,SAAA/R,GAAA,IAAGoE,EAAHpE,EAAGoE,SAAU5I,EAAbwE,EAAaxE,KAAbwE,EAAmBrF,SAAnB,OAClB6J,EAAAjC,EAAAkC,cAACuN,GAAA,EAAD,CAAaC,MAAOL,IAClBpN,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,CAAY9N,SAAUA,EAAU6H,OAAQzQ,IAExCgJ,EAAAjC,EAAAkC,cAAC0N,GAAA,EAAD,MACA3N,EAAAjC,EAAAkC,cAAC2N,GAAA,EAAD,MACA5N,EAAAjC,EAAAkC,cAACwE,GAAA1G,EAAD,CAAQuH,MAAM,UAAUlF,QAAS,MAAjC,mBCDEyN,GAAQ,SAAArS,GAAA,IAAGiM,EAAHjM,EAAGiM,OAAQP,EAAX1L,EAAW0L,OAAX,OACZO,GACAP,KAAUO,GxBpBgB,SAAfqG,EAAeC,GAAG,OAAA5V,OAAA6V,EAAA,EAAA7V,CAAQ,IAAI8V,IAAIH,IwBqB7CA,CAAarG,EAAOP,IAASzQ,IAAI,SAAAyX,GAAI,OAAIlO,EAAAjC,EAAAkC,cAAC+M,GAAAjP,EAAD,CAAMf,IAAKkR,EAAM/N,MAAO+N,OACnEL,GAAMpL,aAAe,CAAEgF,OAAQ,GAAIC,UAAU,GAE7C,IA8DeyG,GA9DE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACmO,GAAA,EAADjW,OAAAwL,OAAA,CAAM0K,QAASrO,EAAAjC,EAAAkC,cAACqO,GAAD,MAAiBrL,MAAOjD,EAAAjC,EAAAkC,cAACsO,GAAD,OAAmB/O,GACxDQ,EAAAjC,EAAAkC,cAACuO,GAAA,EAAD,KACExO,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,WACTH,EAAAjC,EAAAkC,cAACyO,GAAD,CAAOxH,OAAO,UAEdlH,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,cACV1V,OAAO,aACPiH,MAAM,gBAENH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,eAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,SAKN1N,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,UAAU2O,KAAK,WACxB9O,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,UACV1V,OAAO,iBACPiH,MAAM,gBAENH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,SAKN1N,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,YAAY2O,KAAK,aAC1B9O,EAAAjC,EAAAkC,cAAC8O,GAAA,EAAD,CAAY7H,OAAO,aACjBlH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,eAClBlH,EAAAjC,EAAAkC,cAAC+O,GAAD,CAAqB9H,OAAO,WAC5BlH,EAAAjC,EAAAkC,cAACgP,GAAA,EAAD,CAAa/H,OAAO,aAIxBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW1O,MAAM,mBAAmB+G,OAAO,kBAE7ClH,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,WAAW2O,KAAK,YACzB9O,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,WACV1V,OAAO,iBACPwO,UAAU,GAEV1H,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,eAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,gCCzDNnD,GAAU,SAAA/K,GAAK,OACnBQ,EAAAjC,EAAAkC,cAACuK,GAAA,EAAWhL,EACVQ,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,SAAS+G,OAAO,IAAIwD,UAAQ,IAC7C1K,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,QAAQ+G,OAAO,QAAQgI,aAAa,kBAErDlP,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CAAaD,OAAO,SAASL,QAASzJ,EAAUsN,UAAQ,MAItDN,GAAoB,SAAA5K,GAAK,OAC7BQ,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAACkP,EAADhX,OAAAwL,OAAA,CAAiBxD,MAAM,iBAAoBX,IAC3CQ,EAAAjC,EAAAkC,cAACoK,GAADlS,OAAAwL,OAAA,CAAmBxD,MAAM,uBAA0BX,MAIjD4P,GAAwB,SAAA5T,GAAA,IAAGiM,EAAHjM,EAAGiM,OAAqBjG,GAAxBhG,EAAWoE,SAAXzH,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,+BAC5BwE,EAAAjC,EAAAkC,cAAC+L,GAAA,EAAD7T,OAAAwL,OAAA,GACMnC,EADN,CAEE5B,SAAS,gBACT6H,OAAMtP,OAAAC,EAAA,EAAAD,CAAA,GAAOsP,EAAP,CAAe/Q,GAAI+Q,EAAO4H,qBAuCrBtE,GAnCE,SAAAvL,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,CACE2H,kBAAmBtL,EAAAjC,EAAAkC,cAACsP,GAAD,OACf/P,EAFN,CAGE3H,QAAS,GACToT,QAASjL,EAAAjC,EAAAkC,cAACuP,GAAD,MACTlX,OAAQ,CAAEqG,SAAUlB,KAEpBuC,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC+O,GAAD,CAAqB9H,OAAO,WAE5BlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAElBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,aAAauI,UAAQ,IAEvCzP,EAAAjC,EAAAkC,cAACgP,GAAA,EAAD,CAAa/H,OAAO,SAASwI,UAAU,UAEvC1P,EAAAjC,EAAAkC,cAAC0P,GAAA,EAAD,CACExP,MAAM,UACNyO,UAAU,YACV1H,OAAO,aACP0I,SAAS,QAET5P,EAAAjC,EAAAkC,cAAC4P,GAAA,EAAD,CAAW3I,OAAO,OAAO4I,UAAU,KAGrC9P,EAAAjC,EAAAkC,cAAC8P,GAAD,yCCrEJC,gMACiB,IAAArQ,EACYpB,KAAKiB,OAEpCd,EAHmBiB,EACXjB,aAGN,UACA,CAAE9G,KAAM,EAAGC,QAAS,KACpB,CAAEG,MAAO,KAAMC,MAAO,OACtB,CAAE0G,SAPegB,EACEpD,MAMD7F,+CAIJ,IAAAuZ,EACO1R,KAAKiB,MAAM0Q,QAA1BlZ,EADQiZ,EACRjZ,KAAM2K,EADEsO,EACFtO,KAEd,OAAI,KAAUA,IAASC,MAAMC,QAAQF,EAAKnL,KACjC,GAGFmL,EAAKnL,IAAIC,IAAI,SAAAC,GAAE,MAAK,CAAEA,GAAIM,EAAKN,GAAIA,GAAI2G,KAAMrG,EAAKN,GAAI2G,yCAGtD,IAAA2F,EACwBzE,KAAKiB,MAA5B0H,EADDlE,EACCkE,OAAQiJ,EADTnN,EACSmN,WAEhB,OACEnQ,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CACED,OAAQA,EACRiJ,WAAYA,EACZtJ,QAAStI,KAAK6R,2BA7BS5J,IAAMlG,WAmCrC0P,GAAiBvN,aAAe,CAC9ByN,QAAS,GACT3T,MAAO,IAGMgE,mBACb,SAAAQ,GAAK,MAAK,CACRxE,MAAOwE,EAAM1E,IAAIE,MACjB2T,QAASnP,EAAM2B,MAAMC,UAAUuN,UAEjC,CAAExR,iBALW6B,CAMbyP,ICrCazF,GAVC,SAAA/K,GAAK,OACnBQ,EAAAjC,EAAAkC,cAACuK,GAAA,EAAWhL,EACVQ,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,SAAS+G,OAAO,IAAIwD,UAAQ,IAE7C1K,EAAAjC,EAAAkC,cAACoQ,GAAD,CAAkBnJ,OAAO,YAAYwD,UAAQ,EAACyF,YAAU,IAExDnQ,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CAAaD,OAAO,OAAOL,QAASvJ,EAAOoN,UAAQ,EAACyF,YAAU,MCS5D/F,GAAoB,SAAA5K,GAAK,OAC7BQ,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAACkP,EAADhX,OAAAwL,OAAA,CAAiBxD,MAAM,iBAAoBX,IAC3CQ,EAAAjC,EAAAkC,cAACoK,GAADlS,OAAAwL,OAAA,CAAmBxD,MAAM,uBAA0BX,MA8CxCuL,GA1CE,SAAAvL,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,GACMnE,EADN,CAEE3H,QAAS,IACToT,QAASjL,EAAAjC,EAAAkC,cAACqQ,GAAD,MACThY,OAAQ,CAAEqG,SAAUlB,GACpB6N,kBAAmBtL,EAAAjC,EAAAkC,cAACsQ,GAAD,QAEnBvQ,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,aAAauI,UAAQ,IACvCzP,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,WAElBlH,EAAAjC,EAAAkC,cAACuQ,GAAA,EAAD,CACErQ,MAAM,QACNyO,UAAU,UACV1H,OAAO,cAEPlH,EAAAjC,EAAAkC,cAACwQ,GAAA,EAAD,KACEzQ,EAAAjC,EAAAkC,cAACsH,GAAA,EAAD,CACEC,OAAQ,SAAAC,GAAM,OACZA,EAAOyG,KACLlO,EAAAjC,EAAAkC,cAAC4P,GAAA,EAAD,CAAW3I,OAAO,OAAOO,OAAQA,IAEjCzH,EAAAjC,EAAAkC,cAAA,kBAOVD,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC+L,GAAA,EAAD,MACAhM,EAAAjC,EAAAkC,cAACyQ,GAAA,EAAD,WC9CKvD,GAZG,SAAA3R,GAAgB,IAAbiM,EAAajM,EAAbiM,OACnB,OACEzH,EAAAjC,EAAAkC,cAAA,YACGwH,EAAM,GAAA9Q,OACAmD,IAAI2N,EAAQ,gBADZ,KAAA9Q,OAC+BmD,IAAI2N,EAAQ,gBAD3C,KAAA9Q,OAED8Q,EAAOkJ,OAET,KCUJ9C,GAAQ,SAAArS,GAAA,IAAGiM,EAAHjM,EAAGiM,OAAH,OACZzH,EAAAjC,EAAAkC,cAAA,WACGwH,GACC,UAAWA,GACXA,EAAOnK,MAAM7G,IAAI,SAAAyX,GAAI,OAAIlO,EAAAjC,EAAAkC,cAAC+M,GAAAjP,EAAD,CAAMf,IAAKkR,EAAM/N,MAAO+N,QAIvDL,GAAMpL,aAAe,CAAEiF,UAAU,GAEjC,IAAMkJ,GAAwB,SAAA9D,KAAG3W,SAAH,IAAgBqJ,EAAhBrH,OAAAsJ,GAAA,EAAAtJ,CAAA2U,EAAA,qBAC5B9M,EAAAjC,EAAAkC,cAAC+O,GAAD7W,OAAAwL,OAAA,GAAyBnE,EAAzB,CAAgCrJ,SAAS,gBA8E5BgY,GA3EE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACmO,GAAA,EAADjW,OAAAwL,OAAA,CAAMV,MAAOjD,EAAAjC,EAAAkC,cAAC4Q,GAAD,OAAmBrR,GAC9BQ,EAAAjC,EAAAkC,cAACuO,GAAA,EAAD,KACExO,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,WACTH,EAAAjC,EAAAkC,cAAC6Q,GAAD,CAAO5J,OAAO,UAEdlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,OAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAElBlH,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,SACV1V,OAAO,iBACPiH,MAAM,gBAENH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,QAIJ1N,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,YAGpBlH,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,UAAU2O,KAAK,WACxB9O,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,UACV1V,OAAO,iBACPiH,MAAM,gBAENH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,SAKN1N,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,YAAY2O,KAAK,aAC1B9O,EAAAjC,EAAAkC,cAAC8O,GAAA,EAAD,CAAY7H,OAAO,aACjBlH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,eAClBlH,EAAAjC,EAAAkC,cAAC8Q,GAAD,CAAuB7J,OAAO,WAC9BlH,EAAAjC,EAAAkC,cAACgP,GAAA,EAAD,CAAa/H,OAAO,aAIxBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CACEzL,MAAM,+BACN+G,OAAO,WACPhR,KAAK,aAEP8J,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW1O,MAAM,mBAAmB+G,OAAO,iBAG3ClH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAWzL,MAAM,WAAW+G,OAAO,WAErClH,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,WAAW2O,KAAK,YACzB9O,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,WACV1V,OAAO,iBACPwO,UAAU,GAEV1H,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,eAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,iCC/DGsD,GA9BI,SAAAxV,KACjBoE,SADiB,IAAAqR,EAAAzV,EAEjB2E,aAFiB,IAAA8Q,EAET,iBAFSA,EAAAC,EAAA1V,EAGjBiM,cAHiB,IAAAyJ,EAGR,GAHQA,EAId1P,EAJcrJ,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,sCAMjBwE,EAAAjC,EAAAkC,cAACC,EAAA,EAAD/H,OAAAwL,OAAA,CACEwN,UAAWC,KACXC,GAAI,CACFC,SAAU,eACVC,OAAQxa,oBACN,CAAEuB,OAAQxB,KAAKC,UAAU,CAAEya,UAAW/J,EAAO/Q,MAC7C,CAAEiC,oBAAoB,KAG1BwH,MAAOA,GACHqB,GAEJxB,EAAAjC,EAAAkC,cAACwR,GAAA1T,EAAD,QCRWwM,GAhBC,SAAA/K,GAAK,OACnBQ,EAAAjC,EAAAkC,cAACuK,GAAA,EAAWhL,EACVQ,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,SAAS+G,OAAO,IAAIwD,UAAQ,IAC7C1K,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,QAAQ+G,OAAO,QAAQgI,aAAa,kBAErDlP,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CACED,OAAO,MACPL,QAAS,CACP,CAAEnQ,GAAI,cAAe2G,KAAM,eAC3B,CAAE3G,GAAI,YAAa2G,KAAM,aACzB,CAAE3G,GAAI,cAAe2G,KAAM,oBCX7BqU,GAAa,SAAAlW,GAAA,IAAGiM,EAAHjM,EAAGiM,OAAH,OACjBzH,EAAAjC,EAAAkC,cAAA,UACGwH,EAAOkK,KAAKlb,IAAI,SAAAwG,GAAI,OACnB+C,EAAAjC,EAAAkC,cAAA,MAAIjD,IAAKC,EAAKI,MAAOJ,EAAKI,UAKhCqU,GAAWjP,aAAe,CAAEiF,UAAU,GAEvBgK,UCmDA3G,GA7CE,SAAAvL,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,GACMnE,EADN,CAEE3H,QAAS,IACToT,QAASjL,EAAAjC,EAAAkC,cAAC2R,GAAD,MACTtZ,OAAQ,CAAEqG,SAAUlB,KAEpBuC,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAElBlH,EAAAjC,EAAAkC,cAACsH,GAAA,EAAD,CACEpH,MAAM,OACNqH,OAAQ,SAAAC,GAAM,OACZA,EAAOyG,KACLlO,EAAAjC,EAAAkC,cAAC4P,GAAA,EAAD,CAAWpI,OAAQA,EAAQP,OAAO,SAElClH,EAAAjC,EAAAkC,cAAA,0BAKND,EAAAjC,EAAAkC,cAAC4R,GAAD,CAAY3K,OAAO,SAQnBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,QAAQuI,UAAQ,IAClCzP,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,MAAMuI,UAAQ,IAEhCzP,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAACgP,GAAA,EAAD,CAAa/H,OAAO,UAEpBlH,EAAAjC,EAAAkC,cAAC6R,GAAD,CAAqB3R,MAAM,sBAC3BH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,+BC7CJqE,GAAQ,SAAAvW,GAAgB,IAAbiM,EAAajM,EAAbiM,OACf,OACEzH,EAAAjC,EAAAkC,cAAA,YACGwH,EAAM,GAAA9Q,OACAmD,IAAI2N,EAAQ,gBADZ,KAAA9Q,OAC+BmD,IAAI2N,EAAQ,gBAD3C,KAAA9Q,OAED8Q,EAAOkJ,OAET,KAsBJqB,GAAW,SAACpS,EAAUlJ,EAAIM,GAAf,oBAAAL,OAAsCK,EAAKib,WAA3C,UAUFC,GARI,SAAA1S,GAAK,OACtBQ,EAAAjC,EAAAkC,cAACkS,GAAA,EAADha,OAAAwL,OAAA,CAAMV,MAAOjD,EAAAjC,EAAAkC,cAACmS,GAAD,OAAe5S,GAC1BQ,EAAAjC,EAAAkC,cAACoS,GAAA,EAAD,CAAYL,SAAUA,IACpBhS,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWzD,OAAO,uBChClBoL,GAAY,SAAA9W,GAAA,IAAGiM,EAAHjM,EAAGiM,OAAH,OAChBzH,EAAAjC,EAAAkC,cAAA,UACGwH,EAAOkK,KAAKlb,IAAI,SAAAwG,GAAI,OACnB+C,EAAAjC,EAAAkC,cAAA,MAAIjD,IAAKC,EAAKI,MAAOJ,EAAKI,UAIhCiV,GAAU7P,aAAe,CAAEiF,UAAU,GAErC,IAAM6K,GAAkB,SAAAzF,GAAA,IAAGrF,EAAHqF,EAAGrF,OAAWjG,EAAdrJ,OAAAsJ,GAAA,EAAAtJ,CAAA2U,EAAA,mBACtB9M,EAAAjC,EAAAkC,cAAC4P,GAAA,EAAD1X,OAAAwL,OAAA,CACE8J,MAAO,CACL9H,gBAAiB8B,EAAO+K,MAAMC,QAC9BnN,MAAOmC,EAAO+K,MAAME,WAEtBjL,OAAQA,GACJjG,KAGR+Q,GAAgB9P,aAAe,CAAEiF,UAAU,GAE3C,IAwBeqD,GAxBE,SAAAvL,GAAK,OACpBQ,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,GAAUnE,EAAV,CAAiB3H,QAAS,IAAKS,OAAQ,CAAEqG,SAAUlB,OACjDuC,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC0S,GAAD,CAAiBzL,OAAO,SACxBlH,EAAAjC,EAAAkC,cAAC2S,GAAD,CAAW1L,OAAO,SAClBlH,EAAAjC,EAAAkC,cAACgP,GAAA,EAAD,CAAa/H,OAAO,UAEpBlH,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACExO,MAAM,mBACNyO,UAAU,UACV1V,OAAO,mBAEP8G,EAAAjC,EAAAkC,cAAC4S,GAAA,EAAD,CACEC,YAAa,SAAArL,GAAM,OAAIA,EAAOpK,MAC9B0V,cAAe,SAAAtL,GAAM,SAAA9Q,OAAO8Q,EAAOuL,MAAd,OAAArc,OAAyB8Q,EAAOwL,MACrDC,aAAc,SAAAzL,GAAM,SAAA9Q,OAAO8Q,EAAO0L,MAAd,MAAAxc,OAAwB8Q,EAAO2L,MAA/B,SAIxBpT,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,SClDA2F,GAAc,SAAA7X,GAAiD,IAA9CiC,EAA8CjC,EAA9CiC,cAAwBgK,GAAsBjM,EAA/B0I,QAA+B1I,EAAtBiM,QAAWjG,EAAWrJ,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,sCACnE,OAAOiM,EAAO6L,aAAa5c,IAAM+G,EAC/BuC,EAAAjC,EAAAkC,cAAC4P,GAAA,EAAD1X,OAAAwL,OAAA,CAAW8D,OAAQA,GAAYjG,IAE/BxB,EAAAjC,EAAAkC,cAAC2L,GAAA,EAADzT,OAAAwL,OAAA,CAAW8D,OAAQA,GAAYjG,KAInC6R,GAAY5Q,aAAe,CACzBiF,UAAU,GAGG2L,UCuBAE,GA9BO,SAAA/X,KACpBoE,SADoB,IAAAqR,EAAAzV,EAEpB2E,aAFoB,IAAA8Q,EAEZ,iBAFYA,EAAAC,EAAA1V,EAGpBiM,cAHoB,IAAAyJ,EAGX,GAHWA,EAIjB1P,EAJiBrJ,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,sCAMpBwE,EAAAjC,EAAAkC,cAACC,EAAA,EAAD/H,OAAAwL,OAAA,CACEwN,UAAWC,KACXC,GAAI,CACFC,SAAU,SACVC,OAAQxa,oBACN,CAAEuB,OAAQxB,KAAKC,UAAU,CAAEyc,SAAU/L,EAAO/Q,MAC5C,CAAEiC,oBAAoB,KAG1BwH,MAAOA,GACHqB,GAEJxB,EAAAjC,EAAAkC,cAACwR,GAAA1T,EAAD,QClBEqM,GAAoB,SAAA5K,GAAK,OAC7BQ,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAAA,gCAkCW8K,GA9BE,SAAAvL,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,CACE0K,QAAS,KACT/C,kBAAmBtL,EAAAjC,EAAAkC,cAACwT,GAAD,OACfjU,EAHN,CAIE3H,QAAS,MAGTmI,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,OAElBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAElBlH,EAAAjC,EAAAkC,cAACyT,GAAD,CACEvT,MAAM,eACN+G,OAAO,oBACPzJ,cAAeA,IAGjBuC,EAAAjC,EAAAkC,cAAC0T,GAAD,CAAexT,MAAM,gBAErBH,EAAAjC,EAAAkC,cAAC+L,GAAA,EAAD,CAAY7L,MAAM,2BCzBtB4R,GAAQ,SAAAvW,GAAgB,IAAbiM,EAAajM,EAAbiM,OACf,OAAOzH,EAAAjC,EAAAkC,cAAA,YAAOwH,EAAM,GAAA9Q,OAAM8Q,EAAOpK,KAAb,WAA6B,KAsBpC8Q,GAnBE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAACmO,GAAA,EAADjW,OAAAwL,OAAA,CAAMV,MAAOjD,EAAAjC,EAAAkC,cAAC2T,GAAD,OAAepU,GAC1BQ,EAAAjC,EAAAkC,cAAC4T,GAAA,EAAD,KACE7T,EAAAjC,EAAAkC,cAAC8O,GAAA,EAAD,CAAY7H,OAAO,UACjBlH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,QAClBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,SAASuI,UAAQ,IACnCzP,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,OAAOuI,UAAQ,WCXzCqE,8MACJtH,YAAc,WAAM,IAAA7M,EAOdJ,EAAKC,MAJPiI,EAHgB9H,EAGhB8H,OACA1E,EAJgBpD,EAIhBoD,iBACA0D,EALgB9G,EAKhB8G,YACA/I,EANgBiC,EAMhBjC,YAGFhI,EAAakD,IAAS,SAAU,CAAElC,GAAI+Q,EAAO/Q,KAC1CO,KAAK,SAAAuE,GAAc,IAAXxE,EAAWwE,EAAXxE,KACP0G,EAAY1G,GAEZ+L,EAAiB,iBAAkB,QAEnC0D,MAEDkG,MAAM,SAAAC,GACLlR,QAAQyB,MAAMyP,GACd7J,EAAiB,yBAA0B,sFAIxC,IAAAC,EACiDzE,KAAKiB,MAArDW,EADD6C,EACC7C,MAAO4T,EADR/Q,EACQ+Q,cAAetM,EADvBzE,EACuByE,OAAQhK,EAD/BuF,EAC+BvF,cAEtC,OAAKgK,IAAU,KAASA,IAAWA,EAAO/Q,GACjC,KAIPsJ,EAAAjC,EAAAkC,cAACwE,GAAA1G,EAAD,CACEiW,SAAUvM,EAAO/Q,KAAO+G,EACxBwW,QAASxM,EAAO/Q,KAAO+G,EAAgB,SAAW,OAClD6H,MAAM,UACNlF,QAAS7B,KAAKiO,aAEb/E,EAAO/Q,KAAO+G,EAAgBsW,EAAgB5T,UAtClBG,aA4CrCwT,GAAuBrR,aAAe,CACpCtC,MAAO,SACP4T,cAAe,WACftW,cAAe,GAUF8C,mBACb,KACA,CACEwC,iBAAkBmR,IAClBzN,YAAa0N,KAEbzW,YAAaA,GANF6C,CAQbuT,IC1EIM,gMAEF7V,KAAKiB,MAAMd,YACT,SACA,CAAE9G,KAAM,EAAGC,QAAS,KACpB,CAAEG,MAAO,KAAMC,MAAO,OACtB,sCAIM,IAAAoc,EACe9V,KAAKiB,MAAM8U,OAA1Btd,EADAqd,EACArd,KAAM2K,EADN0S,EACM1S,KAEd,OAAI,KAAUA,IAASC,MAAMC,QAAQF,EAAKnL,KACjC,GAGFmL,EAAKnL,IAAIC,IAAI,SAAAC,GAAE,MAAK,CAAEA,GAAIM,EAAKN,GAAIA,GAAI2G,KAAMrG,EAAKN,GAAI2G,yCAI7D,OAAO2C,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CAAaD,OAAO,WAAWL,QAAStI,KAAKsI,mBArB1BL,IAAMlG,WAyBpC8T,GAAgB3R,aAAe,CAC7B6R,OAAQ,GACR/X,MAAO,IAGMgE,mBACb,SAAAQ,GAAK,MAAK,CACRxE,MAAOwE,EAAM1E,IAAIE,MACjB+X,OAAQvT,EAAM2B,MAAMC,UAAU2R,SAEhC,CAAE5V,iBALW6B,CAMb6T,ICnBa7J,GAlBC,SAAA/K,GAAK,OACnBQ,EAAAjC,EAAAkC,cAACuK,GAAA,EAAWhL,EAIVQ,EAAAjC,EAAAkC,cAACsU,GAAD,CAAiB7J,UAAQ,MCwBvB8J,8MACJhI,YAAc,WAAM,IAAA7M,EAC8CJ,EAAKC,MAA7DiV,EADU9U,EACV8U,QADU9U,EACDoD,iBADCpD,EACiB8G,YADjB9G,EAC8BjC,YAEhDgX,MAAMD,4EAkBC,IAAAzR,EACmCzE,KAAKiB,MAAvCW,EADD6C,EACC7C,MADD6C,EACQ+Q,cADR/Q,EACuByR,QAE9B,OACEzU,EAAAjC,EAAAkC,cAACwE,GAAA1G,EAAD,CAGEuH,MAAM,UACNlF,QAAS7B,KAAKiO,aAEbrM,UAhCeG,aAsCxBkU,GAAU/R,aAAe,CACvBtC,MAAO,aACP4T,cAAe,WACfU,QAAS,GASIlU,mBACb,KACA,CACEwC,iBAAkBmR,IAClBzN,YAAa0N,KAEbzW,YAAaA,GANF6C,CAQbiU,ICjFInB,GAAc,SAAA7X,GAAA,IAAG0I,EAAH1I,EAAG0I,QAASuD,EAAZjM,EAAYiM,OAAWjG,EAAvBrJ,OAAAsJ,GAAA,EAAAtJ,CAAAqD,EAAA,6BAClBwE,EAAAjC,EAAAkC,cAAC2L,GAAA,EAADzT,OAAAwL,OAAA,CACEe,UAAW+C,EAAOkN,UAAYzQ,EAAQ0Q,OAAS1Q,EAAQ2Q,UACvDpN,OAAQA,GACJjG,KAIR6R,GAAY5Q,aAAe,CACzBiF,UAAU,GAGGtC,6BAnBA,CACbwP,OAAQ,CACNE,WAAY,KAEdD,UAAW,IAeEzP,CAAmBiO,ICL5BjJ,GAAoB,SAAA5K,GAAK,OAC7BQ,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAAC8U,GAAcvV,KAsCJuL,GAlCE,SAAAvL,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,CACE0K,QAAS,KACTpD,QAASjL,EAAAjC,EAAAkC,cAAC+U,GAAD,MACT1J,kBAAmBtL,EAAAjC,EAAAkC,cAACgV,GAAD,OACfzV,EAJN,CAKE3H,QAAS,MAETmI,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAACiV,GAAD,CAAahO,OAAO,SAEpBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,QAClBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,SAASuI,UAAQ,IAEnCzP,EAAAjC,EAAAkC,cAAC0P,GAAA,EAAD,CACExP,MAAM,aACNyO,UAAU,cACV1H,OAAO,KACP0I,UAAU,GAEV5P,EAAAjC,EAAAkC,cAAC4P,GAAA,EAAD,CAAW3I,OAAO,SAAS4I,UAAU,KAGvC9P,EAAAjC,EAAAkC,cAACkV,GAAD,CAAgB1X,cAAeA,IAE/BuC,EAAAjC,EAAAkC,cAAC+L,GAAA,EAAD,CAAY7L,MAAM,sCCtCtBiV,8MACJ5I,YAAc,WASZ9Q,QAAQC,IAAI4D,EAAKC,OATC,IAAAG,EAiBdJ,EAAKC,MAJPiI,EAbgB9H,EAahB8H,OACA1E,EAdgBpD,EAchBoD,iBACA0D,EAfgB9G,EAehB8G,YACAtQ,EAhBgBwJ,EAgBhBxJ,SAGFT,EAAayD,IAAQhD,EAAU,CAC7BO,GAAI+Q,EAAO+L,SACXxc,KAAM,CACJqe,gBAAiB5N,EAAO/Q,MAGzBO,KAAK,SAAAuE,GAAcA,EAAXxE,KACP+L,EAAiB,wBAAyB,QAC1C0D,MAEDkG,MAAM,SAAAC,GACLlR,QAAQyB,MAAMyP,GACd7J,EAAiB,QAAS,sFAK9BrH,QAAQC,IAAI4C,KAAKiB,OADV,IAAAwD,EAGkCzE,KAAKiB,MAAtCW,EAHD6C,EAGC7C,MAAO4T,EAHR/Q,EAGQ+Q,cAETjM,KALC9E,EAGuByE,OAEHkN,UAE3B,OACE3U,EAAAjC,EAAAkC,cAACwE,GAAA1G,EAAD,CACEiW,SAAUlM,EACVmM,QAASnM,EAAW,SAAW,WAC/BxC,MAAM,UACNlF,QAAS7B,KAAKiO,aAEb1E,EAAWiM,EAAgB5T,UAlDEG,aAwDtC8U,GAAwB3S,aAAe,CACrCtC,MAAO,aACP4T,cAAe,SACfrd,GAAI,GASS6J,YACb,KACA,CACEwC,iBAAkBmR,IAClBzN,YAAa0N,MAJF5T,CAOb6U,IAPa7U,IClETwR,GAAQ,SAAAvW,GAAgB,IAAbiM,EAAajM,EAAbiM,OACf,OAAOzH,EAAAjC,EAAAkC,cAAA,YAAOwH,EAAM,GAAA9Q,OAAM8Q,EAAOpK,MAAS,KAGtCiY,GAAU,SAAAxI,GAAA,IAAGlN,EAAHkN,EAAGlN,SAAHzH,OAAAsJ,GAAA,EAAAtJ,CAAA2U,EAAA,qBACd9M,EAAAjC,EAAAkC,cAACsV,GAAAxX,EAAD,KACEiC,EAAAjC,EAAAkC,cAAC2N,GAAA,EAAD,CAAYhO,SAAUA,MA8BXuO,GAzBE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAACmO,GAAA,EAADjW,OAAAwL,OAAA,CACEV,MAAOjD,EAAAjC,EAAAkC,cAACuV,GAAD,MACPnH,QAASrO,EAAAjC,EAAAkC,cAACwV,GAAD,CAAShY,cAAeA,KAC7B+B,GAEJQ,EAAAjC,EAAAkC,cAAC4T,GAAA,EAAD,KACE7T,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,QAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAASuI,UAAQ,IACnCzP,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,OAAOuI,UAAQ,SChCrCsC,GAAQ,SAAAvW,GAAgB,IAAbiM,EAAajM,EAAbiM,OACf,OACEzH,EAAAjC,EAAAkC,cAAA,YAAOwH,EAAM,GAAA9Q,OAAMmD,IAAI2N,EAAQ,yBAA4B,OAIzDuK,GAAW,SAACpS,EAAUlJ,EAAIM,GAAf,oBAAAL,OAAsCK,EAAKib,WAA3C,UAWF9D,GATE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACkS,GAAA,EAADha,OAAAwL,OAAA,CAAMV,MAAOjD,EAAAjC,EAAAkC,cAACyV,GAAD,OAAelW,GAC1BQ,EAAAjC,EAAAkC,cAACoS,GAAA,EAAD,CAAYL,SAAUA,IACpBhS,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWzD,OAAO,aCflB6K,GAAQ,SAAAvW,GAAgB,IAAbiM,EAAajM,EAAbiM,OACf,OAAOzH,EAAAjC,EAAAkC,cAAA,YAAOwH,EAASA,EAAOjK,MAAQ,KASzB2Q,GANE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACmO,GAAA,EAADjW,OAAAwL,OAAA,CAAMV,MAAOjD,EAAAjC,EAAAkC,cAAC0V,GAAD,OAAenW,GAC1BQ,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,YCJhB6K,GAAQ,SAAAvW,GAAgB,IAAbiM,EAAajM,EAAbiM,OACf,OAAOzH,EAAAjC,EAAAkC,cAAA,YAAOwH,EAAM,GAAA9Q,OAAMmD,IAAI2N,EAAQ,sBAAyB,KAG3DuK,GAAW,SAACpS,EAAUlJ,EAAIM,GAAf,uBAAAL,OACEK,EAAKqY,eADP,UAYFlB,GATE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACkS,GAAA,EAADha,OAAAwL,OAAA,CAAMV,MAAOjD,EAAAjC,EAAAkC,cAAC2V,GAAD,OAAepW,GAC1BQ,EAAAjC,EAAAkC,cAACoS,GAAA,EAAD,CAAYL,SAAUA,IACpBhS,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWzD,OAAO,aCVlB8I,gMAEFzR,KAAKiB,MAAMd,YACT,UACA,CAAE9G,KAAM,EAAGC,QAAS,KACpB,CAAEG,MAAO,KAAMC,MAAO,OACtB,CAAE0G,SAAUJ,KAAKiB,MAAMjD,MAAM7F,+CAIf,IAAAuZ,EACO1R,KAAKiB,MAAM0Q,QAA1BlZ,EADQiZ,EACRjZ,KAAM2K,EADEsO,EACFtO,KAEd,OAAI,KAAUA,IAASC,MAAMC,QAAQF,EAAKnL,KACjC,GAGFmL,EAAKnL,IAAIC,IAAI,SAAAC,GAAE,MAAK,CAAEA,GAAIM,EAAKN,GAAIA,GAAI2G,KAAMrG,EAAKN,GAAI2G,yCAI7D,OAAO2C,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CAAaD,OAAO,YAAYL,QAAStI,KAAK6R,2BArB1B5J,IAAMlG,WAyBrC0P,GAAiBvN,aAAe,CAC9ByN,QAAS,GACT3T,MAAO,IAGMgE,mBACb,SAAAQ,GAAK,MAAK,CACRxE,MAAOwE,EAAM1E,IAAIE,MACjB2T,QAASnP,EAAM2B,MAAMC,UAAUuN,UAEjC,CAAExR,iBALW6B,CAMbyP,ICjBIzF,GAAU,SAAA/K,GAAK,OACnBQ,EAAAjC,EAAAkC,cAACuK,GAAA,EAAWhL,EACVQ,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,SAAS+G,OAAO,IAAIwD,UAAQ,IAC7C1K,EAAAjC,EAAAkC,cAAC0K,GAAA,EAAD,CAAWxK,MAAM,QAAQ+G,OAAO,QAAQgI,aAAa,kBAErDlP,EAAAjC,EAAAkC,cAAC4V,GAAD,CAAgBnL,UAAQ,IAExB1K,EAAAjC,EAAAkC,cAACkH,GAAA,EAAD,CACED,OAAO,MACPL,QAAS,CACP,CAAEnQ,GAAI,cAAe2G,KAAM,eAC3B,CAAE3G,GAAI,YAAa2G,KAAM,aACzB,CAAE3G,GAAI,cAAe2G,KAAM,oBAM7B+M,GAAoB,SAAA5K,GAAK,OAC7BQ,EAAAjC,EAAAkC,cAACD,EAAAjC,EAAMkI,SAAP,KACEjG,EAAAjC,EAAAkC,cAACkP,EAADhX,OAAAwL,OAAA,CAAiBxD,MAAM,iBAAoBX,IAC3CQ,EAAAjC,EAAAkC,cAACoK,GAADlS,OAAAwL,OAAA,CAAmBxD,MAAM,uBAA0BX,MAqCxCuL,GAjCE,SAAAvL,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACqP,GAAD,KACG,SAAA7R,GAAa,OACZuC,EAAAjC,EAAAkC,cAAC+K,GAAA,EAAD7S,OAAAwL,OAAA,GACMnE,EADN,CAEE3H,QAAS,IACToT,QAASjL,EAAAjC,EAAAkC,cAAC6V,GAAD,MACTxd,OAAQ,CAAEqG,SAAUlB,GACpB6N,kBAAmBtL,EAAAjC,EAAAkC,cAAC8V,GAAD,QAEnB/V,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,WAElBlH,EAAAjC,EAAAkC,cAACuQ,GAAA,EAAD,CACErQ,MAAM,QACNyO,UAAU,UACV1H,OAAO,cAEPlH,EAAAjC,EAAAkC,cAACwQ,GAAA,EAAD,KACEzQ,EAAAjC,EAAAkC,cAAC4P,GAAA,EAAD,CAAW3I,OAAO,WAItBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,aAAauI,UAAQ,IACvCzP,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,WAClBlH,EAAAjC,EAAAkC,cAAC+L,GAAA,EAAD,WCpDJ+F,GAAQ,SAAAvW,GAAgB,IAAbiM,EAAajM,EAAbiM,OACf,OACEzH,EAAAjC,EAAAkC,cAAA,YACGwH,EAAM,GAAA9Q,OACAmD,IAAI2N,EAAQ,gBADZ,KAAA9Q,OAC+BmD,IAAI2N,EAAQ,gBAD3C,KAAA9Q,OAED8Q,EAAOkJ,OAET,KAKJ9C,GAAQ,SAAAf,GAAA,IAAGrF,EAAHqF,EAAGrF,OAAH,OACZzH,EAAAjC,EAAAkC,cAAA,WACGwH,GACC,UAAWA,GACXA,EAAOnK,MAAM7G,IAAI,SAAAyX,GAAI,OAAIlO,EAAAjC,EAAAkC,cAAC+M,GAAAjP,EAAD,CAAMf,IAAKkR,EAAM/N,MAAO+N,QAIvDL,GAAMpL,aAAe,CAAEiF,UAAU,GAEjC,IAAMsO,GAAgB,SAAAjJ,KAAGtF,OAAH,OACpB,MAIFuO,GAAcvT,aAAe,CAAEiF,UAAU,GAEzC,IA2EeyG,GA3EE,SAAA3O,GAAK,OACpBQ,EAAAjC,EAAAkC,cAACmO,GAAA,EAADjW,OAAAwL,OAAA,CAAMV,MAAOjD,EAAAjC,EAAAkC,cAACgW,GAAD,OAAezW,GAC1BQ,EAAAjC,EAAAkC,cAACuO,GAAA,EAAD,KACExO,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,WACTH,EAAAjC,EAAAkC,cAACiW,GAAD,CAAOhP,OAAO,UAEdlH,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,SACV1V,OAAO,iBACPiH,MAAM,gBAENH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,QAIJ1N,EAAAjC,EAAAkC,cAACkW,GAAD,CAAejP,OAAO,WAEtBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAWzL,MAAM,KAAK+G,OAAO,OAC7BlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,YAGpBlH,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,UAAU2O,KAAK,WACxB9O,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,UACV1V,OAAO,iBACPiH,MAAM,gBAENH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,UAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,SAKN1N,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,YAAY2O,KAAK,aAC1B9O,EAAAjC,EAAAkC,cAAC8O,GAAA,EAAD,CAAY7H,OAAO,aACjBlH,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,eAClBlH,EAAAjC,EAAAkC,cAAC+O,GAAD,CAAqB9H,OAAO,WAC5BlH,EAAAjC,EAAAkC,cAACgP,GAAA,EAAD,CAAa/H,OAAO,aAIxBlH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CACEzL,MAAM,+BACN+G,OAAO,WACPhR,KAAK,aAEP8J,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW1O,MAAM,mBAAmB+G,OAAO,iBAG3ClH,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAWzL,MAAM,WAAW+G,OAAO,WAErClH,EAAAjC,EAAAkC,cAACwO,GAAA,EAAD,CAAKtO,MAAM,WAAW2O,KAAK,YACzB9O,EAAAjC,EAAAkC,cAAC0O,GAAA,EAAD,CACEC,UAAU,WACV1V,OAAO,iBACPwO,UAAU,GAEV1H,EAAAjC,EAAAkC,cAACuL,GAAA,EAAD,KACExL,EAAAjC,EAAAkC,cAAC2L,GAAA,EAAD,CAAW1E,OAAO,SAClBlH,EAAAjC,EAAAkC,cAAC4O,GAAA,EAAD,CAAW3H,OAAO,eAClBlH,EAAAjC,EAAAkC,cAACyN,GAAA,EAAD,YClGC0I,GAAY,SAACC,EAAalgB,GACrC,SAAKsH,KAAgC,WAAbtH,IAmIXmgB,oLA1HX,OACEtW,EAAAjC,EAAAkC,cAACsW,EAAA,EAAD,CAEEC,UAAWxQ,GACXyQ,eAAgBA,EAChBC,YAAaA,EACbhQ,aAAcA,GACdiQ,aAAcA,EACdjhB,aAAcA,EACdkhB,aAAc,CACZva,IAAK,CACHE,MAAOQ,EAAM,gBAAkB,MAIlC,SAAAsZ,GAAW,MAAI,CACdrW,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,YAELsE,KAAMyU,GAAUC,EAAa,aAAeS,GAAe,OAG7D9W,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,eACL7F,QAAS,CAAE2I,MAAO,iBAClBwB,KACEyU,GAAUC,EAAa,gBAAkBU,GAAkB,KAE7DC,KACEZ,GAAUC,EAAa,gBAAkBY,GAAkB,OAI/DjX,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,YACLsE,KAAMyU,GAAUC,EAAa,aAAea,GAAc,KAC1DF,KAAMZ,GAAUC,EAAa,aAAec,GAAc,OAG5DnX,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,UACLsE,KAAMyU,GAAUC,EAAa,WAAaS,GAAe,OAG3D9W,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,WACLsE,KAAMyU,GAAUC,EAAa,YAAcS,GAAe,OAG5D9W,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,QACLsE,KAAMyU,GAAUC,EAAa,SAAWS,GAAe,OAGzD9W,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,OACL7F,QAAS,CAAE2I,MAAO,QAClBwB,KAAMyU,GAAUC,EAAa,QAAUS,GAAe,OAGxD9W,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,UACLsE,KAAMyU,GAAUC,EAAa,WAAae,GAAa,KACvDC,KAAMjB,GAAUC,EAAa,WAAanE,GAAa,OAGzDlS,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,eACLsE,KACEyU,GAAUC,EAAa,gBAAkBiB,GAAkB,OAI/DtX,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,SACLsE,KAAMyU,GAAUC,EAAa,UAAYkB,GAAY,KACrDP,KAAMZ,GAAUC,EAAa,UAAYmB,GAAY,KACrDhgB,QAAS,CAAE2I,MAAO,cAGpBH,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,WACLsE,KAAMyU,GAAUC,EAAa,YAAcoB,GAAe,KAC1DT,KAAMZ,GAAUC,EAAa,YAAcqB,GAAe,OAG5D1X,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,SACLga,KAAMjB,GAAUC,EAAa,UAAYsB,GAAa,OAGxD3X,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,cACLga,KACEjB,GAAUC,EAAa,eAAiBuB,GAAkB,KAE5DZ,KACEZ,GAAUC,EAAa,eAAiBwB,GAAkB,OAI9D7X,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CAAUxZ,KAAK,YAEf2C,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CACExZ,KAAK,SACLsE,KAAMyU,GAAUC,EAAa,UAAYyB,GAAY,KACrDd,KAAMZ,GAAUC,EAAa,UAAY0B,GAAY,OAGvD/X,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CAAUxZ,KAAK,aAEf2C,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CAAUxZ,KAAK,cAEf2C,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CAAUxZ,KAAK,aAEf2C,EAAAjC,EAAAkC,cAAC4W,EAAA,EAAD,CAAUxZ,KAAK,qBArHPmJ,IAAMlG,WCpBlB0X,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTthB,KAAK,SAAA0hB,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB9X,QACfyX,UAAUC,cAAcO,WAK1Btd,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrBgR,MAAM,SAAAxP,GACLzB,QAAQyB,MAAM,4CAA6CA,KCzEjE8b,IAASzR,OAAOxH,EAAAjC,EAAAkC,cAACiZ,GAAD,MAASC,SAASC,eAAe,SDclC,WACb,GAA6C,kBAAmBZ,UAAW,CAGzE,GADkB,IAAIa,IAAIjf,GAAwB8d,OAAOC,UAC3CmB,SAAWpB,OAAOC,SAASmB,OAIvC,OAGFpB,OAAOqB,iBAAiB,OAAQ,WAC9B,IAAMhB,EAAK,GAAA5hB,OAAMyD,GAAN,sBAEP4d,IAiDV,SAAiCO,GAE/Bld,MAAMkd,GACHthB,KAAK,SAAAE,GAGkB,MAApBA,EAASmE,SACuD,IAAhEnE,EAASuC,QAAQI,IAAI,gBAAgBiS,QAAQ,cAG7CyM,UAAUC,cAAce,MAAMviB,KAAK,SAAA0hB,GACjCA,EAAac,aAAaxiB,KAAK,WAC7BihB,OAAOC,SAASuB,aAKpBpB,GAAgBC,KAGnB5L,MAAM,WACLjR,QAAQC,IACN,mEArEAge,CAAwBpB,GAIxBC,UAAUC,cAAce,MAAMviB,KAAK,WACjCyE,QAAQC,IACN,+GAMJ2c,GAAgBC,MCzCxBqB","file":"static/js/main.857c2a41.chunk.js","sourcesContent":["import { fetchUtils } from 'react-admin';\nimport restProvider from './restProvider';\n\nconst httpClient = (url, options) => {\n  if (!options.headers) {\n    options.headers = new Headers({\n      Accept: 'application/json'\n    });\n  }\n  const token = localStorage.getItem('token');\n  options.headers.set('Authorization', `Bearer ${token}`);\n  return fetchUtils.fetchJson(url, options);\n};\n\nconst dataProvider = restProvider(\n  process.env.REACT_APP_API_ENDPOINT,\n  httpClient\n);\n\nexport default dataProvider;\n","import { stringify } from 'qs';\nimport {\n  fetchUtils,\n  GET_LIST,\n  GET_ONE,\n  GET_MANY,\n  GET_MANY_REFERENCE,\n  CREATE,\n  UPDATE,\n  UPDATE_MANY,\n  DELETE,\n  DELETE_MANY\n} from 'react-admin';\n\n/**\n * Maps react-admin queries to a json-server powered REST API\n *\n * @see https://github.com/typicode/json-server\n * @example\n * GET_LIST     => GET http://my.api.url/posts?_sort=title&_order=ASC&_start=0&_end=24\n * GET_ONE      => GET http://my.api.url/posts/123\n * GET_MANY     => GET http://my.api.url/posts/123, GET http://my.api.url/posts/456, GET http://my.api.url/posts/789\n * UPDATE       => PUT http://my.api.url/posts/123\n * CREATE       => POST http://my.api.url/posts/123\n * DELETE       => DELETE http://my.api.url/posts/123\n */\nexport default (apiUrl, httpClient = fetchUtils.fetchJson) => {\n  /**\n   * @param {String} type One of the constants appearing at the top if this file, e.g. 'UPDATE'\n   * @param {String} resource Name of the resource to fetch, e.g. 'posts'\n   * @param {Object} params The data request params, depending on the type\n   * @returns {Object} { url, options } The HTTP request parameters\n   */\n  const convertDataRequestToHTTP = (type, resource, params) => {\n    let url = '';\n    const options = {};\n    switch (type) {\n      case GET_LIST: {\n        const { page, perPage } = params.pagination;\n        const { field, order } = params.sort;\n        const query = {\n          ...fetchUtils.flattenObject(params.filter),\n\n          _sort: field,\n          _order: order,\n          _page: page,\n          _perPage: perPage\n          //_start: (page - 1) * perPage,\n          //_end: page * perPage,\n        };\n        url = `${apiUrl}/${resource}?${stringify(query, {\n          strictNullHandling: true\n        })}`;\n        break;\n      }\n      case GET_ONE:\n        url = `${apiUrl}/${resource}/${params.id}`;\n        break;\n      case GET_MANY_REFERENCE: {\n        const { page, perPage } = params.pagination;\n        const { field, order } = params.sort;\n        const query = {\n          ...fetchUtils.flattenObject(params.filter),\n          [params.target]: params.id,\n          _sort: field,\n          _order: order,\n          _page: page,\n          _perPage: perPage\n          //_start: (page - 1) * perPage,\n          //_end: page * perPage,\n        };\n        url = `${apiUrl}/${resource}?${stringify(query, {\n          strictNullHandling: true\n        })}`;\n        break;\n      }\n      case UPDATE:\n        url = `${apiUrl}/${resource}/${params.id}`;\n        options.method = 'PUT';\n        options.body = JSON.stringify(params.data);\n        break;\n      case CREATE:\n        url = `${apiUrl}/${resource}`;\n        options.method = 'POST';\n        options.body = JSON.stringify(params.data);\n        break;\n      case DELETE:\n        url = `${apiUrl}/${resource}/${params.id}`;\n        options.method = 'DELETE';\n        break;\n      case GET_MANY: {\n        //we allow only > 1 related ids....\n        const query = {\n          [`id_like`]: params.ids.filter(id => id).join('|')\n        };\n        url = `${apiUrl}/${resource}?${stringify(query, {\n          strictNullHandling: true\n        })}`;\n        break;\n      }\n      default:\n        throw new Error(`Unsupported fetch action type ${type}`);\n    }\n    return { url, options };\n  };\n\n  /**\n   * @param {Object} response HTTP response from fetch()\n   * @param {String} type One of the constants appearing at the top if this file, e.g. 'UPDATE'\n   * @param {String} resource Name of the resource to fetch, e.g. 'posts'\n   * @param {Object} params The data request params, depending on the type\n   * @returns {Object} Data response\n   */\n  const convertHTTPResponse = (response, type, resource, params) => {\n    const { headers, json } = response;\n    switch (type) {\n      case GET_LIST:\n      case GET_MANY_REFERENCE:\n        if (!headers.has('x-total-count')) {\n          throw new Error(\n            'The X-Total-Count header is missing in the HTTP Response. The jsonServer Data Provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare X-Total-Count in the Access-Control-Expose-Headers header?'\n          );\n        }\n        return {\n          data: json.data,\n          total: parseInt(\n            headers\n              .get('x-total-count')\n              .split('/')\n              .pop(),\n            10\n          ),\n          meta: 'meta' in json ? json.meta : []\n        };\n      case CREATE:\n        return { data: { ...params.data, id: json.id } };\n      default:\n        return { data: json.data };\n    }\n  };\n\n  /**\n   * @param {string} type Request type, e.g GET_LIST\n   * @param {string} resource Resource name, e.g. \"posts\"\n   * @param {Object} payload Request parameters. Depends on the request type\n   * @returns {Promise} the Promise for a data response\n   */\n  return (type, resource, params) => {\n    // json-server doesn't handle filters on UPDATE route, so we fallback to calling UPDATE n times instead\n    if (type === UPDATE_MANY) {\n      return Promise.all(\n        params.ids.map(id =>\n          httpClient(`${apiUrl}/${resource}/${id}`, {\n            method: 'PATCH',\n            body: JSON.stringify(params.data)\n          })\n        )\n      ).then(responses => ({\n        data: responses.map(response => response.json)\n      }));\n    }\n    // json-server doesn't handle filters on DELETE route, so we fallback to calling DELETE n times instead\n    if (type === DELETE_MANY) {\n      return Promise.all(\n        params.ids.map(id =>\n          httpClient(`${apiUrl}/${resource}/${id}`, {\n            method: 'DELETE'\n          })\n        )\n      ).then(responses => ({\n        data: responses.map(response => response.json)\n      }));\n    }\n    const { url, options } = convertDataRequestToHTTP(type, resource, params);\n    return httpClient(url, options).then(response =>\n      convertHTTPResponse(response, type, resource, params)\n    );\n  };\n};\n","import {\n  AUTH_LOGIN,\n  AUTH_LOGOUT,\n  AUTH_ERROR,\n  AUTH_CHECK,\n  AUTH_GET_PERMISSIONS\n} from 'react-admin';\n\nexport default (type, params) => {\n  if (type === AUTH_GET_PERMISSIONS) {\n  }\n\n  if (type === AUTH_LOGIN) {\n    const { username, password } = params;\n\n    const formData = new FormData();\n    formData.append('client_id', process.env.REACT_APP_OAUTH_CLIENT_ID);\n    formData.append('grant_type', process.env.REACT_APP_OAUTH_GRANT_TYPE);\n    formData.append('scope', process.env.REACT_APP_OAUTH_SCOPE);\n    formData.append('username', username);\n    formData.append('password', password);\n\n    const request = new Request(process.env.REACT_APP_OAUTH_TOKEN_URL, {\n      method: 'POST',\n      body: formData\n\n      // headers: new Headers({ 'Content-Type': 'application/json' }),\n    });\n\n    return fetch(request)\n      .then(response => {\n        if (response.status < 200 || response.status >= 300) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then(({ access_token }) => {\n        console.log(access_token);\n\n        localStorage.setItem('token', access_token);\n      });\n  }\n\n  if (type === AUTH_LOGOUT) {\n    localStorage.removeItem('token');\n    return Promise.resolve();\n  }\n\n  if (type === AUTH_ERROR) {\n    const status = params.status;\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('token');\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  }\n\n  if (type === AUTH_CHECK) {\n    const { resource } = params;\n    return localStorage.getItem('token') ? Promise.resolve() : Promise.reject();\n  }\n\n  if (type === AUTH_GET_PERMISSIONS) {\n    return Promise.resolve();\n  }\n\n  return Promise.reject('Unkown method');\n};\n","export const CHANGE_EVENT = 'EJ/CHANGE_EVENT';\nexport const MESSAGE_CREATE = 'EJ/MESSAGE_CREATE';\nexport const DIALOG_SHOW = 'EJ/DIALOG_SHOW';\nexport const DIALOG_HIDE = 'EJ/DIALOG_HIDE';\nexport const CHANGE_COMPANY_ADMIN = 'EJ/CHANGE_COMPANY_ADMIN';\nexport const BULK_CHANGE_COMPANY_ADMIN = 'EJ/BULK_CHANGE_COMPANY_ADMIN';\nexport const CHANGE_RESOURCE_FLAG = 'EJ/CHANGE_RESOURCE_FLAG';\n","import { default as app } from './app';\nimport { default as ui } from './ui';\n\nexport default { app, ui };\n","import { CHANGE_EVENT, MESSAGE_CREATE } from '../types';\n//import { lsGet } from '../../api/app';\n\nexport default (\n  previousState = {\n    event: {},\n    message: {\n      subject: '',\n      text: ''\n    }\n  },\n  action\n) => {\n  switch (action.type) {\n    case CHANGE_EVENT:\n      return { ...previousState, event: action.payload };\n\n    case MESSAGE_CREATE:\n      return { ...previousState, message: action.payload };\n\n    default:\n      return previousState;\n  }\n};\n","import { DIALOG_HIDE, DIALOG_SHOW } from '../types';\n\nexport default (\n  previousState = {\n    dialog: {}\n  },\n  action\n) => {\n  switch (action.type) {\n    case DIALOG_SHOW:\n      return { ...previousState, dialog: action.payload };\n\n    case DIALOG_HIDE:\n      return { ...previousState, dialog: {} };\n\n    default:\n      return previousState;\n  }\n};\n","import get from 'lodash/get';\n\nexport const uniqueValues = arr => [...new Set(uniqueValues)];\n\nexport const lsGet = key => {\n  const item = localStorage.getItem(key);\n\n  try {\n    return JSON.parse(item);\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const statuses = [\n  { id: 'new', name: 'NEW' },\n  { id: 'hold', name: 'HOLD' },\n  { id: 'ok', name: 'OK' },\n  { id: 'cancelled', name: 'CANCELLED' }\n];\n\nexport const roles = [\n  { id: 'visitor', name: 'visitor' },\n  { id: 'exhibitor', name: 'exhibitor' },\n  { id: 'presenter', name: 'presenter' },\n  { id: 'contestant', name: 'contestant' },\n  { id: 'representative', name: 'representative' }\n];\n\nexport const lsSet = (key, value) =>\n  localStorage.setItem(key, JSON.stringify(value));\n\nexport const setActiveEvent = event => lsSet('activeEvent', event);\nexport const activeEventId = () => get(lsGet('activeEvent'), 'id', 0);\n\nexport const getEventName = () =>\n  get(lsGet('activeEvent'), 'name', '-- no event set --');\n\nexport default activeEventId;\n","import { call, put, takeEvery, all } from 'redux-saga/effects';\n\nimport { setActiveEvent } from '../../api/app';\nimport activeEventId from '../../api/app';\n\nimport { CHANGE_EVENT, BULK_CHANGE_COMPANY_ADMIN } from '../types';\n\nimport {\n  changeListParams,\n  crudGetList,\n  CRUD_GET_LIST_SUCCESS\n} from 'react-admin';\n\nfunction* changeEvent(actionData) {\n  yield call(setActiveEvent, actionData.payload);\n}\n\nfunction* getAdminsWhen(action) {\n  const { meta } = action;\n  if (meta.resource === 'companies') {\n    yield put(\n      crudGetList(\n        'admins',\n        { page: 1, perPage: 1000 },\n        { field: 'id', order: 'ASC' },\n        { event_id: activeEventId() }\n      )\n    );\n  }\n}\n\nfunction* removeCompanyFilters(action) {\n  yield put(\n    changeListParams('companies', {\n      filter: {\n        present: true,\n        featured: false\n      },\n      order: 'DESC',\n      page: 1,\n      perPage: 100,\n      sort: 'id'\n    })\n  );\n}\n\nfunction* appSaga() {\n  yield all([takeEvery(CHANGE_EVENT, changeEvent)]);\n  yield all([takeEvery(CRUD_GET_LIST_SUCCESS, getAdminsWhen)]);\n  // yield all([takeEvery(`${BULK_CHANGE_COMPANY_ADMIN}_SUCCESS`, removeCompanyFilters)]);\n}\n\nexport default [appSaga];\n","import * as Types from './types';\nimport { UPDATE, UPDATE_MANY } from 'react-admin';\n\nexport const changeEvent = event => ({\n  type: Types.CHANGE_EVENT,\n  payload: event\n});\n\nexport const changeCompanyAdmin = (id, data, basePath) => ({\n  type: Types.CHANGE_COMPANY_ADMIN,\n  payload: { id, data },\n  meta: {\n    fetch: UPDATE,\n    resource: 'companies',\n    refresh: true\n    // notification: {\n    //   body: 'resources.comments.notification.approved_success',\n    //   level: 'info',\n    // },\n    // redirectTo: '/comments',\n    // unselectAll : true,\n    // basePath : basePath\n  }\n});\n\nexport const bulkChangeCompanyAdmin = (ids, data, basePath) => ({\n  type: Types.BULK_CHANGE_COMPANY_ADMIN,\n  payload: { ids, data },\n  meta: {\n    fetch: UPDATE_MANY,\n    resource: 'companies',\n    refresh: true,\n    // notification: {\n    //   body: 'resources.comments.notification.approved_success',\n    //   level: 'info',\n    // },\n    // redirectTo: '/comments',\n    unselectAll: true\n    // basePath : basePath\n  }\n});\n\nexport const changeResourceFlag = (resource, id, data, basePath) => ({\n  type: Types.CHANGE_RESOURCE_FLAG,\n  payload: { id, data },\n  meta: {\n    fetch: UPDATE,\n    resource: resource,\n    refresh: true\n    // notification: {\n    //   body: 'resources.comments.notification.approved_success',\n    //   level: 'info',\n    // },\n    // redirectTo: '/comments',\n    // unselectAll : true,\n    // basePath : basePath\n  }\n});\n\nexport const createMessage = data => ({\n  type: Types.MESSAGE_CREATE,\n  payload: data\n});\n\nexport const showDialog = data => ({\n  type: Types.DIALOG_SHOW,\n  payload: data\n});\n\nexport const hideDialog = () => ({\n  type: Types.DIALOG_HIDE\n});\n\n// export const changeEvent = (id, data, basePath) => ({\n//     type: Types.CHANGE_EVENT,\n//     payload: { id, data: { ...data, is_approved: true } },\n//     meta: { resource: 'comments', fetch: UPDATE },\n// });\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, crudUpdateMany } from 'react-admin';\nimport { Confirm } from 'react-admin';\nimport Forward from '@material-ui/icons/Forward';\n\nclass SetStatusAction extends Component {\n  handleDialogClose = () => {\n    this.props.onExit();\n  };\n\n  handleConfirm = () => {\n    const { basePath, crudUpdateMany, resource, selectedIds } = this.props;\n    crudUpdateMany(resource, selectedIds, { views: 0 }, basePath);\n    this.props.onExit();\n  };\n\n  showDialog = () => {};\n\n  render() {\n    return (\n      <Button label=\"actions.change_status\" onClick={this.showDialog}>\n        <Forward />\n      </Button>\n    );\n\n    return (\n      <Confirm\n        isOpen={true}\n        title=\"Update View Count\"\n        content=\"Are you sure you want to reset the views for these items?\"\n        onConfirm={this.handleConfirm}\n        onClose={this.handleDialogClose}\n      />\n    );\n  }\n}\n\nexport default connect(\n  undefined,\n  { crudUpdateMany }\n)(SetStatusAction);\n","import React, { Component } from 'react';\n\nimport { connect } from 'react-redux';\nimport { crudGetList } from 'react-admin';\nimport { createMessage } from '../redux';\nimport debounce from 'lodash/debounce';\n\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport dataProvider from '../api/httpClient';\n\nclass EmailForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      senderName: '',\n      senderEmail: '',\n      subject: '',\n      text: '',\n      template_id: 0\n    };\n\n    this.onChange = debounce(this.props.createMessage, 500);\n  }\n\n  handleChange = name => event => {\n    const { templates } = this.props;\n\n    const value = event.target.value;\n\n    this.setState({ [name]: value });\n\n    if (name === 'template_id') {\n      //get template data... update subject and message!\n      this.setState({\n        subject: `${value} subject`,\n        text: `${value} text`\n      });\n    }\n  };\n\n  componentWillMount() {\n    const { crudGetList, event } = this.props;\n\n    crudGetList(\n      'templates',\n      { page: 1, perPage: 1000 },\n      { field: 'id', order: 'ASC' },\n      { event_id: event.id }\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    const { template_id, ...rest } = this.state;\n    this.onChange(rest);\n  }\n\n  templates() {\n    const { data, list } = this.props.templates;\n\n    if (!'ids' in list || !Array.isArray(list.ids)) {\n      return [];\n    }\n\n    return list.ids.map(id => (\n      <MenuItem key={data[id].id} value={data[id].id}>\n        {data[id].name}\n      </MenuItem>\n    ));\n  }\n\n  render() {\n    return (\n      <div>\n        <FormControl>\n          <InputLabel htmlFor=\"age-simple\">Template</InputLabel>\n          <Select\n            value={this.state.template_id}\n            onChange={this.handleChange('template_id')}\n          >\n            <MenuItem value={0}>\n              <em>None</em>\n            </MenuItem>\n            {this.templates()}\n          </Select>\n        </FormControl>\n\n        <TextField\n          id=\"sender\"\n          label=\"Sender Name\"\n          fullWidth\n          value={this.state.senderName}\n          onChange={this.handleChange('senderName')}\n          //className={classes.textField}\n          margin=\"normal\"\n        />\n\n        <TextField\n          id=\"subject\"\n          label=\"Subject\"\n          fullWidth\n          value={this.state.subject}\n          onChange={this.handleChange('subject')}\n          //className={classes.textField}\n          margin=\"normal\"\n        />\n\n        <TextField\n          id=\"content\"\n          label=\"Content\"\n          multiline\n          fullWidth\n          rows=\"8\"\n          rowsMax=\"15\"\n          value={this.state.text}\n          onChange={this.handleChange('text')}\n          //className={classes.textField}\n          margin=\"normal\"\n        />\n      </div>\n    );\n  }\n}\n\nEmailForm.defaultProps = {\n  templates: {},\n  event: {}\n};\n\nexport default connect(\n  state => ({\n    event: state.app.event,\n    templates: state.admin.resources.templates\n  }),\n  { createMessage, crudGetList }\n)(EmailForm);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, crudCreate, showNotification } from 'react-admin';\nimport EmailForm from '../EmailForm';\nimport Email from '@material-ui/icons/Email';\nimport { showDialog, hideDialog } from '../../redux';\n/* \n\n  PROPS\n\n  resource: \n  basePath: \n  filterValues:\n  selectedIds:\n\n*/\n\nclass SendMessageAction extends Component {\n  onQuit = () => {\n    this.props.hideDialog();\n  };\n\n  handleConfirm = () => {\n    const {\n      message,\n      basePath,\n      crudCreate,\n      showNotification,\n      resource,\n      selectedIds\n    } = this.props;\n\n    //do not even show notification\n    if (!message) {\n      return;\n    }\n\n    const { subject, text, senderName, senderEmail } = message;\n\n    if (subject.length < 10 || text.length < 10) {\n      showNotification('Message too short!', 'warning');\n      return;\n    }\n\n    crudCreate(\n      'messages',\n      { resource, ids: selectedIds, ...message },\n      basePath,\n      false\n    );\n  };\n\n  showDialog = () => {\n    const { label, showDialog } = this.props;\n\n    showDialog({\n      title: label,\n      content: <EmailForm />,\n      onConfirm: this.handleConfirm,\n      onClose: this.onQuit\n    });\n  };\n\n  render() {\n    const { label } = this.props;\n\n    return (\n      <Button label={label} onClick={this.showDialog}>\n        <Email />\n      </Button>\n    );\n  }\n}\n\nSendMessageAction.defaultProps = {\n  label: 'actions.send_message'\n};\n\nexport default connect(\n  (state, props) => ({ message: state.app.message }),\n  { crudCreate, showNotification, showDialog, hideDialog }\n)(SendMessageAction);\n","import React from 'react';\n//import PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nconst AppTitle = ({ event, ...rest }) => {\n  //console.log(event, rest);\n  return <span>{event && 'name' in event ? event.name : '______'}</span>;\n};\n\nAppTitle.defaultProps = {\n  event: {}\n};\n\nAppTitle.propTypes = {};\n\nexport default connect(\n  state => ({ event: state.app.event }),\n  {}\n)(AppTitle);\n","import React from 'react';\nimport { Menu } from 'react-admin';\nimport { connect } from 'react-redux';\n\nconst MyMenu = ({ dispatch, activeEvent, ...props }) => {\n  return <Menu key={activeEvent.id} {...props} />;\n};\n\nexport default connect(\n  state => ({\n    activeEvent: state.app.event\n  }),\n  null\n)(MyMenu);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { translate } from 'react-admin';\nimport classnames from 'classnames';\nimport compose from 'recompose/compose';\nimport { showDialog, hideDialog } from '../redux';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionCheck from '@material-ui/icons/CheckCircle';\nimport AlertError from '@material-ui/icons/ErrorOutline';\n\nconst styles = theme => ({\n  confirmPrimary: {\n    color: theme.palette.primary.main\n  },\n  confirmWarning: {\n    color: theme.palette.error.main,\n    '&:hover': {\n      backgroundColor: fade(theme.palette.error.main, 0.12),\n      // Reset on mouse devices\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }\n  },\n  iconPaddingStyle: {\n    paddingRight: '0.5em'\n  }\n});\n\n/**\n * Confirmation dialog\n *\n * @example\n * <Confirm\n *     isOpen={true}\n *     title=\"Delete Item\"\n *     content=\"Are you sure you want to delete this item?\"\n *     confirm=\"Yes\"\n *     confirmColor=\"primary\"\n *     cancel=\"Cancel\"\n *     onConfirm={() => { // do something }}\n *     onClose={() => { // do something }}\n * />\n */\nconst Confirm = ({\n  isOpen,\n  title,\n  confirm,\n  cancel,\n  confirmColor,\n  onConfirm,\n  onClose,\n  classes,\n  fullWidth,\n  content,\n  dialog,\n  hideDialog\n}) => (\n  <Dialog\n    open={'title' in dialog}\n    onClose={() => {\n      'onClose' in dialog ? dialog.onClose() : hideDialog();\n    }}\n    fullWidth={true}\n    aria-labelledby=\"alert-dialog-title\"\n  >\n    <DialogTitle id=\"alert-dialog-title\">\n      {'title' in dialog ? dialog.title : ''}\n    </DialogTitle>\n    <DialogContent>{'content' in dialog ? dialog.content : ''}</DialogContent>\n    <DialogActions>\n      <Button\n        onClick={'onConfirm' in dialog ? dialog.onConfirm : function() {}}\n        className={classnames('ra-confirm', {\n          [classes.confirmWarning]: confirmColor === 'warning',\n          [classes.confirmPrimary]: confirmColor === 'primary'\n        })}\n        autoFocus\n      >\n        <ActionCheck className={classes.iconPaddingStyle} />\n        {confirm}\n      </Button>\n      <Button\n        onClick={() => {\n          'onClose' in dialog ? dialog.onClose() : hideDialog();\n        }}\n      >\n        <AlertError className={classes.iconPaddingStyle} />\n        {cancel}\n      </Button>\n    </DialogActions>\n  </Dialog>\n);\n\nConfirm.propTypes = {\n  cancel: PropTypes.string.isRequired,\n  classes: PropTypes.object.isRequired,\n  confirm: PropTypes.string.isRequired,\n  confirmColor: PropTypes.string.isRequired,\n\n  dialog: PropTypes.shape({\n    title: PropTypes.string,\n    content: PropTypes.node,\n    onConfirm: PropTypes.func,\n    onClose: PropTypes.func\n  })\n};\n\nConfirm.defaultProps = {\n  cancel: 'Cancel',\n  classes: {},\n  confirm: 'Confirm',\n  confirmColor: 'primary'\n};\n\nconst enhance = compose(\n  withStyles(styles),\n  translate,\n  connect(\n    state => ({ dialog: state.ui.dialog }),\n    { hideDialog }\n  )\n);\n\nexport default enhance(Confirm);\n","import React from 'react';\nimport { Layout } from 'react-admin';\nimport MyMenu from './MyMenu';\nimport MyAppBar from './MyAppBar';\nimport MyDialog from './MyDialog';\n\nconst MyLayout = props => (\n  <React.Fragment>\n    <Layout\n      {...props}\n      //  appBar={MyAppBar}\n      menu={MyMenu}\n      //notification={MyNotification}\n    />\n\n    <MyDialog />\n  </React.Fragment>\n);\n\nexport default MyLayout;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { refreshView } from 'react-admin';\n\nclass WithEvent extends React.Component {\n  // shouldComponentUpdate(nextProps, nextState){\n  //   if(this.props.activeEventId !== nextProps.activeEventId){\n  //     return true\n  //   }\n  //   return false\n  // }\n\n  // componentDidUpdate(prevProps){\n  //   console.log(this.props, prevProps)\n  //   this.props.refreshView();\n  // }\n\n  render() {\n    return this.props.children(this.props.activeEventId, {});\n  }\n}\n\nexport default connect(\n  state => ({\n    activeEventId:\n      'id' in state.app.event && state.app.event.id ? state.app.event.id : 0\n  }),\n  { refreshView }\n)(WithEvent);\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nexport default [\n  // <Route exact path=\"/foo\" component={Foo} />,\n  // <Route exact path=\"/bar\" component={Bar} />,\n  // <Route exact path=\"/baz\" component={Baz} noLayout />,\n];\n","import React from 'react';\n\nimport { SelectArrayInput } from 'react-admin';\n\nconst CompanyData = props => (\n  <SelectArrayInput\n    {...props}\n    // source=\"fields\"\n    choices={[\n      { id: 'website', name: 'website' },\n      { id: 'facebook', name: 'facebook' },\n      { id: 'linkedin', name: 'linkedin' },\n      { id: 'event_manager', name: 'Event Manager' },\n      { id: 'twitter', name: 'twitter' }\n    ]}\n  />\n);\n\nexport default CompanyData;\n","import React from 'react';\nimport { connect } from 'react-redux';\n// import compose from 'recompose/compose';\n// import { withStyles } from '@material-ui/core/styles';\n\nimport {\n  SelectInput\n  //SelectArrayInput,\n} from 'react-admin';\n\nclass Admin extends React.Component {\n  buildChoices() {\n    const { admins } = this.props;\n\n    return admins.list.ids.map(id => ({\n      id: admins.data[id].id,\n      name: `${admins.data[id].fname} ${admins.data[id].lname}`\n    }));\n  }\n\n  render() {\n    const { source, label } = this.props;\n\n    return (\n      <SelectInput\n        source={source}\n        label={label}\n        choices={this.buildChoices()}\n      />\n    );\n  }\n}\n\nAdmin.defaultProps = {};\n\nexport default connect(\n  state => ({ admins: state.admin.resources.admins }),\n  {}\n)(Admin);\n","import React from 'react';\nimport { FunctionField } from 'react-admin';\nimport { withStyles } from '@material-ui/core/styles';\nimport get from 'lodash/get';\n\nconst styles = {\n  primary: {\n    display: 'block',\n    fontSize: '0.92rem'\n  },\n  secondary: {\n    display: 'block',\n    color: '#888888'\n  }\n};\n\nconst DoubleTextField = ({ classes, primary, secondary, ...rest }) => (\n  <FunctionField\n    {...rest}\n    className={classes.name}\n    render={record => (\n      <React.Fragment>\n        <span className={classes.primary}>{get(record, primary)}</span>\n        <span className={classes.secondary}>{get(record, secondary)}</span>\n      </React.Fragment>\n    )}\n  />\n);\n\nDoubleTextField.defaultProps = {\n  addLabel: true\n};\n\nexport default withStyles(styles)(DoubleTextField);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport compose from 'recompose/compose';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\n\nimport get from 'lodash/get';\n\nimport { showDialog, hideDialog } from '../../redux';\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  }\n});\n\nclass Admins extends React.Component {\n  render() {\n    const { admins, classes, selected, onClick } = this.props;\n\n    return (\n      <List className={classes.root}>\n        {admins.list.ids.map(id => (\n          <ListItem\n            key={id}\n            button\n            selected={id == selected}\n            onClick={() => onClick(id)}\n          >\n            <Avatar>{get(admins.data[id], 'initials')}</Avatar>\n            <ListItemText\n              primary={`${get(admins.data[id], 'fname')} ${get(\n                admins.data[id],\n                'lname'\n              )}`}\n              secondary=\".\"\n            />\n          </ListItem>\n        ))}\n      </List>\n    );\n  }\n}\n\nAdmins.defaultProps = {\n  admins: {},\n  selected: 0,\n  onClick: function() {}\n};\n\nconst enhance = compose(\n  withStyles(styles),\n  connect(\n    state => ({ admins: state.admin.resources.admins }),\n    { showDialog, hideDialog }\n  )\n);\n\nexport default enhance(Admins);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport get from 'lodash/get';\nimport classNames from 'classnames';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport { withStyles } from '@material-ui/core/styles';\nimport deepOrange from '@material-ui/core/colors/deepOrange';\n\nimport { changeCompanyAdmin } from '../../../redux';\nimport { showDialog, hideDialog } from '../../../redux';\n\nimport Admins from '../../../components/BulkActions/Admins';\n\nconst styles = {\n  avatar: {\n    margin: 10,\n    color: '#fff',\n    cursor: 'pointer'\n  },\n\n  adminNotSet: {\n    backgroundColor: '#cccccc'\n  },\n\n  adminSet: {\n    backgroundColor: deepOrange[500]\n  }\n};\n\nclass SelectAdminField extends React.Component {\n  onQuit = () => {\n    this.props.hideDialog();\n  };\n\n  handleConfirm = id => {\n    const { changeCompanyAdmin, record, basePath } = this.props;\n    //this should be rather taken from REDUX....\n    //in order to facilitate showDialog / onConfirm / error handling\n    changeCompanyAdmin(record.id, { admin_id: id }, basePath);\n    this.onQuit();\n  };\n\n  showAction = name => event => {\n    const { showDialog, label, record } = this.props;\n\n    showDialog({\n      title: record.slug,\n      content: (\n        <div>\n          <Admins onClick={this.handleConfirm} selected={record.admin_id} />\n        </div>\n      ),\n      //onConfirm: this.handleConfirm,\n      onClose: this.onQuit\n    });\n  };\n\n  render() {\n    const { classes, admins, record } = this.props;\n\n    return (\n      <Avatar\n        className={classNames({\n          [classes.avatar]: true,\n          [classes.adminNotSet]: !record.admin_id,\n          [classes.adminSet]: record.admin_id\n        })}\n        onClick={this.showAction()}\n      >\n        {record.admin_id ? get(admins.data[record.admin_id], 'initials') : ''}\n      </Avatar>\n    );\n  }\n}\n\nSelectAdminField.defaultProps = {\n  label: '',\n  record: {},\n  admins: {}\n};\n\nconst enhance = compose(\n  withStyles(styles),\n  connect(\n    state => ({ admins: state.admin.resources.admins }),\n    { showDialog, hideDialog, changeCompanyAdmin }\n  )\n);\n\nexport default enhance(SelectAdminField);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Switch from '@material-ui/core/Switch';\n\nimport { changeResourceFlag } from '../../../redux';\n\nclass Flagswitch extends React.Component {\n  constructor(props) {\n    super(props);\n    const { record, source, checkedValue } = this.props;\n    this.state = { status: record[source] == checkedValue ? true : false };\n  }\n\n  handleChange = name => event => {\n    const {\n      record,\n      resource,\n      source,\n      changeResourceFlag,\n      checkedValue,\n      unCheckedValue\n    } = this.props;\n\n    this.setState(\n      {\n        status: event.target.checked\n      },\n      function() {\n        const { status } = this.state;\n\n        changeResourceFlag(resource, record.id, {\n          [source]: status ? checkedValue : unCheckedValue\n        });\n      }\n    );\n  };\n\n  render() {\n    const { status } = this.state;\n    const { checkedValue } = this.props;\n\n    return (\n      <Switch\n        checked={status ? true : false}\n        onChange={this.handleChange()}\n        value={checkedValue}\n      />\n    );\n  }\n}\n\nFlagswitch.defaultProps = {\n  addLabel: true,\n  checkedValue: '1',\n  unCheckedValue: '0'\n};\n\nexport default connect(\n  null,\n  {\n    changeResourceFlag\n  }\n)(Flagswitch);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button, showNotification } from 'react-admin';\nimport Icon from '@material-ui/icons/SupervisorAccount';\nimport { showDialog, hideDialog } from '../../../redux';\n\nimport Admins from '../../../components/BulkActions/Admins';\nimport { bulkChangeCompanyAdmin } from '../../../redux';\n\n/* \n\nPROPS\n==================================\nbasePath: \"/companies\"\nfilterValues: {present: true, featured: false, admin_id: 5}\nlabel: \"Assign an admin\"\nresource: \"companies\"\nselectedIds: [1]\n\n*/\n\nclass BulkAssignAdmin extends React.Component {\n  onQuit = () => {\n    const { hideDialog } = this.props;\n    hideDialog();\n  };\n\n  handleConfirm = id => {\n    const {\n      basePath,\n      bulkChangeCompanyAdmin,\n      //   showNotification,\n      selectedIds\n    } = this.props;\n\n    //we could filter selectedIds to change only what really differs?\n    bulkChangeCompanyAdmin(selectedIds, { admin_id: id }, basePath);\n    this.onQuit();\n  };\n\n  handleDialog = () => {\n    const { label, showDialog, selectedIds } = this.props;\n\n    showDialog({\n      title: `${label} ${selectedIds.length} records`,\n      content: (\n        <div>\n          <Admins onClick={this.handleConfirm} />\n        </div>\n      ),\n      //onConfirm: this.handleConfirm,\n      onClose: this.onQuit\n    });\n  };\n\n  render() {\n    const { label } = this.props;\n\n    return (\n      <Button label={label} onClick={this.handleDialog}>\n        <Icon />\n      </Button>\n    );\n  }\n}\n\nBulkAssignAdmin.defaultProps = {\n  selectedIds: [],\n  label: 'actions.send_message'\n};\n\nexport default connect(\n  null,\n  { bulkChangeCompanyAdmin, showNotification, showDialog, hideDialog }\n)(BulkAssignAdmin);\n","import React from 'react';\n\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ShowButton,\n  TextInput,\n  FunctionField,\n  Filter,\n  BooleanInput,\n  SelectInput\n  // SelectArrayInput,\n  // ReferenceArrayField,\n  // ReferenceManyField,\n  // ReferenceField,\n  // SingleFieldList\n} from 'react-admin';\n\nimport { Admin, CompanyData } from './filters';\n\nimport activeEventId from '../../api/app';\nimport { SendMessageAction } from '../../components';\nimport DoubleTextField from './DoubleTextField';\n\n//import DynamicField from './DynamicField';\n\nimport { Flagswitch, SelectAdminField, BulkAssignAdmin } from './actions';\n\nconst CustomBulkActions = props => (\n  <React.Fragment>\n    <SendMessageAction label=\"Send e-mail message\" {...props} />\n    <BulkAssignAdmin label=\"Assign an admin\" {...props} />\n  </React.Fragment>\n);\n\nconst Filters = props => (\n  <Filter {...props}>\n    <BooleanInput source=\"featured\" label=\"Featured\" />\n    <BooleanInput source=\"present\" alwaysOn label=\"Present\" />\n\n    <TextInput label=\"Search\" source=\"q\" />\n\n    <CompanyData source=\"fields\" label=\"Field\" />\n\n    <Admin source=\"admin_id\" label=\"Admin\" />\n\n    <SelectInput\n      source=\"lang\"\n      choices={[{ id: 'en', name: 'en' }, { id: 'de', name: 'de' }]}\n    />\n  </Filter>\n);\n\nconst customColumns = [];\n\nclass ViewList extends React.Component {\n  render() {\n    //console.log(this.props);\n\n    return (\n      <List\n        {...this.props}\n        filters={<Filters />}\n        filterDefaultValues={{ present: true, featured: false }}\n        filter={{ event_id: activeEventId() }}\n        bulkActionButtons={<CustomBulkActions />}\n        perPage={100}\n      >\n        <Datagrid>\n          <DoubleTextField\n            label=\"Name\"\n            primary=\"profile.name\"\n            secondary=\"slug\"\n          />\n\n          <SelectAdminField source=\"admin_id\" />\n          <Flagswitch source=\"featured\" />\n          <Flagswitch source=\"promo\" />\n\n          {customColumns.map(source => (\n            <TextField key={`_${source}`} source={source} />\n          ))}\n\n          {/* <DynamicField label=\"fields\" /> */}\n\n          <TextField source=\"profile.lang\" label=\"Language\" />\n\n          <FunctionField\n            sortBy=\"featured\"\n            label=\"Present\"\n            render={record =>\n              record.event_ids.indexOf(activeEventId()) > -1 ? `tak` : 'nie'\n            }\n          />\n\n          {/* <FunctionField label=\"Spending\" render={record => `${record.event_ids.length}%`} /> */}\n\n          {/* <FunctionField label=\"Retention\" render={record => `${record.event_ids.length}%`} />\n\n          <FunctionField label=\"Spending\" render={record => `${record.event_ids.length}%`} /> */}\n\n          <ShowButton />\n        </Datagrid>\n      </List>\n    );\n  }\n}\n\nexport default ViewList;\n","const styles = {\n  ok: {\n    backgroundColor: '#468847',\n    color: '#ffffff'\n  },\n\n  hold: {\n    backgroundColor: '#f89406',\n    color: '#ffffff'\n  },\n\n  new: {\n    backgroundColor: '#b94a48',\n    color: '#ffffff'\n  },\n\n  cancelled: {\n    backgroundColor: '#eaeaea',\n    color: '#999999'\n  },\n\n  icon: {\n    color: '#ffffff'\n  },\n\n  highlight: {\n    backgroundColor: '#000000',\n    color: '#ffffff'\n  }\n};\n\nexport default styles;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { showNotification, refreshView, UPDATE } from 'react-admin';\n\nimport compose from 'recompose/compose';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport { withStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/icons/Edit';\n\nimport { statuses as styles } from '../../styles';\nimport { statuses } from '../../api/app';\nimport dataProvider from '../../api/httpClient';\n\nclass PurchaseStatusField extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      control: 'chip',\n      status: this.props.record.status\n    };\n  }\n  handleClick = name => event => {\n    this.setState({ control: 'select' });\n  };\n\n  handleStatusChange = name => event => {\n    this.setState(\n      {\n        //control : \"chip\",\n        status: event.target.value\n      },\n      function() {\n        const { resource, showNotification, refreshView, record } = this.props;\n        const { status } = this.state;\n\n        dataProvider(UPDATE, resource, {\n          id: record.id,\n          data: {\n            status: status\n          }\n        })\n          .then(({ data }) => {\n            showNotification('participants.status.changed', 'info');\n            refreshView();\n          })\n          .catch(e => {\n            console.error(e);\n            showNotification('Error', 'warning');\n          });\n      }\n    );\n  };\n\n  handleClose = name => event => {\n    this.setState({\n      control: 'chip'\n    });\n  };\n\n  select() {\n    const { classes, record, source, ...rest } = this.props;\n    const { status } = this.state;\n\n    return (\n      <Select\n        value={status}\n        onChange={this.handleStatusChange()}\n        onClose={this.handleClose()}\n        classes={{\n          root: classes[record.status],\n          selected: classes.highlight\n        }}\n        open={true}\n      >\n        {statuses\n          .filter(({ id }) => record.status != id)\n          .map(({ id, name }) => (\n            <MenuItem\n              classes={{\n                root: classes[id]\n              }}\n              key={id}\n              value={id}\n            >\n              {name}\n            </MenuItem>\n          ))}\n      </Select>\n    );\n  }\n\n  chip() {\n    const { classes, record, source, ...rest } = this.props;\n    const { status } = this.state;\n\n    // console.log(\"new status\", status);\n\n    return (\n      <Chip\n        classes={{ root: classes[record.status] }}\n        label={record[source]}\n        clickable={true}\n        onClick={this.handleClick()}\n        icon={<Icon className={classes.icon} />}\n      />\n    );\n  }\n\n  render() {\n    const { control } = this.state;\n\n    return this[control]();\n  }\n}\n\nconst enhance = compose(\n  withStyles(styles),\n  connect(\n    null,\n    { showNotification, refreshView }\n  )\n);\n\nexport default enhance(PurchaseStatusField);\n","import React from 'react';\n\nimport get from 'lodash/get';\n\nconst ShowTitle = ({ record }) => {\n  return <span>{record ? `${get(record, 'profile.name')}` : ''}</span>;\n};\n\nexport default ShowTitle;\n","import React from 'react';\nimport {\n  EditButton,\n  RefreshButton,\n  ListButton,\n  CardActions\n} from 'react-admin';\nimport Button from '@material-ui/core/Button';\n\nconst cardActionStyle = {\n  zIndex: 2,\n  display: 'inline-block',\n  float: 'right'\n};\n\nconst ShowActions = ({ basePath, data, resource }) => (\n  <CardActions style={cardActionStyle}>\n    <EditButton basePath={basePath} record={data} />\n    {/* Add your custom actions */}\n    <RefreshButton />\n    <ListButton />\n    <Button color=\"primary\" onClick={null}>\n      Custom Action\n    </Button>\n  </CardActions>\n);\n\nexport default ShowActions;\n","import React from 'react';\nimport {\n  Show,\n  ArrayField,\n  Datagrid,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  DateField,\n  EditButton,\n  ReferenceManyField,\n  NumberField\n} from 'react-admin';\nimport Chip from '@material-ui/core/Chip';\n\nimport PurchaseStatusField from '../purchases/PurchaseStatusField';\nimport ShowTitle from './ShowTitle';\nimport ShowActions from './ShowActions';\nimport { uniqueValues } from '../../api/app';\n\nconst Roles = ({ record, source }) =>\n  record &&\n  source in record &&\n  uniqueValues(record[source]).map(role => <Chip key={role} label={role} />);\nRoles.defaultProps = { record: {}, addLabel: true };\n\nconst ViewShow = props => (\n  <Show actions={<ShowActions />} title={<ShowTitle />} {...props}>\n    <TabbedShowLayout>\n      <Tab label=\"summary\">\n        <Roles source=\"roles\" />\n\n        <ReferenceManyField\n          reference=\"companydata\"\n          target=\"company_id\"\n          label=\"Profile data\"\n        >\n          <Datagrid>\n            <TextField source=\"name\" />\n            <TextField source=\"value\" />\n            <DateField source=\"updated_at\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n      </Tab>\n\n      <Tab label=\"related\" path=\"related\">\n        <ReferenceManyField\n          reference=\"related\"\n          target=\"participant_id\"\n          label=\"Profile data\"\n        >\n          <Datagrid>\n            <TextField source=\"name\" />\n            <TextField source=\"value\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n      </Tab>\n\n      <Tab label=\"Purchases\" path=\"purchases\">\n        <ArrayField source=\"purchases\">\n          <Datagrid>\n            <DateField source=\"created_at\" />\n            <PurchaseStatusField source=\"status\" />\n            <NumberField source=\"amount\" />\n          </Datagrid>\n        </ArrayField>\n\n        <DateField label=\"Publication date\" source=\"published_at\" />\n      </Tab>\n      <Tab label=\"comments\" path=\"comments\">\n        <ReferenceManyField\n          reference=\"comments\"\n          target=\"participant_id\"\n          addLabel={false}\n        >\n          <Datagrid>\n            <TextField source=\"body\" />\n            <DateField source=\"created_at\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n      </Tab>\n    </TabbedShowLayout>\n  </Show>\n);\n\nexport default ViewShow;\n","import React from 'react';\nimport {\n  List,\n  Datagrid,\n  DateField,\n  TextField,\n  NumberField,\n  ChipField,\n  ShowButton,\n  TextInput,\n  SelectInput,\n  Filter\n} from 'react-admin';\n\nimport { statuses } from '../../api/app';\nimport { ReferenceField } from 'react-admin';\nimport {\n  SetStatusAction,\n  SendMessageAction,\n  WithEvent\n} from '../../components';\nimport PurchaseStatusField from './PurchaseStatusField';\n\nconst Filters = props => (\n  <Filter {...props}>\n    <TextInput label=\"Search\" source=\"q\" alwaysOn />\n    <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" />\n\n    <SelectInput source=\"status\" choices={statuses} alwaysOn />\n  </Filter>\n);\n\nconst CustomBulkActions = props => (\n  <React.Fragment>\n    <SetStatusAction label=\"Change status\" {...props} />\n    <SendMessageAction label=\"Send e-mail message\" {...props} />\n  </React.Fragment>\n);\n\nconst ShowParticipantButton = ({ record, basePath, ...rest }) => (\n  <ShowButton\n    {...rest}\n    basePath=\"/participants\"\n    record={{ ...record, id: record.participant_id }}\n  />\n);\n\nconst ViewList = props => (\n  <WithEvent>\n    {activeEventId => (\n      <List\n        bulkActionButtons={<CustomBulkActions />}\n        {...props}\n        perPage={50}\n        filters={<Filters />}\n        filter={{ event_id: activeEventId }}\n      >\n        <Datagrid>\n          <PurchaseStatusField source=\"status\" />\n\n          <TextField source=\"email\" />\n\n          <DateField source=\"created_at\" showTime />\n\n          <NumberField source=\"amount\" textAlign=\"right\" />\n\n          <ReferenceField\n            label=\"Company\"\n            reference=\"companies\"\n            source=\"company_id\"\n            linkType=\"show\"\n          >\n            <ChipField source=\"slug\" sortable={false} />\n          </ReferenceField>\n\n          <ShowParticipantButton />\n        </Datagrid>\n      </List>\n    )}\n  </WithEvent>\n);\n\nexport default ViewList;\n","import React from 'react';\nimport { SelectInput, crudGetList } from 'react-admin';\nimport { connect } from 'react-redux';\n\n//https://github.com/marmelab/react-admin/blob/6015670a863bef868a0cafcfb1706187609a6369/packages/ra-core/src/actions/dataActions.js\n\nclass FilterByTicketId extends React.Component {\n  componentWillMount() {\n    const { crudGetList, event } = this.props;\n\n    crudGetList(\n      'tickets',\n      { page: 1, perPage: 1000 },\n      { field: 'id', order: 'ASC' },\n      { event_id: event.id }\n    );\n  }\n\n  buildTicketList() {\n    const { data, list } = this.props.tickets;\n\n    if (!'ids' in list || !Array.isArray(list.ids)) {\n      return [];\n    }\n\n    return list.ids.map(id => ({ id: data[id].id, name: data[id].name }));\n  }\n\n  render() {\n    const { source, allowEmpty } = this.props;\n\n    return (\n      <SelectInput\n        source={source}\n        allowEmpty={allowEmpty}\n        choices={this.buildTicketList()}\n      />\n    );\n  }\n}\n\nFilterByTicketId.defaultProps = {\n  tickets: {},\n  event: {}\n};\n\nexport default connect(\n  state => ({\n    event: state.app.event,\n    tickets: state.admin.resources.tickets\n  }),\n  { crudGetList }\n)(FilterByTicketId);\n","import React from 'react';\nimport { TextInput, SelectInput, Filter } from 'react-admin';\nimport FilterByTicketId from './FilterByTicketId';\nimport { roles } from '../../api/app';\n\nconst Filters = props => (\n  <Filter {...props}>\n    <TextInput label=\"Search\" source=\"q\" alwaysOn />\n\n    <FilterByTicketId source=\"ticket_id\" alwaysOn allowEmpty />\n\n    <SelectInput source=\"role\" choices={roles} alwaysOn allowEmpty />\n  </Filter>\n);\n\nexport default Filters;\n","import React from 'react';\nimport {\n  List,\n  Datagrid,\n  DateField,\n  TextField,\n  ChipField,\n  ShowButton,\n  DeleteButton,\n  FunctionField\n} from 'react-admin';\n\nimport { ReferenceArrayField, SingleFieldList } from 'react-admin';\nimport {\n  SetStatusAction,\n  SendMessageAction,\n  WithEvent\n} from '../../components';\nimport ListFilters from './ListFilters';\n\nconst CustomBulkActions = props => (\n  <React.Fragment>\n    <SetStatusAction label=\"Change status\" {...props} />\n    <SendMessageAction label=\"Send e-mail message\" {...props} />\n  </React.Fragment>\n);\n\nconst ViewList = props => (\n  <WithEvent>\n    {activeEventId => (\n      <List\n        {...props}\n        perPage={100}\n        filters={<ListFilters />}\n        filter={{ event_id: activeEventId }}\n        bulkActionButtons={<CustomBulkActions />}\n      >\n        <Datagrid>\n          <TextField source=\"email\" />\n          <DateField source=\"created_at\" showTime />\n          <TextField source=\"status\" />\n\n          <ReferenceArrayField\n            label=\"Roles\"\n            reference=\"tickets\"\n            source=\"ticket_ids\"\n          >\n            <SingleFieldList>\n              <FunctionField\n                render={record =>\n                  record.role ? (\n                    <ChipField source=\"role\" record={record} />\n                  ) : (\n                    <span />\n                  )\n                }\n              />\n            </SingleFieldList>\n          </ReferenceArrayField>\n\n          <TextField source=\"lang\" />\n          <ShowButton />\n          <DeleteButton />\n        </Datagrid>\n      </List>\n    )}\n  </WithEvent>\n);\n\nexport default ViewList;\n","import React from 'react';\n\nimport get from 'lodash/get';\n\nconst ShowTitle = ({ record }) => {\n  return (\n    <span>\n      {record\n        ? `${get(record, 'fields.fname')} ${get(record, 'fields.lname')} ${\n            record.email\n          }`\n        : ''}\n    </span>\n  );\n};\n\nexport default ShowTitle;\n","import React from 'react';\nimport {\n  Show,\n  ArrayField,\n  Datagrid,\n  SimpleShowLayout,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  DateField,\n  EditButton,\n  ChipField,\n  ReferenceManyField,\n  NumberField\n} from 'react-admin';\n\nimport PurchaseStatusField from '../purchases/PurchaseStatusField';\nimport Chip from '@material-ui/core/Chip';\nimport ShowTitle from './ShowTitle';\nimport { uniqueValues } from '../../api/app';\n\nconst Roles = ({ record }) => (\n  <div>\n    {record &&\n      'roles' in record &&\n      record.roles.map(role => <Chip key={role} label={role} />)}\n  </div>\n);\n\nRoles.defaultProps = { addLabel: true };\n\nconst MyPurchaseStatusField = ({ resource, ...props }) => (\n  <PurchaseStatusField {...props} resource=\"purchases\" />\n);\n\nconst ViewShow = props => (\n  <Show title={<ShowTitle />} {...props}>\n    <TabbedShowLayout>\n      <Tab label=\"summary\">\n        <Roles source=\"roles\" />\n\n        <TextField source=\"id\" />\n        <TextField source=\"token\" />\n\n        <ReferenceManyField\n          reference=\"fields\"\n          target=\"participant_id\"\n          label=\"Profile data\"\n        >\n          <Datagrid>\n            <TextField source=\"name\" />\n            <TextField source=\"value\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n\n        <TextField source=\"title\" />\n        <TextField source=\"teaser\" />\n      </Tab>\n\n      <Tab label=\"related\" path=\"related\">\n        <ReferenceManyField\n          reference=\"related\"\n          target=\"participant_id\"\n          label=\"Profile data\"\n        >\n          <Datagrid>\n            <TextField source=\"name\" />\n            <TextField source=\"value\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n      </Tab>\n\n      <Tab label=\"Purchases\" path=\"purchases\">\n        <ArrayField source=\"purchases\">\n          <Datagrid>\n            <DateField source=\"created_at\" />\n            <MyPurchaseStatusField source=\"status\" />\n            <NumberField source=\"amount\" />\n          </Datagrid>\n        </ArrayField>\n\n        <TextField\n          label=\"Password (if protected post)\"\n          source=\"password\"\n          type=\"password\"\n        />\n        <DateField label=\"Publication date\" source=\"published_at\" />\n        {/* <NumberField source=\"average_note\" /> */}\n        {/* <BooleanField label=\"Allow comments?\" source=\"commentable\" defaultValue /> */}\n        <TextField label=\"Nb views\" source=\"views\" />\n      </Tab>\n      <Tab label=\"comments\" path=\"comments\">\n        <ReferenceManyField\n          reference=\"comments\"\n          target=\"participant_id\"\n          addLabel={false}\n        >\n          <Datagrid>\n            <TextField source=\"body\" />\n            <DateField source=\"created_at\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n      </Tab>\n    </TabbedShowLayout>\n  </Show>\n);\n\nexport default ViewShow;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\n//import { linkToRecord } from 'ra-core';\nimport { stringify } from 'qs';\n\nimport { Button } from 'react-admin';\n\nconst ShowButton = ({\n  basePath = '',\n  label = 'ra.action.show',\n  record = {},\n  ...rest\n}) => (\n  <Button\n    component={Link}\n    to={{\n      pathname: 'participants',\n      search: stringify(\n        { filter: JSON.stringify({ ticket_id: record.id }) },\n        { strictNullHandling: true }\n      )\n    }}\n    label={label}\n    {...rest}\n  >\n    <ImageEye />\n  </Button>\n);\n\nShowButton.propTypes = {\n  basePath: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object\n};\n\n//const enhance =\n\nexport default ShowButton;\n","import React from 'react';\nimport { TextInput, SelectInput, Filter } from 'react-admin';\n\nconst Filters = props => (\n  <Filter {...props}>\n    <TextInput label=\"Search\" source=\"q\" alwaysOn />\n    <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" />\n\n    <SelectInput\n      source=\"tag\"\n      choices={[\n        { id: 'programming', name: 'Programming' },\n        { id: 'lifestyle', name: 'Lifestyle' },\n        { id: 'photography', name: 'Photography' }\n      ]}\n    />\n  </Filter>\n);\n\nexport default Filters;\n","import React from 'react';\n\nconst TicketTags = ({ record }) => (\n  <ul>\n    {record.tags.map(item => (\n      <li key={item.name}>{item.name}</li>\n    ))}\n  </ul>\n);\n\nTicketTags.defaultProps = { addLabel: true };\n\nexport default TicketTags;\n","import React from 'react';\nimport {\n  List,\n  Datagrid,\n  DateField,\n  TextField,\n  ChipField,\n  FunctionField,\n  NumberField,\n  EditButton\n} from 'react-admin';\n\nimport RelatedParticipants from './RelatedParticipants';\nimport Filters from './Filters';\nimport TicketTags from './TicketTags';\n\nimport { WithEvent } from '../../components';\n\nconst ViewList = props => (\n  <WithEvent>\n    {activeEventId => (\n      <List\n        {...props}\n        perPage={100}\n        filters={<Filters />}\n        filter={{ event_id: activeEventId }}\n      >\n        <Datagrid>\n          <TextField source=\"name\" />\n\n          <FunctionField\n            label=\"role\"\n            render={record =>\n              record.role ? (\n                <ChipField record={record} source=\"role\" />\n              ) : (\n                <span>not set</span>\n              )\n            }\n          />\n\n          <TicketTags source=\"tags\" />\n\n          {/* <ArrayField source=\"tags\">\n              <SingleFieldList>\n              <ChipField source=\"name\" />\n              </SingleFieldList>\n              </ArrayField> */}\n\n          <DateField source=\"start\" showTime />\n          <DateField source=\"end\" showTime />\n\n          <TextField source=\"price\" />\n          <NumberField source=\"limit\" />\n\n          <RelatedParticipants label=\"Show Participants\" />\n          <EditButton />\n        </Datagrid>\n      </List>\n    )}\n  </WithEvent>\n);\n\nexport default ViewList;\n","import React from 'react';\nimport { Edit, SimpleForm, TextInput } from 'react-admin';\n// import ActiveEventButton from './ActiveEventButton';\n// import ActiveEventChipField from './ActiveEventChipField';\n\nimport PurchaseStatusField from '../purchases/PurchaseStatusField';\n\nimport Chip from '@material-ui/core/Chip';\n\nimport get from 'lodash/get';\n\nconst Title = ({ record }) => {\n  return (\n    <span>\n      {record\n        ? `${get(record, 'fields.fname')} ${get(record, 'fields.lname')} ${\n            record.email\n          }`\n        : ''}\n    </span>\n  );\n};\n\nconst Roles = ({ record }) => (\n  <div>\n    {record &&\n      'roles' in record &&\n      record.roles.map(role => <Chip key={role} label={role} />)}\n  </div>\n);\n\nRoles.defaultProps = { addLabel: true };\n\nconst ProfileFields = ({ record }) =>\n  // <ul>{Object.keys(record.fields).map(key => <li key={key}>{record.fields[key]}</li>)}</ul>\n\n  null;\n\nProfileFields.defaultProps = { addLabel: true };\n\nconst redirect = (basePath, id, data) => `/companies/${data.company_id}/show`;\n\nconst TicketEdit = props => (\n  <Edit title={<Title />} {...props}>\n    <SimpleForm redirect={redirect}>\n      <TextInput source=\"value\" />\n    </SimpleForm>\n  </Edit>\n);\n\nexport default TicketEdit;\n","import React from 'react';\nimport {\n  List,\n  Datagrid,\n  ChipField,\n  NumberField,\n  EditButton,\n  ReferenceManyField,\n  SimpleList\n} from 'react-admin';\n\nimport activeEventId from '../../api/app';\n\nconst TagsField = ({ record }) => (\n  <ul>\n    {record.tags.map(item => (\n      <li key={item.name}>{item.name}</li>\n    ))}\n  </ul>\n);\nTagsField.defaultProps = { addLabel: true };\n\nconst BoothColorField = ({ record, ...rest }) => (\n  <ChipField\n    style={{\n      backgroundColor: record.booth.bgcolor,\n      color: record.booth.fontcolor\n    }}\n    record={record}\n    {...rest}\n  />\n);\nBoothColorField.defaultProps = { addLabel: true };\n\nconst ViewList = props => (\n  <List {...props} perPage={100} filter={{ event_id: activeEventId() }}>\n    <Datagrid>\n      <BoothColorField source=\"name\" />\n      <TagsField source=\"tags\" />\n      <NumberField source=\"limit\" />\n\n      <ReferenceManyField\n        label=\"Assigned tickets\"\n        reference=\"tickets\"\n        target=\"ticket_group_id\"\n      >\n        <SimpleList\n          primaryText={record => record.name}\n          secondaryText={record => `${record.start} - ${record.end}`}\n          tertiaryText={record => `${record.price} (${record.limit})`}\n        />\n      </ReferenceManyField>\n\n      <EditButton />\n    </Datagrid>\n  </List>\n);\n\nexport default ViewList;\n","import React from 'react';\nimport { TextField, ChipField } from 'react-admin';\n\nconst ActiveEvent = ({ activeEventId, classes, record, ...rest }) => {\n  return record.active_event.id == activeEventId ? (\n    <ChipField record={record} {...rest} />\n  ) : (\n    <TextField record={record} {...rest} />\n  );\n};\n\nActiveEvent.defaultProps = {\n  addLabel: true\n};\n\nexport default ActiveEvent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\nimport { stringify } from 'qs';\n\nimport { Button } from 'react-admin';\n\nconst RelatedEvents = ({\n  basePath = '',\n  label = 'ra.action.show',\n  record = {},\n  ...rest\n}) => (\n  <Button\n    component={Link}\n    to={{\n      pathname: 'events',\n      search: stringify(\n        { filter: JSON.stringify({ group_id: record.id }) },\n        { strictNullHandling: true }\n      )\n    }}\n    label={label}\n    {...rest}\n  >\n    <ImageEye />\n  </Button>\n);\n\nRelatedEvents.propTypes = {\n  basePath: PropTypes.string,\n  label: PropTypes.string,\n  record: PropTypes.object\n};\n\n//const enhance =\n\nexport default RelatedEvents;\n","import React from 'react';\nimport { List, Datagrid, TextField, ShowButton } from 'react-admin';\n\nimport { WithEvent } from '../../components';\n\nimport ActiveEvent from './ActiveEvent';\nimport RelatedEvents from './RelatedEvents';\n\nconst CustomBulkActions = props => (\n  <React.Fragment>\n    <div>nothing here...</div>\n  </React.Fragment>\n);\n\nconst ViewList = props => (\n  <WithEvent>\n    {activeEventId => (\n      <List\n        actions={null}\n        bulkActionButtons={<CustomBulkActions />}\n        {...props}\n        perPage={200}\n        //filters={<Filters />}\n      >\n        <Datagrid>\n          <TextField source=\"id\" />\n\n          <TextField source=\"name\" />\n\n          <ActiveEvent\n            label=\"Active event\"\n            source=\"active_event.name\"\n            activeEventId={activeEventId}\n          />\n\n          <RelatedEvents label=\"Show events\" />\n\n          <ShowButton label=\"Details\" />\n        </Datagrid>\n      </List>\n    )}\n  </WithEvent>\n);\n\nexport default ViewList;\n","import React from 'react';\nimport {\n  Show,\n  ArrayField,\n  Datagrid,\n  SimpleShowLayout,\n  TextField,\n  DateField\n} from 'react-admin';\n\nimport { WithEvent } from '../../components';\n\nconst Title = ({ record }) => {\n  return <span>{record ? `${record.name} events` : ''}</span>;\n};\n\nconst ViewShow = props => (\n  <WithEvent>\n    {activeEventId => (\n      <Show title={<Title />} {...props}>\n        <SimpleShowLayout>\n          <ArrayField source=\"events\">\n            <Datagrid>\n              <TextField source=\"name\" />\n              <TextField source=\"loc\" />\n              <DateField source=\"starts\" showTime />\n              <DateField source=\"ends\" showTime />\n            </Datagrid>\n          </ArrayField>\n        </SimpleShowLayout>\n      </Show>\n    )}\n  </WithEvent>\n);\n\nexport default ViewShow;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport {\n  showNotification as showNotificationAction,\n  refreshView as refreshViewAction,\n  GET_ONE\n} from 'react-admin';\n//import { push as pushAction } from 'react-router-redux';\nimport dataProvider from '../../../api/httpClient';\n\nimport { changeEvent } from '../../../redux';\n\nclass ChangeAppScopeForEvent extends Component {\n  handleClick = () => {\n    const {\n      // push,\n      record,\n      showNotification,\n      refreshView,\n      changeEvent\n    } = this.props;\n\n    dataProvider(GET_ONE, 'events', { id: record.id })\n      .then(({ data }) => {\n        changeEvent(data);\n\n        showNotification('Event changed!', 'info');\n\n        refreshView();\n      })\n      .catch(e => {\n        console.error(e);\n        showNotification('Error when updating...', 'warning');\n      });\n  };\n\n  render() {\n    const { label, labelSelected, record, activeEventId } = this.props;\n\n    if (!record || !'id' in record || !record.id) {\n      return null;\n    }\n\n    return (\n      <Button\n        disabled={record.id === activeEventId ? true : false}\n        variant={record.id === activeEventId ? 'raised' : 'flat'}\n        color=\"primary\"\n        onClick={this.handleClick}\n      >\n        {record.id === activeEventId ? labelSelected : label}\n      </Button>\n    );\n  }\n}\n\nChangeAppScopeForEvent.defaultProps = {\n  label: 'Select',\n  labelSelected: 'Selected',\n  activeEventId: 0\n};\n\nChangeAppScopeForEvent.propTypes = {\n  push: PropTypes.func,\n  record: PropTypes.object,\n  showNotification: PropTypes.func,\n  activeEventId: PropTypes.number.isRequired\n};\n\nexport default connect(\n  null,\n  {\n    showNotification: showNotificationAction,\n    refreshView: refreshViewAction,\n    // push: pushAction,\n    changeEvent: changeEvent\n  }\n)(ChangeAppScopeForEvent);\n","import React from 'react';\nimport { SelectInput, crudGetList } from 'react-admin';\nimport { connect } from 'react-redux';\n\n//https://github.com/marmelab/react-admin/blob/6015670a863bef868a0cafcfb1706187609a6369/packages/ra-core/src/actions/dataActions.js\n\nclass FilterByGroupId extends React.Component {\n  componentWillMount() {\n    this.props.crudGetList(\n      'groups',\n      { page: 1, perPage: 1000 },\n      { field: 'id', order: 'ASC' },\n      {}\n    );\n  }\n\n  choices() {\n    const { data, list } = this.props.groups;\n\n    if (!'ids' in list || !Array.isArray(list.ids)) {\n      return [];\n    }\n\n    return list.ids.map(id => ({ id: data[id].id, name: data[id].name }));\n  }\n\n  render() {\n    return <SelectInput source=\"group_id\" choices={this.choices()} />;\n  }\n}\n\nFilterByGroupId.defaultProps = {\n  groups: {},\n  event: {}\n};\n\nexport default connect(\n  state => ({\n    event: state.app.event,\n    groups: state.admin.resources.groups\n  }),\n  { crudGetList }\n)(FilterByGroupId);\n","import React from 'react';\nimport { TextInput, SelectInput, Filter } from 'react-admin';\n\nimport FilterByGroupId from './FilterByGroupId';\n\nconst Filters = props => (\n  <Filter {...props}>\n    {/* <TextInput label=\"Search\" source=\"q\" alwaysOn />\n      <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" /> */}\n\n    <FilterByGroupId alwaysOn />\n\n    {/* <SelectInput\n        source=\"tag\"\n        choices={[\n          { id: 'programming', name: 'Programming' },\n          { id: 'lifestyle', name: 'Lifestyle' },\n          { id: 'photography', name: 'Photography' }\n        ]}\n      /> */}\n  </Filter>\n);\n\nexport default Filters;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport {\n  showNotification as showNotificationAction,\n  refreshView as refreshViewAction,\n  GET_ONE\n} from 'react-admin';\n//import { push as pushAction } from 'react-router-redux';\nimport dataProvider from '../../../api/httpClient';\n\nimport { changeEvent } from '../../../redux';\n\n/*\n\nbasePath: \"/groups\"\nclasses: {root: \"ShowActions-root-53\"}\ndata: undefined\nhasCreate: false\nhasEdit: false\nhasList: true\nhasShow: true\nhistory: {length: 50, action: \"POP\", location: {…}, createHref: ƒ, push: ƒ, …}\nid: \"23\"\nlocation: {pathname: \"/groups/23/show\", search: \"\", hash: \"\", state: undefined}\nmatch: {path: \"/groups/:id/show\", url: \"/groups/23/show\", isExact: true, params: {…}}\noptions: {label: \"Events\"}\npermissions: null\nresource: \"groups\"\n\n*/\n\nclass SelectAll extends Component {\n  handleClick = () => {\n    const { groupId, showNotification, refreshView, changeEvent } = this.props;\n\n    alert(groupId);\n\n    return;\n\n    dataProvider(GET_ONE, 'groups', { groupId })\n      .then(({ data }) => {\n        changeEvent(data);\n\n        showNotification('Event changed!', 'info');\n\n        refreshView();\n      })\n      .catch(e => {\n        console.error(e);\n        showNotification('Error when updating...', 'warning');\n      });\n  };\n\n  render() {\n    const { label, labelSelected, groupId } = this.props;\n\n    return (\n      <Button\n        //disabled={record.id === activeEventId ? true : false}\n        //variant={record.id === activeEventId ? 'raised' : 'flat'}\n        color=\"primary\"\n        onClick={this.handleClick}\n      >\n        {label}\n      </Button>\n    );\n  }\n}\n\nSelectAll.defaultProps = {\n  label: 'Select All',\n  labelSelected: 'Selected',\n  groupId: 0\n};\n\nSelectAll.propTypes = {\n  showNotification: PropTypes.func,\n  refreshView: PropTypes.func\n  //  groupId : PropTypes.number.isRequired\n};\n\nexport default connect(\n  null,\n  {\n    showNotification: showNotificationAction,\n    refreshView: refreshViewAction,\n    // push: pushAction,\n    changeEvent: changeEvent\n  }\n)(SelectAll);\n","import React from 'react';\nimport { TextField } from 'react-admin';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  active: {\n    fontWeight: 700\n  },\n  notActive: {}\n};\n\nconst ActiveEvent = ({ classes, record, ...rest }) => (\n  <TextField\n    className={record.is_active ? classes.active : classes.notActive}\n    record={record}\n    {...rest}\n  />\n);\n\nActiveEvent.defaultProps = {\n  addLabel: true\n};\n\nexport default withStyles(styles)(ActiveEvent);\n","import React from 'react';\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ShowButton,\n  DateField,\n  ReferenceField,\n  ChipField\n} from 'react-admin';\n\nimport { WithEvent } from '../../components';\n\nimport ChangeAppScope from './actions/ChangeAppScope';\nimport ListFilters from './ListFilters';\nimport SelectAll from './actions/SelectAll';\nimport ActiveEvent from './ActiveEvent';\n\nconst CustomBulkActions = props => (\n  <React.Fragment>\n    <SelectAll {...props} />\n  </React.Fragment>\n);\n\nconst ViewList = props => (\n  <WithEvent>\n    {activeEventId => (\n      <List\n        actions={null}\n        filters={<ListFilters />}\n        bulkActionButtons={<CustomBulkActions />}\n        {...props}\n        perPage={200}\n      >\n        <Datagrid>\n          <ActiveEvent source=\"name\" />\n\n          <TextField source=\"loc\" />\n          <DateField source=\"starts\" showTime />\n\n          <ReferenceField\n            label=\"Items sold\"\n            reference=\"performance\"\n            source=\"id\"\n            linkType={false}\n          >\n            <ChipField source=\"amount\" sortable={false} />\n          </ReferenceField>\n\n          <ChangeAppScope activeEventId={activeEventId} />\n\n          <ShowButton label=\"Summary\" />\n        </Datagrid>\n      </List>\n    )}\n  </WithEvent>\n);\n\nexport default ViewList;\n","// in src/comments/ApproveButton.js\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport {\n  showNotification as showNotificationAction,\n  refreshView as refreshViewAction,\n  UPDATE\n} from 'react-admin';\n//import { push as pushAction } from 'react-router-redux';\nimport dataProvider from '../../../api/httpClient';\n\nclass ChangeActiveEventButton extends Component {\n  handleClick = () => {\n    /*\n        basePath,\n        push\n        record\n        resource,\n        showNotification\n        */\n\n    console.log(this.props);\n\n    const {\n      //push,\n      record,\n      showNotification,\n      refreshView,\n      resource\n    } = this.props;\n\n    dataProvider(UPDATE, resource, {\n      id: record.group_id,\n      data: {\n        active_event_id: record.id\n      }\n    })\n      .then(({ data }) => {\n        showNotification('Active event changed!', 'info');\n        refreshView();\n      })\n      .catch(e => {\n        console.error(e);\n        showNotification('Error', 'warning');\n      });\n  };\n\n  render() {\n    console.log(this.props);\n\n    const { label, labelSelected, record } = this.props;\n\n    const selected = !!+record.is_active;\n\n    return (\n      <Button\n        disabled={selected}\n        variant={selected ? 'raised' : 'outlined'}\n        color=\"primary\"\n        onClick={this.handleClick}\n      >\n        {selected ? labelSelected : label}\n      </Button>\n    );\n  }\n}\n\nChangeActiveEventButton.defaultProps = {\n  label: 'Set Active',\n  labelSelected: 'Active',\n  id: 0\n};\n\nChangeActiveEventButton.propTypes = {\n  push: PropTypes.func,\n  id: PropTypes.number,\n  showNotification: PropTypes.func\n};\n\nexport default connect(\n  null,\n  {\n    showNotification: showNotificationAction,\n    refreshView: refreshViewAction\n    //    push: pushAction,\n  }\n)(ChangeActiveEventButton);\n","import React from 'react';\nimport {\n  Show,\n  ArrayField,\n  Datagrid,\n  SimpleShowLayout,\n  TextField,\n  DateField,\n  ListButton\n} from 'react-admin';\n\nimport CardActions from '@material-ui/core/CardActions';\nimport { WithEvent } from '../../components';\nimport ChangeActiveEventButton from './actions/ChangeActiveEventButton';\n\nconst Title = ({ record }) => {\n  return <span>{record ? `${record.name}` : ''}</span>;\n};\n\nconst Actions = ({ basePath, ...props }) => (\n  <CardActions>\n    <ListButton basePath={basePath} />\n    {/* <ChangeActiveEventButton {...props} /> */}\n  </CardActions>\n);\n\nconst ViewShow = props => (\n  <WithEvent>\n    {activeEventId => (\n      <Show\n        title={<Title />}\n        actions={<Actions activeEventId={activeEventId} />}\n        {...props}\n      >\n        <SimpleShowLayout>\n          <TextField source=\"name\" />\n          <TextField source=\"loc\" />\n          <TextField source=\"starts\" showTime />\n          <TextField source=\"ends\" showTime />\n\n          {/* <ArrayField source=\"events\">\n          <Datagrid>\n\n          </Datagrid>\n        </ArrayField> */}\n        </SimpleShowLayout>\n      </Show>\n    )}\n  </WithEvent>\n);\n\nexport default ViewShow;\n","import React from 'react';\nimport { Edit, SimpleForm, TextField, TextInput } from 'react-admin';\n\nimport Chip from '@material-ui/core/Chip';\nimport get from 'lodash/get';\n\nconst Title = ({ record }) => {\n  return (\n    <span>{record ? `${get(record, 'company.profile.name')}` : null}</span>\n  );\n};\n\nconst redirect = (basePath, id, data) => `/companies/${data.company_id}/show`;\n\nconst ViewShow = props => (\n  <Edit title={<Title />} {...props}>\n    <SimpleForm redirect={redirect}>\n      <TextField source=\"name\" />\n      <TextInput source=\"value\" />\n    </SimpleForm>\n  </Edit>\n);\n\nexport default ViewShow;\n","import React from 'react';\nimport { Show, TextField } from 'react-admin';\n\nconst Title = ({ record }) => {\n  return <span>{record ? record.value : ''}</span>;\n};\n\nconst ViewShow = props => (\n  <Show title={<Title />} {...props}>\n    <TextField source=\"value\" />\n  </Show>\n);\n\nexport default ViewShow;\n","import React from 'react';\nimport { Edit, SimpleForm, TextField, TextInput } from 'react-admin';\n\nimport get from 'lodash/get';\n\nconst Title = ({ record }) => {\n  return <span>{record ? `${get(record, 'participant.email')}` : ''}</span>;\n};\n\nconst redirect = (basePath, id, data) =>\n  `/participants/${data.participant_id}/show`;\n\nconst ViewShow = props => (\n  <Edit title={<Title />} {...props}>\n    <SimpleForm redirect={redirect}>\n      <TextField source=\"name\" />\n      <TextInput source=\"value\" />\n    </SimpleForm>\n  </Edit>\n);\n\nexport default ViewShow;\n","import React from 'react';\nimport { SelectInput, crudGetList } from 'react-admin';\nimport { connect } from 'react-redux';\n\n//https://github.com/marmelab/react-admin/blob/6015670a863bef868a0cafcfb1706187609a6369/packages/ra-core/src/actions/dataActions.js\n\nclass FilterByTicketId extends React.Component {\n  componentWillMount() {\n    this.props.crudGetList(\n      'tickets',\n      { page: 1, perPage: 100 },\n      { field: 'id', order: 'ASC' },\n      { event_id: this.props.event.id }\n    );\n  }\n\n  buildTicketList() {\n    const { data, list } = this.props.tickets;\n\n    if (!'ids' in list || !Array.isArray(list.ids)) {\n      return [];\n    }\n\n    return list.ids.map(id => ({ id: data[id].id, name: data[id].name }));\n  }\n\n  render() {\n    return <SelectInput source=\"ticket_id\" choices={this.buildTicketList()} />;\n  }\n}\n\nFilterByTicketId.defaultProps = {\n  tickets: {},\n  event: {}\n};\n\nexport default connect(\n  state => ({\n    event: state.app.event,\n    tickets: state.admin.resources.tickets\n  }),\n  { crudGetList }\n)(FilterByTicketId);\n","import React from 'react';\nimport {\n  List,\n  Datagrid,\n  Edit,\n  Create,\n  SimpleForm,\n  DateField,\n  TextField,\n  ChipField,\n  ShowButton,\n  DisabledInput,\n  TextInput,\n  SelectInput,\n  Filter\n} from 'react-admin';\nimport { ReferenceArrayField, SingleFieldList } from 'react-admin';\nimport {\n  SetStatusAction,\n  SendMessageAction,\n  WithEvent\n} from '../../components';\nimport activeEventId from '../../api/app';\nimport FilterByUserId from './FilterByUserId';\n\nconst Filters = props => (\n  <Filter {...props}>\n    <TextInput label=\"Search\" source=\"q\" alwaysOn />\n    <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" />\n\n    <FilterByUserId alwaysOn />\n\n    <SelectInput\n      source=\"tag\"\n      choices={[\n        { id: 'programming', name: 'Programming' },\n        { id: 'lifestyle', name: 'Lifestyle' },\n        { id: 'photography', name: 'Photography' }\n      ]}\n    />\n  </Filter>\n);\n\nconst CustomBulkActions = props => (\n  <React.Fragment>\n    <SetStatusAction label=\"Change status\" {...props} />\n    <SendMessageAction label=\"Send e-mail message\" {...props} />\n  </React.Fragment>\n);\n\nconst ViewList = props => (\n  <WithEvent>\n    {activeEventId => (\n      <List\n        {...props}\n        perPage={100}\n        filters={<Filters />}\n        filter={{ event_id: activeEventId }}\n        bulkActionButtons={<CustomBulkActions />}\n      >\n        <Datagrid>\n          <TextField source=\"email\" />\n          <TextField source=\"status\" />\n\n          <ReferenceArrayField\n            label=\"Roles\"\n            reference=\"tickets\"\n            source=\"ticket_ids\"\n          >\n            <SingleFieldList>\n              <ChipField source=\"role\" />\n            </SingleFieldList>\n          </ReferenceArrayField>\n\n          <DateField source=\"created_at\" showTime />\n          <TextField source=\"amount\" />\n          <ShowButton />\n        </Datagrid>\n      </List>\n    )}\n  </WithEvent>\n);\n\nexport default ViewList;\n","import React from 'react';\nimport {\n  Show,\n  ArrayField,\n  Datagrid,\n  SimpleShowLayout,\n  TabbedShowLayout,\n  Tab,\n  TextField,\n  DateField,\n  EditButton,\n  ChipField,\n  ReferenceManyField,\n  NumberField\n} from 'react-admin';\n// import ActiveEventButton from './ActiveEventButton';\n// import ActiveEventChipField from './ActiveEventChipField';\n\nimport PurchaseStatusField from '../purchases/PurchaseStatusField';\n\nimport Chip from '@material-ui/core/Chip';\n\nimport get from 'lodash/get';\n\nconst Title = ({ record }) => {\n  return (\n    <span>\n      {record\n        ? `${get(record, 'fields.fname')} ${get(record, 'fields.lname')} ${\n            record.email\n          }`\n        : ''}\n    </span>\n  );\n};\n\nconst Roles = ({ record }) => (\n  <div>\n    {record &&\n      'roles' in record &&\n      record.roles.map(role => <Chip key={role} label={role} />)}\n  </div>\n);\n\nRoles.defaultProps = { addLabel: true };\n\nconst ProfileFields = ({ record }) =>\n  // <ul>{Object.keys(record.fields).map(key => <li key={key}>{record.fields[key]}</li>)}</ul>\n\n  null;\n\nProfileFields.defaultProps = { addLabel: true };\n\nconst ViewShow = props => (\n  <Show title={<Title />} {...props}>\n    <TabbedShowLayout>\n      <Tab label=\"summary\">\n        <Roles source=\"roles\" />\n\n        <ReferenceManyField\n          reference=\"fields\"\n          target=\"participant_id\"\n          label=\"Profile data\"\n        >\n          <Datagrid>\n            <TextField source=\"name\" />\n            <TextField source=\"value\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n\n        <ProfileFields source=\"fields\" />\n\n        <TextField label=\"Id\" source=\"id\" />\n        <TextField source=\"title\" />\n        <TextField source=\"teaser\" />\n      </Tab>\n\n      <Tab label=\"related\" path=\"related\">\n        <ReferenceManyField\n          reference=\"related\"\n          target=\"participant_id\"\n          label=\"Profile data\"\n        >\n          <Datagrid>\n            <TextField source=\"name\" />\n            <TextField source=\"value\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n      </Tab>\n\n      <Tab label=\"Purchases\" path=\"purchases\">\n        <ArrayField source=\"purchases\">\n          <Datagrid>\n            <DateField source=\"created_at\" />\n            <PurchaseStatusField source=\"status\" />\n            <NumberField source=\"amount\" />\n          </Datagrid>\n        </ArrayField>\n\n        <TextField\n          label=\"Password (if protected post)\"\n          source=\"password\"\n          type=\"password\"\n        />\n        <DateField label=\"Publication date\" source=\"published_at\" />\n        {/* <NumberField source=\"average_note\" /> */}\n        {/* <BooleanField label=\"Allow comments?\" source=\"commentable\" defaultValue /> */}\n        <TextField label=\"Nb views\" source=\"views\" />\n      </Tab>\n      <Tab label=\"comments\" path=\"comments\">\n        <ReferenceManyField\n          reference=\"comments\"\n          target=\"participant_id\"\n          addLabel={false}\n        >\n          <Datagrid>\n            <TextField source=\"body\" />\n            <DateField source=\"created_at\" />\n            <EditButton />\n          </Datagrid>\n        </ReferenceManyField>\n      </Tab>\n    </TabbedShowLayout>\n  </Show>\n);\n\nexport default ViewShow;\n","import React from 'react';\nimport { Admin, Resource } from 'react-admin';\n\nimport dataProvider from './api/httpClient';\nimport authProvider from './api/authClient';\nimport { customReducers, customSagas } from './redux';\nimport { AppTitle, MyLayout } from './components';\nimport customRoutes from './customRoutes';\n\nimport { CompanyList, CompanyShow } from './endpoints/companies';\nimport { PurchaseList } from './endpoints/purchases';\nimport { ParticipantList, ParticipantShow } from './endpoints/participants';\nimport { TicketList, TicketEdit } from './endpoints/tickets';\nimport { TicketGroupList } from './endpoints/ticketgroups';\nimport { GroupList, GroupShow } from './endpoints/groups';\nimport { EventList, EventShow } from './endpoints/events';\nimport { CompanyDataEdit, CompanyDataShow } from './endpoints/companydata';\nimport { FieldsEdit } from './endpoints/fields';\nimport { MessagesList, MessagesShow } from './endpoints/messages';\n\nimport { activeEventId, lsGet } from './api/app';\n\nexport const canAccess = (permissions, resource) => {\n  if (!activeEventId() && resource !== 'groups') {\n    return false;\n  }\n\n  return true;\n};\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Admin\n        //      title={<AppTitle />}\n        appLayout={MyLayout}\n        customReducers={customReducers}\n        customSagas={customSagas}\n        customRoutes={customRoutes}\n        authProvider={authProvider}\n        dataProvider={dataProvider}\n        initialState={{\n          app: {\n            event: lsGet('activeEvent') || {}\n          }\n        }}\n      >\n        {permissions => [\n          <Resource\n            name=\"purchases\"\n            // options={{ label: 'Purchases' }}\n            list={canAccess(permissions, 'purchases') ? PurchaseList : null}\n          />,\n\n          <Resource\n            name=\"participants\"\n            options={{ label: 'Registrations' }}\n            list={\n              canAccess(permissions, 'participants') ? ParticipantList : null\n            }\n            show={\n              canAccess(permissions, 'participants') ? ParticipantShow : null\n            }\n          />,\n\n          <Resource\n            name=\"companies\"\n            list={canAccess(permissions, 'companies') ? CompanyList : null}\n            show={canAccess(permissions, 'companies') ? CompanyShow : null}\n          />,\n\n          <Resource\n            name=\"reports\"\n            list={canAccess(permissions, 'reports') ? PurchaseList : null}\n          />,\n\n          <Resource\n            name=\"settings\"\n            list={canAccess(permissions, 'settings') ? PurchaseList : null}\n          />,\n\n          <Resource\n            name=\"texts\"\n            list={canAccess(permissions, 'texts') ? PurchaseList : null}\n          />,\n\n          <Resource\n            name=\"feed\"\n            options={{ label: 'Feed' }}\n            list={canAccess(permissions, 'feed') ? PurchaseList : null}\n          />,\n\n          <Resource\n            name=\"tickets\"\n            list={canAccess(permissions, 'tickets') ? TicketList : null}\n            edit={canAccess(permissions, 'tickets') ? TicketEdit : null}\n          />,\n\n          <Resource\n            name=\"ticketgroups\"\n            list={\n              canAccess(permissions, 'ticketgroups') ? TicketGroupList : null\n            }\n          />,\n\n          <Resource\n            name=\"groups\"\n            list={canAccess(permissions, 'groups') ? GroupList : null}\n            show={canAccess(permissions, 'groups') ? GroupShow : null}\n            options={{ label: 'Projects' }}\n          />,\n\n          <Resource\n            name=\"messages\"\n            list={canAccess(permissions, 'messages') ? MessagesList : null}\n            show={canAccess(permissions, 'messages') ? MessagesShow : null}\n          />,\n\n          <Resource\n            name=\"fields\"\n            edit={canAccess(permissions, 'fields') ? FieldsEdit : null}\n          />,\n\n          <Resource\n            name=\"companydata\"\n            edit={\n              canAccess(permissions, 'companydata') ? CompanyDataEdit : null\n            }\n            show={\n              canAccess(permissions, 'companydata') ? CompanyDataShow : null\n            }\n          />,\n\n          <Resource name=\"related\" />,\n\n          <Resource\n            name=\"events\"\n            list={canAccess(permissions, 'events') ? EventList : null}\n            show={canAccess(permissions, 'events') ? EventShow : null}\n          />,\n\n          <Resource name=\"comments\" />,\n\n          <Resource name=\"templates\" />,\n\n          <Resource name=\"messages\" />,\n\n          <Resource name=\"admins\" />\n        ]}\n      </Admin>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}